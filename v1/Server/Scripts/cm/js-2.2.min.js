CodeMirror.defineMode("javascript",function(S,I){var l=S.indentUnit,N=I.json,A=function(){function a(a){return{type:a,style:"keyword"}}var f=a("keyword a"),d=a("keyword b"),c=a("keyword c"),e=a("operator"),b={type:"atom",style:"atom"};return{"if":f,"while":f,"with":f,"else":d,"do":d,"try":d,"finally":d,"return":c,"break":c,"continue":c,"new":c,"delete":c,"throw":c,"var":a("var"),"const":a("var"),let:a("var"),"function":a("function"),"catch":a("catch"),"for":a("for"),"switch":a("switch"),"case":a("case"),"default":a("default"),"in":e,"typeof":e,"instanceof":e,"true":b,"false":b,"null":b,undefined:b,NaN:b,Infinity:b}}(),p=/[+\-*&%=<>!?|]/;function E(c,a,b){a.tokenize=b;return b(c,a)}function u(c,d){var a=false,b;while((b=c.next())!=null){if(b==d&&!a)return false;a=!a&&b=="\\"}return a}var k,B;function g(c,a,b){k=c;B=b;return a}function m(a,c){var b=a.next();if(b=='"'||b=="'")return E(a,c,H(b));else if(/[\[\]{}\(\),;\:\.]/.test(b))return g(b);else if(b=="0"&&a.eat(/x/i)){a.eatWhile(/[\da-f]/i);return g("number","number")}else if(/\d/.test(b)){a.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);return g("number","number")}else if(b=="/")if(a.eat("*"))return E(a,c,G);else if(a.eat("/")){a.skipToEnd();return g("comment","comment")}else if(c.reAllowed){u(a,"/");a.eatWhile(/[gimy]/);return g("regexp","string")}else{a.eatWhile(p);return g("operator",null,a.current())}else if(b=="#"){a.skipToEnd();return g("error","error")}else if(p.test(b)){a.eatWhile(p);return g("operator",null,a.current())}else{a.eatWhile(/[\w\$_]/);var d=a.current(),e=A.propertyIsEnumerable(d)&&A[d];return e&&c.kwAllowed?g(e.type,e.style,d):g("variable","variable",d)}}function H(a){return function(b,c){if(!u(b,a))c.tokenize=m;return g("string","string")}}function G(c,d){var b=false,a;while(a=c.next()){if(a=="/"&&b){d.tokenize=m;break}b=a=="*"}return g("comment","comment")}var v={atom:true,number:true,variable:true,string:true,regexp:true};function y(b,c,f,a,e,d){this.indented=b;this.column=c;this.type=f;this.prev=e;this.info=d;if(a!=null)this.align=a}function P(c,b){for(var a=c.localVars;a;a=a.next)if(a.name==b)return true}function R(c,i,f,e,h){var a=c.cc;b.state=c;b.stream=h;b.marked=null,b.cc=a;if(!c.lexical.hasOwnProperty("align"))c.lexical.align=true;for(;;){var g=a.length?a.pop():N?d:j;if(g(f,e)){while(a.length&&a[a.length-1].lex)a.pop()();return b.marked?b.marked:f=="variable"&&P(c,e)?"variable-2":i}}}var b={state:null,column:null,marked:null,cc:null};function i(){for(var a=arguments.length-1;a>=0;a--)b.cc.push(arguments[a])}function a(){i.apply(null,arguments);return true}function r(d){var a=b.state;if(a.context){b.marked="def";for(var c=a.localVars;c;c=c.next)if(c.name==d)return;a.localVars={name:d,next:a.localVars}}}var J={name:"this",next:{name:"arguments"}};function w(){if(!b.state.context)b.state.localVars=J;b.state.context={prev:b.state.context,vars:b.state.localVars}}function x(){b.state.localVars=b.state.context.vars;b.state.context=b.state.context.prev}function e(d,c){var a=function(){var a=b.state;a.lexical=new y(a.indented,b.stream.column(),d,null,a.lexical,c)};a.lex=true;return a}function c(){var a=b.state;if(a.lexical.prev){if(a.lexical.type==")")a.indented=a.lexical.indented;a.lexical=a.lexical.prev}}c.lex=true;function f(b){return function(c){return c==b?a():b==";"?i():a(arguments.callee)}}function j(b){return b=="var"?a(e("vardef"),s,f(";"),c):b=="keyword a"?a(e("form"),d,j,c):b=="keyword b"?a(e("form"),j,c):b=="{"?a(e("}"),t,c):b==";"?a():b=="function"?a(q):b=="for"?a(e("form"),f("("),e(")"),M,f(")"),c,j,c):b=="variable"?a(e("stat"),L):b=="switch"?a(e("form"),d,e("}","switch"),f("{"),t,c,c):b=="case"?a(d,f(":")):b=="default"?a(f(":")):b=="catch"?a(e("form"),w,f("("),D,f(")"),j,c,x):i(e("stat"),d,f(";"),c)}function d(b){return v.hasOwnProperty(b)?a(h):b=="function"?a(q):b=="keyword c"?a(F):b=="("?a(e(")"),d,f(")"),c,h):b=="operator"?a(d):b=="["?a(e("]"),n(d,"]"),c,h):b=="{"?a(e("}"),n(Q,"}"),c,h):a()}function F(a){return a.match(/[;\}\)\],]/)?i():i(d)}function h(b,g){return b=="operator"&&/\+\+|--/.test(g)?a(h):b=="operator"?a(d):b==";"?void 0:b=="("?a(e(")"),n(d,")"),c,h):b=="."?a(O,h):b=="["?a(e("]"),d,f("]"),c,h):void 0}function L(b){return b==":"?a(c,j):i(h,f(";"),c)}function O(c){if(c=="variable"){b.marked="property";return a()}}function Q(c){if(c=="variable")b.marked="property";if(v.hasOwnProperty(c))return a(f(":"),d)}function n(d,b){function c(e){return e==","?a(d,c):e==b?a():a(f(b))}return function(e){return e==b?a():i(d,c)}}function t(b){return b=="}"?a():i(j,t)}function s(c,b){if(c=="variable"){r(b);return a(C)}return a()}function C(c,b){return b=="="?a(d,C):c==","?a(s):void 0}function M(b){return b=="var"?a(s,o):b==";"?i(o):b=="variable"?a(K):i(o)}function K(c,b){return b=="in"?a(d):a(h,o)}function o(c,b){return c==";"?a(z):b=="in"?a(d):a(d,f(";"),z)}function z(b){b!=")"&&a(d)}function q(b,d){if(b=="variable"){r(d);return a(q)}if(b=="(")return a(e(")"),w,n(D,")"),c,j,x)}function D(c,b){if(c=="variable"){r(b);return a()}}return{startState:function(a){return{tokenize:m,reAllowed:true,kwAllowed:true,cc:[],lexical:new y((a||0)-l,0,"block",false),localVars:null,context:null,indented:0}},token:function(b,a){if(b.sol()){if(!a.lexical.hasOwnProperty("align"))a.lexical.align=false;a.indented=b.indentation()}if(b.eatSpace())return null;var c=a.tokenize(b,a);if(k=="comment")return c;a.reAllowed=k=="operator"||k=="keyword c"||k.match(/^[\[{}\(,;:]$/);a.kwAllowed=k!=".";return R(a,c,k,B,b)},indent:function(f,c){if(f.tokenize!=m)return 0;var e=c&&c.charAt(0),a=f.lexical,b=a.type,d=e==b;return b=="vardef"?a.indented+4:b=="form"&&e=="{"?a.indented:b=="stat"||b=="form"?a.indented+l:a.info=="switch"&&!d?a.indented+(/^(?:case|default)\b/.test(c)?l:2*l):a.align?a.column+(d?0:1):a.indented+(d?0:l)},electricChars:":{}"}});CodeMirror.defineMIME("text/javascript","javascript");CodeMirror.defineMIME("application/json",{name:"javascript",json:true})