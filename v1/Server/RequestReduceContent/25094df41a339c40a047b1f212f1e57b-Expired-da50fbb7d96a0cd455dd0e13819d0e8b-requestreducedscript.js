function get_stack(n){return n?[n.toString().match(/.*\n.*\n/)].concat(get_stack(n.caller)):[]}function _normalizeArguments(n,t,i,r){return $.isPlainObject(n)?n:(n={effect:n},t===undefined&&(t={}),$.isFunction(t)&&(r=t,i=null,t={}),($.type(t)==="number"||$.fx.speeds[t])&&(r=i,i=t,t={}),$.isFunction(i)&&(r=i,i=null),t&&$.extend(n,t),i=i||t.duration,n.duration=$.fx.off?0:typeof i=="number"?i:i in $.fx.speeds?$.fx.speeds[i]:$.fx.speeds._default,n.complete=r||t.complete,n)}function standardSpeed(n){return!n||typeof n=="number"||$.fx.speeds[n]?!0:typeof n=="string"&&!$.jqplot.effects.effect[n]?backCompat&&$.jqplot.effects[n]?!1:!0:!1}var CodeMirror,MarkdownDeep,backCompat,dataSpace,rvertical,rpositivemotion,JSHINT,IDE,ScratchPad,_gaq;$(function(){"use strict";$.support.transition=function(){var i=document.body||document.documentElement,n=i.style,t=n.transition!==undefined||n.WebkitTransition!==undefined||n.MozTransition!==undefined||n.MsTransition!==undefined||n.OTransition!==undefined;return t&&{end:function(){var n="TransitionEnd";return $.browser.webkit?n="webkitTransitionEnd":$.browser.mozilla?n="transitionend":$.browser.opera&&(n="oTransitionEnd"),n}()}}()}),!function(n){"use strict";function e(){var t=this,r=setTimeout(function(){t.$element.off(n.support.transition.end),i.call(t)},500);this.$element.one(n.support.transition.end,function(){clearTimeout(r),i.call(t)})}function i(){this.$element.hide().trigger("hidden"),f.call(this)}function f(t){var f=this,u=this.$element.hasClass("fade")?"fade":"",i;this.isShown&&this.options.backdrop?(i=n.support.transition&&u,this.$backdrop=n('<div class="modal-backdrop '+u+'" />').appendTo(document.body),this.options.backdrop!="static"&&this.$backdrop.click(n.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),i?this.$backdrop.one(n.support.transition.end,t):t()):!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),n.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(n.support.transition.end,n.proxy(r,this)):r.call(this)):t&&t()}function r(){this.$backdrop.remove(),this.$backdrop=null}function u(){var t=this;if(this.isShown&&this.options.keyboard)n(document).on("keyup.dismiss.modal",function(n){n.which==27&&t.hide()});else this.isShown||n(document).off("keyup.dismiss.modal")}var t=function(t,i){this.options=n.extend({},n.fn.modal.defaults,i),this.$element=n(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",n.proxy(this.hide,this))};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this;if(this.isShown)return;this.isShown=!0,this.$element.trigger("show"),u.call(this),f.call(this,function(){var i=n.support.transition&&t.$element.hasClass("fade");!t.$element.parent().length&&t.$element.appendTo(document.body),t.$element.show(),i&&t.$element[0].offsetWidth,t.$element.addClass("in"),i?t.$element.one(n.support.transition.end,function(){t.$element.trigger("shown")}):t.$element.trigger("shown")})},hide:function(t){t&&t.preventDefault();if(!this.isShown)return;var r=this;this.isShown=!1,u.call(this),this.$element.trigger("hide").removeClass("in"),n.support.transition&&this.$element.hasClass("fade")?e.call(this):i.call(this)}},n.fn.modal=function(i){return this.each(function(){var u=n(this),r=u.data("modal"),f=typeof i=="object"&&i;r||u.data("modal",r=new t(this,f)),typeof i=="string"?r[i]():r.show()})},n.fn.modal.defaults={backdrop:!0,keyboard:!0},n.fn.modal.Constructor=t,n(function(){n("body").on("click.modal.data-api",'[data-toggle="modal"]',function(t){var r=n(this),i=n(r.attr("data-target")||r.attr("href")),u=i.data("modal")?"toggle":n.extend({},i.data(),r.data());t.preventDefault(),i.modal(u)})})}(window.jQuery),!function(n){"use strict";function i(){n(r).parent().removeClass("open")}var r='[data-toggle="dropdown"]',t=function(t){n(t).bind("click",this.toggle)};t.prototype={constructor:t,toggle:function(){var u=n(this),e=u.attr("data-target")||u.attr("href"),r=n(e),f;return r.length||(r=u.parent()),f=r.hasClass("open"),i(),!f&&r.toggleClass("open"),!1}},n.fn.dropdown=function(i){return this.each(function(){var u=n(this),r=u.data("dropdown");r||u.data("dropdown",r=new t(this)),typeof i=="string"&&r[i].call(u)})},n.fn.dropdown.Constructor=t,n(function(){n(window).on("click.dropdown.data-api",i);n("body").on("click.dropdown.data-api",r,t.prototype.toggle)})}(window.jQuery),!function(n){"use strict";function t(t){var i=n.proxy(this.process,this);this.$scrollElement=n(t).on("scroll.scroll.data-api",i),this.selector=(this.$scrollElement.attr("data-target")||this.$scrollElement.attr("href")||"")+" .nav li > a",this.$body=n("body").on("click.scroll.data-api",this.selector,i),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){this.targets=this.$body.find(this.selector).map(function(){var t=n(this).attr("href");return/^#\w/.test(t)&&n(t).length?t:null}),this.offsets=n.map(this.targets,function(t){return n(t).position().top})},process:function(){for(var i=this.$scrollElement.scrollTop()+10,t=this.offsets,r=this.targets,u=this.activeTarget,n=t.length;n--;)u!=r[n]&&i>=t[n]&&(!t[n+1]||i<=t[n+1])&&this.activate(r[n])},activate:function(n){var t;this.activeTarget=n,this.$body.find(this.selector).parent(".active").removeClass("active"),t=this.$body.find(this.selector+'[href="'+n+'"]').parent("li").addClass("active"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active")}},n.fn.scrollspy=function(i){return this.each(function(){var u=n(this),r=u.data("scrollspy");r||u.data("scrollspy",r=new t(this)),typeof i=="string"&&r[i]()})},n.fn.scrollspy.Constructor=t,n(function(){n('[data-spy="scroll"]').scrollspy()})}(window.jQuery),!function(n){"use strict";var t=function(t){this.element=n(t)};t.prototype={constructor:t,show:function(){var t=this.element,u=t.closest("ul:not(.dropdown-menu)"),f=t.attr("data-target")||t.attr("href"),i,r;if(t.parent("li").hasClass("active"))return;i=u.find(".active a").last()[0],t.trigger({type:"show",relatedTarget:i}),r=n(f),this.activate(t.parent("li"),u),this.activate(r,r.parent(),function(){t.trigger({type:"shown",relatedTarget:i})})},activate:function(t,i,r){function f(){u.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),e?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),r&&r()}var u=i.find("> .active"),e=r&&n.support.transition&&u.hasClass("fade");e?u.one(n.support.transition.end,f):f(),u.removeClass("in")}},n.fn.tab=function(i){return this.each(function(){var u=n(this),r=u.data("tab");r||u.data("tab",r=new t(this)),typeof i=="string"&&r[i]()})},n.fn.tab.Constructor=t,n(function(){n("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),n(this).tab("show")})})}(window.jQuery),!function(n){"use strict";var t=function(n,t){this.init("tooltip",n,t)};t.prototype={constructor:t,init:function(t,i,r){var f,u;this.type=t,this.$element=n(i),this.options=this.getOptions(r),this.enabled=!0;if(this.options.trigger!="manual"){f=this.options.trigger=="hover"?"mouseenter":"focus",u=this.options.trigger=="hover"?"mouseleave":"blur";this.$element.on(f,this.options.selector,n.proxy(this.enter,this));this.$element.on(u,this.options.selector,n.proxy(this.leave,this))}this.options.selector?this._options=n.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=n.extend({},n.fn[this.type].defaults,t,this.$element.data()),t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var i=n(t.currentTarget)[this.type](this._options).data(this.type);i.options.delay&&i.options.delay.show?(i.hoverState="in",setTimeout(function(){i.hoverState=="in"&&i.show()},i.options.delay.show)):i.show()},leave:function(t){var i=n(t.currentTarget)[this.type](this._options).data(this.type);i.options.delay&&i.options.delay.hide?(i.hoverState="out",setTimeout(function(){i.hoverState=="out"&&i.hide()},i.options.delay.hide)):i.hide()},show:function(){var t,f,n,u,e,i,r;if(this.hasContent()&&this.enabled){t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),i=typeof this.options.placement=="function"?thing.call(this,t[0],this.$element[0]):this.options.placement,f=/in/.test(i),t.remove().css({top:0,left:0,display:"block"}).appendTo(f?this.$element:document.body),n=this.getPosition(f),u=t[0].offsetWidth,e=t[0].offsetHeight;switch(f?i.split(" ")[1]:i){case"bottom":r={top:n.top+n.height,left:n.left+n.width/2-u/2};break;case"top":r={top:n.top-e,left:n.left+n.width/2-u/2};break;case"left":r={top:n.top+n.height/2-e/2,left:n.left-u};break;case"right":r={top:n.top+n.height/2-e/2,left:n.left+n.width}}t.css(r).addClass(i).addClass("in")}},setContent:function(){var n=this.tip();n.find(".tooltip-inner").html(this.getTitle()),n.removeClass("fade in top bottom left right")},hide:function(){function i(){var i=setTimeout(function(){t.off(n.support.transition.end).remove()},500);t.one(n.support.transition.end,function(){clearTimeout(i),t.remove()})}var r=this,t=this.tip();t.removeClass("in"),n.support.transition&&this.$tip.hasClass("fade")?i():t.remove()},fixTitle:function(){var n=this.$element;(n.attr("title")||typeof n.attr("data-original-title")!="string")&&n.attr("data-original-title",n.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(t){return n.extend({},t?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var n,i=this.$element,t=this.options;return n=i.attr("data-original-title")||(typeof t.title=="function"?t.title.call(i[0]):t.title),n=n.toString().replace(/(^\s*|\s*$)/,"")},tip:function(){return this.$tip=this.$tip||n(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}},n.fn.tooltip=function(i){return this.each(function(){var u=n(this),r=u.data("tooltip"),f=typeof i=="object"&&i;r||u.data("tooltip",r=new t(this,f)),typeof i=="string"&&r[i]()})},n.fn.tooltip.Constructor=t,n.fn.tooltip.defaults={animation:!0,delay:0,selector:!1,placement:"top",trigger:"hover",title:"",template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}}(window.jQuery),!function(n){"use strict";var t=function(n,t){this.init("popover",n,t)};t.prototype=n.extend({},n.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var t=this.tip(),r=this.getTitle(),i=this.getContent();t.find(".title")[n.type(r)=="object"?"append":"html"](r),t.find(".content > *")[n.type(i)=="object"?"append":"html"](i),t[0].className="popover"},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var n,i=this.$element,t=this.options;return n=i.attr("data-content")||(typeof t.content=="function"?t.content.call(i[0]):t.content),n=n.toString().replace(/(^\s*|\s*$)/,"")},tip:function(){return this.$tip||(this.$tip=n(this.options.template)),this.$tip}}),n.fn.popover=function(i){return this.each(function(){var u=n(this),r=u.data("popover"),f=typeof i=="object"&&i;r||u.data("popover",r=new t(this,f)),typeof i=="string"&&r[i]()})},n.fn.popover.Constructor=t,n.fn.popover.defaults=n.extend({},n.fn.tooltip.defaults,{placement:"right",content:"",template:'<div class="popover"><div class="arrow"></div><div class="inner"><h3 class="title"></h3><div class="content"><p></p></div></div></div>'})}(window.jQuery),!function(n){"use strict";var i='[data-dismiss="alert"]',t=function(t){n(t).on("click",i,this.close)};t.prototype={constructor:t,close:function(t){function u(){i.remove(),i.trigger("closed")}var r=n(this),f=r.attr("data-target")||r.attr("href"),i=n(f);i.trigger("close"),t&&t.preventDefault(),i.length||(i=r.hasClass("alert-message")?r:r.parent()),i.removeClass("in"),n.support.transition&&i.hasClass("fade")?i.on(n.support.transition.end,u):u()}},n.fn.alert=function(i){return this.each(function(){var u=n(this),r=u.data("alert");r||u.data("alert",r=new t(this)),typeof i=="string"&&r[i].call(u)})},n.fn.alert.Constructor=t,n(function(){n("body").on("click.alert.data-api",i,t.prototype.close)})}(window.jQuery),!function(n){"use strict";var t=function(t,i){this.$element=n(t),this.options=n.extend({},n.fn.button.defaults,i)};t.prototype={constructor:t,setState:function(n){var i="disabled",t=this.$element,u=t.data(),r=t.is("input")?"val":"html";n=n+"Text",u.resetText||t.data("resetText",t[r]()),t[r](u[n]||this.options[n]),setTimeout(function(){n=="loadingText"?t.addClass(i).attr(i,i):t.removeClass(i).removeAttr(i)},0)},toggle:function(){var n=this.$element.parent('[data-toggle="buttons-radio"]');n&&n.find(".active").removeClass("active"),this.$element.toggleClass("active")}},n.fn.button=function(i){return this.each(function(){var u=n(this),r=u.data("button"),f=typeof i=="object"&&i;r||u.data("button",r=new t(this,f)),i=="toggle"?r.toggle():i&&r.setState(i)})},n.fn.button.defaults={loadingText:"loading..."},n.fn.button.Constructor=t,n(function(){n("body").on("click.button.data-api","[data-toggle^=button]",function(t){n(t.target).button("toggle")})})}(window.jQuery),!function(n){"use strict";var t=function(t,i){this.$element=n(t),this.options=n.extend({},n.fn.collapse.defaults,i),this.options.parent&&(this.$parent=n(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var n=this.$element.hasClass("width");return n?"width":"height"},show:function(){var i=this.dimension(),u=n.camelCase(["scroll",i].join("-")),t=this.$parent&&this.$parent.find(".in"),r;t&&t.length&&(r=t.data("collapse"),t.collapse("hide"),r||t.data("collapse",null)),this.$element[i](0),this.transition("addClass","show","shown"),this.$element[i](this.$element[0][u])},hide:function(){var n=this.dimension();this.reset(this.$element[n]()),this.transition("removeClass","hide","hidden"),this.$element[n](0)},reset:function(n){var t=this.dimension();this.$element.removeClass("collapse")[t](n||"")[0].offsetWidth,this.$element.addClass("collapse")},transition:function(t,i,r){var f=this,u=function(){i=="show"&&f.reset(),f.$element.trigger(r)};this.$element.trigger(i)[t]("in"),n.support.transition&&this.$element.hasClass("collapse")?this.$element.one(n.support.transition.end,u):u()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}},n.fn.collapse=function(i){return this.each(function(){var u=n(this),r=u.data("collapse"),f=typeof i=="object"&&i;r||u.data("collapse",r=new t(this,f)),typeof i=="string"&&r[i]()})},n.fn.collapse.defaults={toggle:!0},n.fn.collapse.Constructor=t,n(function(){n("body").on("click.collapse.data-api","[data-toggle=collapse]",function(t){var i=n(this),r=i.attr("data-target")||i.attr("href"),u=n(r).data("collapse")?"toggle":i.data();t.preventDefault(),n(r).collapse(u)})})}(window.jQuery),!function(n){"use strict";var t=function(t,i){this.$element=n(t),this.options=n.extend({},n.fn.carousel.defaults,i),this.options.slide&&this.slide(this.options.slide)};t.prototype={cycle:function(){return this.interval=setInterval(n.proxy(this.next,this),this.options.interval),this},pause:function(){return clearInterval(this.interval),this},next:function(){if(!this.sliding)return this.slide("next")},prev:function(){if(!this.sliding)return this.slide("prev")},slide:function(t){var u=this.$element.find(".active"),i=u[t](),e=this.interval,r=t=="next"?"left":"right",o=t=="next"?"first":"last",f=this;this.sliding=!0,e&&this.pause(),i=i.length?i:this.$element.find(".item")[o]();if(!n.support.transition&&this.$element.hasClass("slide"))this.$element.trigger("slide"),u.removeClass("active"),i.addClass("active"),this.$element.trigger("slid"),this.sliding=!1;else{i.addClass(t),i[0].offsetWidth,u.addClass(r),i.addClass(r),this.$element.trigger("slide");this.$element.one(n.support.transition.end,function(){i.removeClass([t,r].join(" ")).addClass("active"),u.removeClass(["active",r].join(" ")),f.$element.trigger("slid"),f.sliding=!1})}return e&&this.cycle(),this}},n.fn.carousel=function(i){return this.each(function(){var f=n(this),r=f.data("carousel"),u=typeof i=="object"&&i;r||f.data("carousel",r=new t(this,u)),typeof i=="string"||(i=u.slide)?r[i]():r.cycle()})},n.fn.carousel.defaults={interval:5e3},n.fn.carousel.Constructor=t,n(function(){n("body").on("click.carousel.data-api","[data-slide]",function(){var r=n(this),i=n(r.attr("data-target")||r.attr("href")),u=!i.data("modal")&&n.extend({},i.data(),r.data());i.carousel(u)})})}(window.jQuery),!function(n){"use strict";var t=function(t,i){this.$element=n(t),this.options=n.extend({},n.fn.typeahead.defaults,i),this.$menu=n(this.options.menu).appendTo("body"),this.data=this.options.data,this.shown=!1,this.listen()};t.prototype={constructor:t,matcher:function(n,t){return~n.indexOf(t)},select:function(){var n=this.$menu.find(".active").attr("data-value");return this.$element.val(n),this.hide()},show:function(){var t=n.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});return this.$menu.css({top:t.top+t.height,left:t.left}),this.$menu.show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var i=this.$element.val(),r=this,t;if(!i)return this.shown?this.hide():this;return t=this.data.filter(function(n){if(r.matcher(n,i))return n}),t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},render:function(t){var i=this;return t=n(t).map(function(t,r){return t=n(i.options.item).attr("data-value",r),t.find("a").text(r),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(){var r=this.$menu.find(".active").removeClass("active"),i=r.next();i.length||(i=n(this.$menu.find("li")[0])),i.addClass("active")},prev:function(){var i=this.$menu.find(".active").removeClass("active"),t=i.prev();t.length||(t=this.$menu.find("li").last()),t.addClass("active")},keyup:function(n){n.stopPropagation(),n.preventDefault();switch(n.keyCode){case 40:case 38:break;case 9:case 13:this.select();break;case 27:this.hide();break;default:this.lookup()}},keypress:function(n){n.stopPropagation();switch(n.keyCode){case 9:case 13:case 27:n.preventDefault();break;case 38:if(!this.shown)return;n.preventDefault(),this.prev();break;case 40:if(!this.shown)return;n.preventDefault(),this.next()}},blur:function(n){var t=this;n.stopPropagation(),n.preventDefault(),setTimeout(function(){t.hide()},150)},click:function(n){n.stopPropagation(),n.preventDefault(),this.select()},mouseenter:function(t){this.$menu.find(".active").removeClass("active"),n(t.currentTarget).addClass("active")},listen:function(){this.$element.on("blur",n.proxy(this.blur,this)).on("keypress",n.proxy(this.keypress,this)).on("keyup",n.proxy(this.keyup,this));if(n.browser.webkit||n.browser.msie)this.$element.on("keydown",n.proxy(this.keypress,this));this.$menu.on("click",n.proxy(this.click,this)).on("mouseenter","li",n.proxy(this.mouseenter,this))}},n.fn.typeahead=function(i){return this.each(function(){var u=n(this),r=u.data("typeahead"),f=typeof i=="object"&&i;r||u.data("typeahead",r=new t(this,f)),typeof i=="string"&&r[i]()})},n.fn.typeahead.defaults={items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>'},n.fn.typeahead.Constructor=t,n(function(){n("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var i=n(this);if(i.data("typeahead"))return;t.preventDefault(),i.typeahead(i.data())})})}(window.jQuery),Array.prototype.has=function(n){for(var t=this.length;t--;)if(this[t]==n)return!0;return!1},function($,undefined){function wls(n,t){var i;if(typeof n=="string"&&typeof t=="string")return localStorage[n]=t,!0;if(typeof n=="object"&&typeof t=="undefined"){for(i in n)n.hasOwnProperty(i)&&(localStorage[i]=n[i]);return!0}return!1}function wc(n,t){var r,u,i;r=new Date,r.setTime(r.getTime()+31536e6),u="; expires="+r.toGMTString();if(typeof n=="string"&&typeof t=="string")return document.cookie=n+"="+t+u+"; path=/",!0;if(typeof n=="object"&&typeof t=="undefined"){for(i in n)n.hasOwnProperty(i)&&(document.cookie=i+"="+n[i]+u+"; path=/");return!0}return!1}function rls(n){return localStorage[n]}function rc(n){for(var t,u=n+"=",r=document.cookie.split(";"),i=0;i<r.length;i++){t=r[i];while(t.charAt(0)===" ")t=t.substring(1,t.length);if(t.indexOf(u)===0)return t.substring(u.length,t.length)}return null}function dls(n){return delete localStorage[n]}function dc(n){return wc(n,"",-1)}function str_parts(n,t){var r=[],u=n.length,i;if(u<t)return[n];for(i=0;i<u;i+=t)r.push(n.substring(i,i+t));return r}function encodeHTML(n){if(typeof n=="string"){n=n.replace(/&(?!#[0-9]*;)/g,"&amp;"),n=n.replace(/</g,"&lt;").replace(/>/g,"&gt;"),n=n.replace(/\n/g,"<br/>"),n=n.replace(/ /g,"&nbsp;"),n=n.replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;");var t=n.split(format_split_re);return t.length>1&&(n=$.map(t,function(t){return t===""?t:t[0]=="["?t.replace(format_re,function(t,i,r,u,f){if(f==="")return"<span>&nbsp;</span>";var e="";return i.indexOf("b")!=-1&&(e+="font-weight:bold;"),i.indexOf("u")!=-1&&(e+="text-decoration:underline;"),i.indexOf("i")!=-1&&(e+="font-style:italic; "),r.match(color_hex_re)&&(e+="color:"+r+";"),u.match(color_hex_re)&&(e+="background-color:"+u),n='<span style="'+e+'">'+f+"</span>"}):"<span>"+t+"</span>"}).join("")),n}return""}function Cycle(n){var t=n?[n]:[],i=0;$.extend(this,{rotate:function(){return t.length==1?t[0]:(i==t.length-1?i=0:++i,t[i])},length:function(){return t.length},set:function(n){for(var r=t.length;r--;)if(t[r]===n){i=r;return}this.append(n)},front:function(){return t[i]},append:function(n){t.push(n)}})}function BCycle(n){var i=n instanceof Array?n:n?[n]:[],t=0;$.extend(this,{left:function(){return t===0?t=i.length-1:--t,i[t]},right:function(){return t==i.length-1?t=0:++t,i[t]},current:function(){return i[t]},data:function(){return i},length:function(){return i.length},reset:function(){t=0},append:function(n){i.push(n),this.reset()}})}function Stack(n){var t=n?[n]:[];$.extend(this,{size:function(){return t.length},pop:function(){if(t.length===0)return null;var n=t[t.length-1];return t=t.slice(0,t.length-1),n},push:function(n){return t=t.concat([n]),n},top:function(){return t.length>0?t[t.length-1]:null}})}function History(name){var enabled=!0,data,bc;typeof name=="string"&&name!==""&&(name+="_"),data=$.Storage.get(name+"commands"),bc=new BCycle(data?eval("("+data+")"):[""]),$.extend(this,{append:function(n){enabled&&bc.current()!=n&&(bc.append(n),$.Storage.set(name+"commands",$.json_stringify(bc.data())))},data:function(){return bc.data()},next:function(){return bc.right()},last:function(){bc.reset()},previous:function(){return bc.left()},clear:function(){bc=new BCycle,$.Storage.remove(name+"commands")},enable:function(){enabled=!0},disable:function(){enabled=!1}})}var init,isLS;$.extend($.fn,{livequery:function(n,t,i){var u=this,r;return $.isFunction(n)&&(i=t,t=n,n=undefined),$.each($.livequery.queries,function(f,e){if(u.selector==e.selector&&u.context==e.context&&n==e.type&&(!t||t.$lqguid==e.fn.$lqguid)&&(!i||i.$lqguid==e.fn2.$lqguid))return(r=e)&&!1}),r=r||new $.livequery(this.selector,this.context,n,t,i),r.stopped=!1,r.run(),this},expire:function(n,t,i){var r=this,u=10;return $.isFunction(n)&&(i=t,t=n,n=undefined),$.each($.livequery.queries,function(u,f){r.selector!=f.selector||r.context!=f.context||n&&n!=f.type||t&&t.$lqguid!=f.fn.$lqguid||i&&i.$lqguid!=f.fn2.$lqguid||this.stopped||$.livequery.stop(f.id)}),this}}),$.livequery=function(n,t,i,r,u){return this.selector=n,this.context=t||document,this.type=i,this.fn=r,this.fn2=u,this.elements=[],this.stopped=!1,this.id=$.livequery.queries.push(this)-1,r.$lqguid=r.$lqguid||$.livequery.guid++,u&&(u.$lqguid=u.$lqguid||$.livequery.guid++),this},$.livequery.prototype={stop:function(){var n=this;this.type?this.elements.unbind(this.type,this.fn):this.fn2&&this.elements.each(function(t,i){n.fn2.apply(i)}),this.elements=[],this.stopped=!0},run:function(){if(this.stopped)return;var i=this,n=this.elements,t=$(this.selector,this.context),r=t.not(n);this.elements=t,this.type?(r.bind(this.type,this.fn),n.length>0&&$.each(n,function(n,r){$.inArray(r,t)<0&&$.event.remove(r,i.type,i.fn)})):(r.each(function(){i.fn.apply(this)}),this.fn2&&n.length>0&&$.each(n,function(n,r){$.inArray(r,t)<0&&i.fn2.apply(r)}))}},$.extend($.livequery,{guid:0,queries:[],queue:[],running:!1,timeout:null,checkQueue:function(){if($.livequery.running&&$.livequery.queue.length){var n=$.livequery.queue.length;while(n--)$.livequery.queries[$.livequery.queue.shift()].run()}},pause:function(){$.livequery.running=!1},play:function(){$.livequery.running=!0,$.livequery.run()},registerPlugin:function(){$.each(arguments,function(n,t){if(!$.fn[t])return;var i=$.fn[t];$.fn[t]=function(){var n=i.apply(this,arguments);return $.livequery.run(),n}})},run:function(n){n!=undefined?$.inArray(n,$.livequery.queue)<0&&$.livequery.queue.push(n):$.each($.livequery.queries,function(n){$.inArray(n,$.livequery.queue)<0&&$.livequery.queue.push(n)}),$.livequery.timeout&&clearTimeout($.livequery.timeout),$.livequery.timeout=setTimeout($.livequery.checkQueue,20)},stop:function(n){n!=undefined?$.livequery.queries[n].stop():$.each($.livequery.queries,function(n){$.livequery.queries[n].stop()})}}),$.livequery.registerPlugin("append","prepend","after","before","wrap","attr","removeAttr","addClass","removeClass","toggleClass","empty","remove"),$(function(){$.livequery.play()}),init=$.prototype.init,$.prototype.init=function(n,t){var i=init.apply(this,arguments);return n&&n.selector&&(i.context=n.context,i.selector=n.selector),typeof n=="string"&&(i.context=t||document,i.selector=n),i},$.prototype.init.prototype=$.prototype,isLS=typeof window.localStorage!="undefined",$.extend({Storage:{set:isLS?wls:wc,get:isLS?rls:rc,remove:isLS?dls:dc}}),jQuery.fn.extend({everyTime:function(n,t,i,r,u){return this.each(function(){jQuery.timer.add(this,n,t,i,r,u)})},oneTime:function(n,t,i){return this.each(function(){jQuery.timer.add(this,n,t,i,1)})},stopTime:function(n,t){return this.each(function(){jQuery.timer.remove(this,n,t)})}}),jQuery.extend({timer:{guid:1,global:{},regex:/^([0-9]+)\s*(.*s)?$/,powers:{ms:1,cs:10,ds:100,s:1e3,das:1e4,hs:1e5,ks:1e6},timeParse:function(n){var t,r,i;return n==undefined||n===null?null:(t=this.regex.exec(jQuery.trim(n.toString())),t[2]?(r=parseInt(t[1],10),i=this.powers[t[2]]||1,r*i):n)},add:function(n,t,i,r,u,f){var o=0,e;jQuery.isFunction(i)&&(u||(u=r),r=i,i=t),t=jQuery.timer.timeParse(t);if(typeof t!="number"||isNaN(t)||t<=0)return;u&&u.constructor!=Number&&(f=!!u,u=0),u=u||0,f=f||!1,n.$timers||(n.$timers={}),n.$timers[i]||(n.$timers[i]={}),r.$timerID=r.$timerID||this.guid++,e=function(){if(f&&this.inProgress)return;this.inProgress=!0,(++o>u&&u!==0||r.call(n,o)===!1)&&jQuery.timer.remove(n,i,r),this.inProgress=!1},e.$timerID=r.$timerID,n.$timers[i][r.$timerID]||(n.$timers[i][r.$timerID]=window.setInterval(e,t)),this.global[i]||(this.global[i]=[]),this.global[i].push(n)},remove:function(n,t,i){var r=n.$timers,u,i;if(r){if(t){if(r[t]){if(i)i.$timerID&&(window.clearInterval(r[t][i.$timerID]),delete r[t][i.$timerID]);else for(i in r[t])window.clearInterval(r[t][i]),delete r[t][i];for(u in r[t])break;u||(u=null,delete r[t])}}else for(t in r)this.remove(n,t,i);for(u in r)break;u||(n.$timers=null)}}}});if(jQuery.browser.msie)jQuery(window).one("unload",function(){var r=jQuery.timer.global,i,n,t;for(i in r){n=r[i],t=n.length;while(--t)jQuery.timer.remove(n[t],i)}});var format_split_re=/(\[\[[biu]*;[^;]*;[^\]]*\][^\]\[]*\])/g,format_re=/\[\[([biu]*);([^;]*);([^\]]*)\]([^\]\[]*)\]/g,color_hex_re=/#([0-9A-Fa-f]{3}|[0-9A-Fa-f]{6})/;$.json_stringify=function(n,t){var i="",r,s,o,u,f,e;t=t===undefined?1:t,s=typeof n;switch(s){case"function":i+=n;break;case"boolean":i+=n?"true":"false";break;case"object":if(n===null)i+="null";else if(n instanceof Array){for(i+="[",o=n.length,r=0;r<o-1;++r)i+=$.json_stringify(n[r],t+1);i+=$.json_stringify(n[o-1],t+1)+"]"}else{i+="{";for(u in n)n.hasOwnProperty(u)&&(i+='"'+u+'":'+$.json_stringify(n[u],t+1));i+="}"}break;case"string":f=n,e={"\\\\":"\\\\",'"':'\\"',"/":"\\/","\\n":"\\n","\\r":"\\r","\\t":"\\t"};for(r in e)e.hasOwnProperty(r)&&(f=f.replace(new RegExp(r,"g"),e[r]));i+='"'+f+'"';break;case"number":i+=String(n)}return i+=t>1?",":"",t==1&&(i=i.replace(/,([\]}])/g,"$1")),i.replace(/([\[{]),/g,"$1")},$.fn.cmd=function(n){function p(){s.toggleClass("inverted")}function k(){var t=r.width(),n=s.innerWidth();f=Math.floor(t/n)}function d(n){var i=n.substring(0,f-c-1),t=n.substring(f-c-1);return[i].concat(str_parts(t,f))}function w(){l.focus();r.oneTime(1,function(){r.insert(l.val()),l.blur(),l.val("")})}function b(f){var l,v,p,y,c,s;if(h){if(n.keydown&&n.keydown(f)===!1)return!1;if(f.keyCode==13)e&&t&&e.append(t),e.last(),y=t,r.set(""),typeof o=="function"&&a(),n.commands&&n.commands(y);else if(f.which==32)r.insert(" ");else if(f.which==8)t!==""&&i>0&&(t=t.slice(0,i-1)+t.slice(i,t.length),--i,u());else if(f.which!=9||f.ctrlKey||f.altKey){if(f.which==46)return t!==""&&i<t.length&&(t=t.slice(0,i)+t.slice(i+1,t.length),u()),!0;if(e&&f.which==38||f.which==80&&f.ctrlKey)r.set(e.previous());else if(e&&f.which==40||f.which==78&&f.ctrlKey)r.set(e.next());else if(f.which==37||f.which==66&&f.ctrlKey)if(f.ctrlKey&&f.which!=66){for(v=i-1,l=0,t[v]==" "&&--v,c=v;c>0;--c)if(t[c]==" "&&t[c+1]!=" "){l=c+1;break}else if(t[c]=="\n"&&t[c+1]!="\n"){l=c;break}r.position(l)}else i>0&&(--i,u());else if(f.which==39||f.which==70&&f.ctrlKey)f.ctrlKey&&f.which!=70?(t[i]==" "&&++i,s=t.slice(i).match(/\S[\n\s]{2,}|[\n\s]+\S?/),!s||s[0].match(/^\s+$/)?i=t.length:s[0][0]!=" "?i+=s.index+1:(i+=s.index+s[0].length-1,s[0][s[0].length-1]!=" "&&--i),u()):i<t.length&&(++i,u());else{if(f.which==123)return!0;if(f.which==36)r.position(0);else if(f.which==35)r.position(t.length);else if(f.ctrlKey||f.metaKey)if(f.shiftKey){if(f.which==84)return!0}else if(f.which==65)r.position(0);else if(f.which==69)r.position(t.length);else{if(f.which==88||f.which==67||f.which==87||f.which==84)return!0;if(f.which==86)return w(),!0;if(f.which==75)i===0?r.set(""):i!=t.length&&r.set(t.slice(0,i));else if(f.which==85)r.set("");else if(f.which==17)return!0}else if(f.altKey)f.which==68&&r.set(t.slice(0,i)+t.slice(i).replace(/[^ ]+ |[^ ]+$/,""),!0);else return!0}}else r.insert("\t");return!1}}var r=this,l,u,a;r.addClass("cmd"),r.append('<span class="prompt"></span><span></span><span class="cursor">&nbsp;</span><span></span>'),l=$("<textarea/>").addClass("clipboard").appendTo(r),n.width&&r.width(n.width);var f,c,v=n.mask||!1,t="",i=0,o,h=n.enabled,y,e,s=r.find(".cursor");return u=function(n){function u(n,t){var u,i;t==n.length?(r.html(encodeHTML(n)),s.html("&nbsp;"),e.html("")):t===0?(r.html(""),s.html(encodeHTML(n.slice(0,1))),e.html(encodeHTML(n.slice(1)))):(u=encodeHTML(n.slice(0,t)),r.html(u),i=n.slice(t,t+1),s.html(i==" "?"&nbsp;":encodeHTML(i)),t==n.lenght-1?e.html(""):e.html(encodeHTML(n.slice(t+1))))}function h(n){return"<div>"+encodeHTML(n)+"</div>"}function o(n){var t=e;$.each(n,function(n,i){t=$(h(i)).insertAfter(t).addClass("clear")})}function l(n){$.each(n,function(n,t){r.before(h(t))})}var r=s.prev(),e=s.next(),a=0;return function(){var k=v?t.replace(/./g,"*"):t,y,a,p,w,rt,ut,g,tt;n.find("div").remove(),r.html("");if(k.length>f-c-1||k.match(/\n/)){if(k.match(/\n/)){for(p=k.split("\n"),w=f-c-1,y=0;y<p.length-1;++y)p[y]+=" ";for(p[0].length>w?(a=[p[0].substring(0,w)],a=a.concat(str_parts(p[0].substring(w),f))):a=[p[0]],y=1;y<p.length;++y)p[y].length>f?a=a.concat(str_parts(p[y],f)):a.push(p[y])}else a=d(k);w=a[0].length;if(i<w)u(a[0],i),o(a.slice(1));else if(i==w)r.before(h(a[0])),u(a[1],0),o(a.slice(2));else{rt=a.length,ut=0;if(i<w)u(a[0],i),o(a.slice(1));else if(i==w)r.before(h(a[0])),u(a[1],0),o(a.slice(2));else{var nt=a.slice(-1)[0],it=k.length-i,b=0;if(it>nt.length)if(rt==3)r.before("<div>"+encodeHTML(a[0])+"</div>"),u(a[1],i-w-1),e.after('<div class="clear">'+encodeHTML(a[2])+"</div>");else{for(b=i,y=0;y<a.length;++y)if(b>a[y].length)b-=a[y].length;else break;tt=a[y],g=y,b==tt.length&&(b=0,tt=a[++g]),u(tt,b),l(a.slice(0,g)),o(a.slice(g+1))}else l(a.slice(0,-1)),b=nt.length==it?0:nt.length-it,u(nt,b)}}}else k===""?(r.html(""),s.html("&nbsp;"),e.html("")):u(k,i)}}(r),a=function(){var n=r.find(".prompt");return function(){typeof o=="string"?(c=o.length,n.html(encodeHTML(o)+"&nbsp;")):o(function(t){c=t.length,n.html(encodeHTML(t)+"&nbsp;")})}}(),$.extend(r,{name:function(n){if(n!==undefined)y=n,e=new History(n);else return y},history:function(){return e},set:function(n,r){n!==undefined&&(t=n,r||(i=t.length),u())},insert:function(n,r){i==t.length?t+=n:t=i===0?n+t:t.slice(0,i)+n+t.slice(i),r||(i+=n.length),u()},get:function(){return t},commands:function(t){if(t)n.commands=t;else return t},destroy:function(){$(document.documentElement).unbind(".commandline"),r.find(".prompt").remove()},prompt:function(n){if(n===undefined)return o;if(typeof n=="string"||typeof n=="function")o=n;else throw"prompt must be a function or string";a()},position:function(n){if(typeof n=="number")i=n<0?0:n>t.length?t.length:n,u();else return i},resize:function(n){n?f=n:k(),u()},enable:function(){h||(r.everyTime(500,"blink",p),h=!0)},isenabled:function(){return h},disable:function(){h&&(r.stopTime("blink",p),r.find(".cursor").removeClass("inverted"),h=!1)},mask:function(n){if(typeof n=="boolean")v=n,u();else return v}}),r.name(n.name||""),o=n.prompt||">",a(),(n.enabled===undefined||n.enabled===!0)&&r.enable(),$(document.documentElement).keypress(function(t){var i;if(t.ctrlKey&&t.which==99)return!0;n.keypress&&(i=n.keypress(t));if(i===undefined||i){if(h)if(![38,32,13,0,8].has(t.which)||t.keyCode==123||t.which==38&&t.shiftKey){if(!t.ctrlKey&&!(t.altKey&&t.which==100))return r.insert(String.fromCharCode(t.which)),!1}else return!1}else return i}).keydown(b),r},$.jrpc=function(n,t,i,r,u,f){var e=$.json_stringify({jsonrpc:"2.0",method:i,params:r,id:t});return $.ajax({url:n,data:e,success:u,error:f,contentType:"application/json",dataType:"json",async:!0,cache:!1,type:"POST"})};var version="0.4.3",copyright="Copyright (c) 2011 Jakub Jankiewicz <http://jcubic.pl>",version_string="version "+version,reg=new RegExp(" {"+version_string.length+"}$"),signatures=[["jQuery Terminal","(c) 2011 jcubic"],["JQuery Terminal Emulator v. "+version,copyright.replace(/ *<.*>/,"")],["JQuery Terminal Emulator version "+version_string,copyright],["      _______                 ________                        __","     / / _  /_ ____________ _/__  ___/______________  _____  / /"," __ / / // / // / _  / _/ // / / / _  / _/     / /  \\/ / _ \\/ /","/  / / // / // / ___/ // // / / / ___/ // / / / / /\\  / // / /__","\\___/____ \\\\__/____/_/ \\__ / /_/____/_//_/ /_/ /_/  \\/\\__\\_\\___/","         \\/          /____/                                   ".replace(reg,"")+version_string,copyright],["      __ _____                     ________                              __","     / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /"," __ / // // // // // _  // _// // / / // _  // _//     // //  \\/ // _ \\/ /","/  / // // // // // ___// / / // / / // ___// / / / / // // /\\  // // / /__","\\___//____ \\\\___//____//_/ _\\_  / /_//____//_/ /_/ /_//_//_/ /_/ \\__\\_\\___/","          \\/              /____/                                          ".replace(reg,"")+version_string,copyright]],requests=[],terminals=new Cycle;$.fn.terminal=function(n,t){function st(){var n=$("<span>x</span>").appendTo(i),t=Math.floor(i.width()/n.width());return n.remove(),t}function ot(n){return n.replace(/\[/g,"&#91;").replace(/\]/g,"&#93;")}function p(n,t){var r;r=typeof n=="string"?n:n.fileName+": "+n.message,i.error("&#91;"+t+"&#93;: "+r),i.pause(),typeof n.fileName=="string"&&$.get(n.fileName,function(t){i.resume();var u=n.lineNumber-1,r=t.split("\n")[u];r&&i.error("&#91;"+n.lineNumber+"&#93;: "+r)})}function w(n,t){try{if(typeof t=="function")t(function(){});else if(typeof t!="string"){var i=n+" must be string or function";throw i;}}catch(r){return p(r,n.toUpperCase()),!1}return!0}function l(){var n=i.prop?i.prop("scrollHeight"):i.attr("scrollHeight");i.scrollTop(n)}function ht(n,t){for(var l=[],b=/(\[\[[biu]*;[^;]*;\][^\]\[]*\]?)/g,w=/(\[\[[biu]*;[^;]*;\])/,o=n.split(/\n/g),i="",e,p,f,r,s,h,v,y,c,u=0,a=o.length;u<a;++u){if(i!=="")if(o[u]===""){l.push(i+"]");continue}else o[u]=i+o[u],i="";for(e=0,p=o[u].length;e<p;e+=t){f=o[u].substring(e,e+t),i!==""&&(f=i+f),r=f.match(b);if(r&&r.length>0){for(s=0,h=0,v=r.length;h<v;++h)s+=r[h].match(w)[1].length,r[h][r[h].length-1]=="]"&&(s+=1);i!==""&&(s-=i.length),y=e+t+s,f=i+o[u].substring(e,y),r=f.match(b),c=r[r.length-1],e+=s,c[c.length-1]!="]"?(f+="]",i=c.match(w)[1]):i=""}else i="";l.push(f)}}return l}function nt(n){var t,i,u,r;n=typeof n=="string"?n:String(n);if(n.length>o)for(r=ht(n,o),t=$("<div></div>"),i=0,u=r.length;i<u;++i)r[i]===""||r[i]=="\r"?t.append("<div>&nbsp;</div>"):$("<div/>").html(encodeHTML(r[i])).appendTo(t);else t=$("<div/>").html(encodeHTML(n));return c.append(t),t.width("100%"),l(),t}function lt(){t.greetings===undefined?i.echo(i.signature):t.greetings&&i.echo(t.greetings)}function ct(n){var i=$(window).scrollTop(),u=i+$(window).height(),t=$(n).offset().top,r=t+$(n).height();return r>=i&&t<=u}function it(n,t){var u=1,i=function(i,r){t.pause(),$.jrpc(n,u++,i,r,function(n){var r,i;if(n.error)t.error("&#91;RPC&#93; "+n.error.message);else if(typeof n.result=="string")t.echo(n.result);else if(n.result instanceof Array)t.echo(n.result.join(" "));else if(typeof n.result=="object"){r="";for(i in n.result)n.result.hasOwnProperty(i)&&(r+=i+": "+n.result[i]+"\n");t.echo(r)}t.resume()},function(n,i){t.error("&#91;AJAX&#93; "+i+" - Server reponse is: \n"+n.responseText),t.resume()})};return function(n,t){var u,f,e;if(n==="")return;n.match(/[^ ]* /)?(n=n.split(/ +/),u=n[0],f=n.slice(1)):(u=n,f=[]),r.login&&u!="help"?(e=t.token(),e?i(u,[e].concat(f)):t.error("&#91;AUTH&#93; Access denied (no token)")):i(u,f)}}function v(n){var t=u.prompt();u.mask()&&(n=n.replace(/./g,"*")),typeof t=="function"?t(function(t){i.echo(t+" "+n)}):i.echo(t+" "+n)}function d(n){var e,a,o,l,t,s,c;try{e=f.top();if(n=="exit"&&r.exit)f.size()==1?r.login?b():(a="You can exit from main interpeter",i.echo(a)):i.pop("exit");else{v(n);if(n=="clear"&&r.clear)i.clear();else if(n.match(/\|/)){var h=n.split(/\s*\|\s*/),u=[],y=i.echo;for(i.echo=function(n){u.push(n)},e.eval(h[0],i),o=1,l=h.length;o<l-1;++o)for(t=0,s=u.length;t<s;++t)c=h[o]+" "+u[t],e.eval(c,i);for(i.echo=y,t=0,s=u.length;t<s;++t)c=h[l-1]+" "+u[t],e.eval(c,i)}else e.eval(n,i)}}catch(w){p(w,"USER"),i.resume();throw w;}}function g(){var n=null;u.prompt("login:"),r.history&&u.history().disable(),u.commands(function(t){try{v(t);if(n){u.mask(!1),i.pause();if(typeof r.login!="function")throw"Value of login property must be a function";r.login(n,t,function(t){if(t){var f=r.name;f=f?"_"+f:"",$.Storage.set("token"+f,t),$.Storage.set("login"+f,n),u.commands(d),k()}else i.error("Wrong password try again"),u.prompt("login:"),n=null;i.resume(),r.history&&u.history().enable()})}else n=t,u.prompt("password:"),u.mask(!0)}catch(f){p(f,"LOGIN",i);throw f;}})}function b(){var n=r.name;n=n?"_"+n:"",$.Storage.remove("token"+n,null),$.Storage.remove("login"+n,null),r.history&&u.history().disable(),g()}function y(){var n=f.top(),t="";n.name!==undefined&&n.name!==""&&(t+=n.name+"_"),t+=ft,u.name(t),u.prompt(n.prompt),r.history&&u.history().enable(),u.set("");if(typeof n.onStart=="function")n.onStart(i)}function k(){y(),lt();if(typeof r.onInit=="function")r.onInit(i)}function et(n){var o,e;if(!i.paused()){if(r.keydown&&r.keydown(n,i)===!1)return!1;n.which!=9&&(h=0);if(n.which==68&&n.ctrlKey)r.exit&&(u.get()===""?f.size()>1||r.login!==undefined?i.pop(""):(i.resume(),i.echo("")):i.set_command("")),n.preventDefault();else{if(r.tabcompletion&&n.which==9){++h,o=u.get();if(!o.match(" ")){var c=new RegExp("^"+o),s=f.top().command_list,t=[];for(e=s.length;e--;)c.test(s[e])&&t.push(s[e]);t.length==1?i.set_command(t[0]):t.length>1&&(h<2||(v(o),i.echo(t.join("\t")),h=0))}return!1}if(n.which==86&&n.ctrlKey){i.oneTime(1,function(){l()});return!0}n.which==9&&n.ctrlKey?(terminals.length()>1&&i.focus(!1),n.preventDefault()):n.which==34?i.scroll(i.height()):n.which==33?i.scroll(-i.height()):i.attr({scrollTop:i.attr("scrollHeight")})}}}var i=this,s=[],c,ft=terminals.length(),o,tt=[],r={name:"",prompt:">",history:!0,exit:!0,clear:!0,enabled:!0,login:null,tabcompletion:!1,onInit:null,onExit:null,keypress:null,keydown:null},e,h,a,rt,f,u;t&&(t.width&&i.width(t.width),t.height&&i.height(t.height),$.extend(r,t)),e=!r.enabled;if(i.length===0)throw'Sorry, but terminal said that "'+i.selector+'" is not valid selector!';i.ajaxSend(function(n,t){requests.push(t)});if(i.data("terminal"))return i.data("terminal");c=$("<div>").addClass("terminal-output").appendTo(i),i.addClass("terminal").append("<div/>"),$.extend(i,{clear:function(){return c.html(""),u.set(""),s=[],i.attr({scrollTop:0}),i},paused:function(){return e},pause:function(){return u&&(i.disable(),u.hide()),i},resume:function(){return u&&(i.enable(),u.show(),l()),i},cols:function(){return o},rows:function(){return s.length},history:function(){return u.history().data()},next:function(){var n,t;if(terminals.length()==1)return i;var r=i.offset().top,f=i.height(),u=i.scrollTop();return ct(i)?(terminals.front().disable(),n=terminals.rotate().enable(),t=n.offset().top-50,$("html,body").animate({scrollTop:t},500),n):(i.enable(),$("html,body").animate({scrollTop:r-50},500),i)},focus:function(n){i.oneTime(1,function(){terminals.length()==1?n===!1?i.disable():i.enable():n===!1?i.next():(terminals.front().disable(),terminals.set(i),i.enable())});return i},enable:function(){return o===undefined&&i.resize(),e&&u&&(u.enable(),e=!1),i},disable:function(){return u&&(e=!0,u.disable()),i},enabled:function(){return e},signature:function(){var n=i.cols(),t=n<15?null:n<35?0:n<55?1:n<64?2:n<75?3:4;return t!==null?signatures[t].join("\n")+"\n":""},version:function(){return version},get_command:function(){return u.get()},insert:function(n){return u.insert(n),i},set_prompt:function(n){return w("prompt",n)&&u.prompt(n),i},set_command:function(n){return u.set(n),i},set_mask:function(n){return u.mask(n),i},get_output:function(){return $.map(s,function(n,t){return typeof t=="function"?t():t}).get().join("\n")},resize:function(n,t){n&&t&&(i.width(n),i.height(t)),o=st(),u.resize(o);var r=c.detach();return c.html(""),$.each(s,function(n,t){nt(typeof t=="function"?t():t)}),i.prepend(r),l(),i},echo:function(n){return s.push(n),nt(typeof n=="function"?n():n)},error:function(n){i.echo("[[;#f00;]"+ot(n)+"]")},scroll:function(n){var t;return i.prop?(n>i.prop("scrollTop")&&n>0&&i.prop("scrollTop",0),t=i.prop("scrollTop"),i.prop("scrollTop",t+n),i):(n>i.attr("scrollTop")&&n>0&&i.attr("scrollTop",0),t=i.attr("scrollTop"),i.attr("scrollTop",t+n),i)},logout:r.login?function(){while(f.size()>1)f.pop();return b(),i}:function(){throw"You don't have login function";},token:r.login?function(){var n=r.name;return $.Storage.get("token"+(n?"_"+n:""))}:null,login_name:r.login?function(){var n=r.name;return $.Storage.get("login"+(n?"_"+n:""))}:null,name:function(){return r.name},push:function(n,t){if(!t.prompt||w("prompt",t.prompt)){if(typeof n=="string"){var r=t.eval;n=it(r,i)}f.push($.extend({eval:n},t)),y()}return i},pop:function(n){n!==undefined&&v(n);if(f.top().name===r.name){if(r.login){b();if(typeof r.onExit=="function")r.onExit(i)}}else{var t=f.pop();y();if(typeof t.onExit=="function")t.onExit(i)}return i}}),h=0;switch(typeof n){case"string":a=n,n=it(n,i);break;case"object":for(rt in n)tt.push(rt);n=function ut(n){return function(t){var o,s;if(t==="")return;t=t.split(/ +/);var e=t[0],h=t.slice(1),u=n[e],f=typeof u;if(f=="function")u.apply(i,h);else if(f=="object"||f=="string"){o=[];if(f=="object"){for(s in u)o.push(s);u=ut(u)}i.push(u,{prompt:e+">",name:e,command_list:o})}else i.error("Command '"+e+"' Not Found")}}(n);break;case"function":break;default:throw'Unknow object "'+String(n)+'" passed as eval';}return(a&&typeof r.login=="string"||a&&r.login)&&(r.login=function(n){var t=1;return function(r,u,f){i.pause(),$.jrpc(a,t++,n,[r,u],function(n){i.resume(),!n.error&&n.result?f(n.result):f(null)},function(n,t){i.resume(),i.error("&#91;AJAX&#92; Response: "+t+"\n"+n.responseText)})}}(typeof r.login=="boolean"?"login":r.login)),w("prompt",r.prompt)&&(f=new Stack({name:r.name,eval:n,prompt:r.prompt,command_list:tt,greetings:r.greetings}),u=i.find(".terminal-output").next().cmd({prompt:r.prompt,history:r.history,width:"100%",keydown:et,keypress:r.keypress?function(n){return r.keypress(n,i)}:null,commands:d}),i.livequery(function(){i.resize()}),terminals.append(i),r.enabled===!0?i.focus():i.disable(),$(window).resize(i.resize),i.click(function(){i.focus()}),i.token&&!i.token()&&i.login_name&&!i.login_name()?g():k(),typeof $.fn.init.prototype.mousewheel=="function"&&i.mousewheel(function(n,t){return t>0?i.scroll(-40):i.scroll(40),!1},!0)),i.data("terminal",i),i}}(jQuery),CodeMirror=function(){function n(v,g){function nu(n){return n>=0&&n<at.size}function ui(n){return ri(at,n)}function au(n,t){var r,i;for(hr=!0,r=t-n.height,i=n;i;i=i.parent)i.height+=r}function oo(n){var t={line:0,ch:0};ho(t,{line:at.size-1,ch:ui(at.size-1).text.length},a(n),t,t),br=!0}function bs(){var t=[];return at.iter(0,at.size,function(n){t.push(n.text)}),t.join("\n")}function os(n){function v(n){var t=iu(n,!0),r;t&&!i(t,l)&&(ur||ru(),l=t,pr(f,t),br=!1,r=ye(),(t.line>=r.to||t.line<r.from)&&(c=setTimeout(dt(function(){v(n)}),150)))}var e,f,o,l,c,a,h;for(is(u(n,"shiftKey")),e=ut(n);e!=vi;e=e.parentNode)if(e.parentNode==di&&e!=rf)return;for(e=ut(n);e!=vi;e=e.parentNode)if(e.parentNode==eu)return ft.onGutterClick&&ft.onGutterClick(ai,b(eu.childNodes,e)+bi,n),r(n);f=iu(n);switch(si(n)){case 3:ot&&!ct&&ns(n);return;case 2:f&&vr(f.line,f.ch,!0);return}if(!f){ut(n)==ii&&r(n);return}ur||ru(),o=+new Date;if(pu&&pu.time>o-400&&i(pu.pos,f))return r(n),setTimeout(gr,20),rh(f.line);if(gu&&gu.time>o-400&&i(gu.pos,f))return pu={time:o,pos:f},r(n),rs(f);gu={time:o,pos:f},l=f;if(ci&&!ft.readOnly&&!i(it.from,it.to)&&!s(f,it.from)&&!s(it.to,f)){st&&(wi.draggable=!0),h=t(kr,"mouseup",dt(function(t){st&&(wi.draggable=!1),te=!1,h(),Math.abs(n.clientX-t.clientX)+Math.abs(n.clientY-t.clientY)<10&&(r(t),vr(f.line,f.ch,!0),gr())}),!0),te=!0;return}r(n),vr(f.line,f.ch,!0),a=t(kr,"mousemove",dt(function(n){clearTimeout(c),r(n),v(n)}),!0),h=t(kr,"mouseup",dt(function(n){clearTimeout(c);var t=iu(n);t&&pr(f,t),r(n),gr(),br=!0,a(),h()}),!0)}function fs(n){for(var i,t=ut(n);t!=vi;t=t.parentNode)if(t.parentNode==eu)return r(n);i=iu(n);if(!i)return;pu={time:+new Date,pos:i},r(n),rs(i)}function ss(n){var t,u,r,i;n.preventDefault(),t=iu(n,!0),u=n.dataTransfer.files;if(!t||ft.readOnly)return;if(u&&u.length&&window.FileReader&&window.File){function c(n,r){var u=new FileReader;u.onload=function(){i[r]=u.result,++h==f&&(t=pi(t),dt(function(){var n=sr(i.join(""),t,t);pr(t,n)})())},u.readAsText(n)}var f=u.length,i=Array(f),h=0;for(r=0;r<f;++r)c(u[r],r)}else try{i=n.dataTransfer.getData("Text");if(i){var s=sr(i,t,t),e=it.from,o=it.to;pr(t,s),te&&sr("",e,o),gr()}}catch(n){}}function ks(n){var t=af();e(t),n.dataTransfer.setDragImage(o,0,0),n.dataTransfer.setData("Text",t)}function ge(n){function c(){return e.call?e.call(null,ai):e}var i=h[u(n,"keyCode")],e=f[ft.keyMap].auto,t,s,o;if(i==null||n.altGraphKey)return e&&(ft.keyMap=c()),null;u(n,"altKey")&&(i="Alt-"+i),u(n,"ctrlKey")&&(i="Ctrl-"+i),u(n,"metaKey")&&(i="Cmd-"+i),u(n,"shiftKey")&&(t=ni("Shift-"+i,ft.extraKeys,ft.keyMap))?s=!0:t=ni(i,ft.extraKeys,ft.keyMap),typeof t=="string"&&(t=et.propertyIsEnumerable(t)?et[t]:null),e&&(t||!hi(n))&&(ft.keyMap=c());if(!t)return!1;o=rr;try{ft.readOnly&&(ff=!0),s&&(rr=null),t(ai)}finally{rr=o,ff=!1}return r(n),!0}function oh(n){var t,i;ur||ru(),t=u(n,"keyCode"),d&&t==27&&(n.returnValue=!1),is(t==16||u(n,"shiftKey"));if(ft.onKeyEvent&&ft.onKeyEvent(ai,wt(n)))return;i=ge(n),window.opera&&(he=i?t:null,!i&&t==88&&u(n,ct?"metaKey":"ctrlKey")&&cu(""))}function eh(n){var f=u(n,"keyCode"),i=u(n,"charCode"),t;if(window.opera&&f==he){he=null,r(n);return}if(ft.onKeyEvent&&ft.onKeyEvent(ai,wt(n)))return;if(window.opera&&!n.which&&ge(n))return;ft.electricChars&&yi.electricChars&&ft.smartIndent&&!ft.readOnly&&(t=String.fromCharCode(i==null?f:i),yi.electricChars.indexOf(t)>-1&&setTimeout(dt(function(){hf(it.to.line,"smart")}),75)),du()}function hh(n){if(ft.onKeyEvent&&ft.onKeyEvent(ai,wt(n)))return;u(n,"keyCode")&&(rr=null)}function ru(){if(ft.readOnly=="nocursor")return;ur||(ft.onFocus&&ft.onFocus(ai),ur=!0,vi.className.search(/\bCodeMirror-focused\b/)==-1&&(vi.className+=" CodeMirror-focused"),ou||cf(!0)),lf(),wo()}function wf(){ur&&(ft.onBlur&&ft.onBlur(ai),ur=!1,ar&&dt(function(){ar&&(ar(),ar=null)})(),vi.className=vi.className.replace(" CodeMirror-focused","")),clearInterval(bf),setTimeout(function(){ur||(rr=null)},150)}function ho(n,t,i,r,u){if(ff)return;if(tr){var f=[];at.iter(n.line,t.line+1,function(n){f.push(n.text)}),tr.addChange(n.line,i.length,f);while(tr.done.length>ft.undoDepth)tr.done.shift()}uo(n,t,i,r,u)}function co(n,t){var i=n.pop(),r,u,f;i&&(r=[],u=i.start+i.added,at.iter(i.start,u,function(n){r.push(n.text)}),t.push({start:i.start,added:i.old.length,old:r}),f=pi({line:i.start+i.old.length-1,ch:oi(r[r.length-1],i.old[i.old.length-1])}),uo({line:i.start,ch:0},{line:u-1,ch:ui(u-1).text.length},i.old,f,f),br=!0)}function nh(){co(tr.done,tr.undone)}function gs(){co(tr.undone,tr.done)}function uo(n,t,i,r,u){function rt(n){return n<=Math.min(t.line,t.line+p)?n:n+p}var k,h,b,o,l,nt,y,p,f,tt,v,g,d,w;if(ff)return;k=!1,h=lr.length,ft.lineWrapping||at.iter(n.line,t.line,function(n){if(n.text.length==h)return k=!0,!0}),(n.line!=t.line||i.length>1)&&(hr=!0);var a=t.line-n.line,e=ui(n.line),s=ui(t.line);if(n.ch==0&&t.ch==0&&i[i.length-1]==""){for(o=[],b=null,n.line?(b=ui(n.line-1),b.fixMarkEnds(s)):s.fixMarkStarts(),f=0,l=i.length-1;f<l;++f)o.push(c.inheritMarks(i[f],b));a&&at.remove(n.line,a,su),o.length&&at.insert(n.line,o)}else if(e==s)if(i.length==1)e.replace(n.ch,t.ch,i[0]);else{for(s=e.split(t.ch,i[i.length-1]),e.replace(n.ch,null,i[0]),e.fixMarkEnds(s),o=[],f=1,l=i.length-1;f<l;++f)o.push(c.inheritMarks(i[f],e));o.push(s),at.insert(n.line+1,o)}else if(i.length==1)e.replace(n.ch,null,i[0]),s.replace(null,t.ch,""),e.append(s),at.remove(n.line+1,a,su);else{for(o=[],e.replace(n.ch,null,i[0]),s.replace(null,t.ch,i[i.length-1]),e.fixMarkEnds(s),f=1,l=i.length-1;f<l;++f)o.push(c.inheritMarks(i[f],e));a>1&&at.remove(n.line+1,a-1,su),at.insert(n.line+1,o)}for(ft.lineWrapping?(nt=ii.clientWidth/nf()-3,at.iter(n.line,n.line+i.length,function(n){if(n.hidden)return;var t=Math.ceil(n.text.length/nt)||1;t!=n.height&&au(n,t)})):(at.iter(n.line,f+i.length,function(n){var t=n.text;t.length>h&&(lr=t,h=t.length,wr=null,k=!1)}),k&&(h=0,lr="",wr=null,at.iter(0,at.size,function(n){var t=n.text;t.length>h&&(h=t.length,lr=t)}))),y=[],p=i.length-a-1,f=0,tt=fr.length;f<tt;++f)v=fr[f],v<n.line?y.push(v):v>t.line&&y.push(v+p);g=n.line+Math.min(i.length,500),ch(n.line,g),y.push(g),fr=y,pf(100),ki.push({from:n.line,to:t.line+1,diff:p}),d={from:n,to:t,text:i};if(hu){for(w=hu;w.next;w=w.next);w.next=d}else hu=d;bu(r,u,rt(it.from.line),rt(it.to.line)),di.style.height=at.height*cr()+2*tu()+"px"}function sr(n,t,i){function u(u){if(s(u,t))return u;if(!s(i,u))return r;var e=u.line+n.length-(i.line-t.line)-1,f=u.ch;return u.line==i.line&&(f+=n[n.length-1].length-(i.ch-(i.line==t.line?t.ch:0))),{line:e,ch:f}}t=pi(t),i=i?pi(i):t,n=a(n);var r;return fo(n,t,i,function(n){return r=n,{from:u(it.from),to:u(it.to)}}),r}function cu(n,t){fo(a(n),it.from,it.to,function(n){return t=="end"?{from:n,to:n}:t=="start"?{from:it.from,to:it.from}:{from:it.from,to:n}})}function fo(n,t,i,r){var f=n.length==1?n[0].length+t.ch:n[n.length-1].length,u=r({line:t.line+n.length-1,ch:f});ho(t,i,n,u.from,u.to)}function eo(n,t){var r=n.line,u=t.line,i;return r==u?ui(r).text.slice(n.ch,t.ch):(i=[ui(r).text.slice(n.ch)],at.iter(r+1,u,function(n){i.push(n.text)}),i.push(ui(u).text.slice(0,t.ch)),i.join("\n"))}function af(){return eo(it.from,it.to)}function lf(){if(ue)return;ee.set(ft.pollInterval,function(){kf(),be(),ur&&lf(),ie()})}function du(){function t(){kf();var i=be();!i&&!n?(n=!0,ee.set(60,t)):(ue=!1,lf()),ie()}var n=!1;ue=!0,ee.set(20,t)}function be(){var t,n,r;if(ou||!ur||ti(fi)||ft.readOnly)return!1;t=fi.value;if(t==yr)return!1;rr=null,n=0,r=Math.min(yr.length,t.length);while(n<r&&yr[n]==t[n])++n;return n<yr.length?it.from={line:it.from.line,ch:it.from.ch-(yr.length-n)}:ne&&i(it.from,it.to)&&(it.to={line:it.to.line,ch:Math.min(ui(it.to.line).text.length,it.to.ch+(t.length-n))}),cu(t.slice(n),"end"),yr=t,!0}function cf(n){i(it.from,it.to)?n&&(yr=fi.value=""):(yr="",fi.value=af(),fi.select())}function gr(){ft.readOnly!="nocursor"&&fi.focus()}function sh(){var n,t;if(!or.getBoundingClientRect)return;n=or.getBoundingClientRect();if(d&&n.top==n.bottom)return;t=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight),(n.top<0||n.bottom>t)&&or.scrollIntoView()}function pe(){var n=ku(it.inverted?it.from:it.to),t=ft.lineWrapping?Math.min(n.x,wi.offsetWidth):n.x;return we(t,n.y,t,n.yBot)}function we(n,t,i,r){var c=ae(),h=tu(),l=cr();t+=h,r+=h,n+=c,i+=c;var v=ii.clientHeight,a=ii.scrollTop,u=!1,f=!0;t<a?(ii.scrollTop=Math.max(0,t-2*l),u=!0):r>a+v&&(ii.scrollTop=r+l-v,u=!0);var s=ii.clientWidth,o=ii.scrollLeft,e=ft.fixedGutter?gi.clientWidth:0;return n<o+e?(n<50&&(n=0),ii.scrollLeft=Math.max(0,n-10-e),u=!0):i>s+o-3&&(ii.scrollLeft=i+10-s,u=!0,i>di.clientWidth&&(f=!1)),u&&ft.onScroll&&ft.onScroll(ai),f}function ye(){var t=cr(),n=ii.scrollTop-tu(),r=Math.max(0,Math.floor(n/t)),i=Math.ceil((n+ii.clientHeight)/t);return{from:yt(at,r),to:yt(at,i)}}function wu(n,t){var o,i,u,e,a,s,r,f,v,l,h,c;if(!ii.clientWidth){bi=ir=vu=0;return}o=ye();if(n!==!0&&n.length==0&&o.from>=bi&&o.to<=ir)return;for(i=Math.max(o.from-100,0),u=Math.min(at.size,o.to+100),bi<i&&i-bi<20&&(i=bi),ir>u&&ir-u<20&&(u=Math.min(at.size,ir)),e=n===!0?[]:ys([{from:bi,to:ir,domStart:0}],n),a=0,s=0;s<e.length;++s)r=e[s],r.from<i&&(r.domStart+=i-r.from,r.from=i),r.to>u&&(r.to=u),r.from>=r.to?e.splice(s--,1):a+=r.to-r.from;if(a==u-i)return;e.sort(function(n,t){return n.domStart-t.domStart}),f=cr(),v=gi.style.display,nr.style.display=gi.style.display="none",as(i,u,e),nr.style.display="",l=i!=bi||u!=ir||so!=ii.clientHeight+f,l&&(so=ii.clientHeight+f),bi=i,ir=u,vu=vt(at,i),rf.style.top=vu*f+"px",di.style.height=at.height*f+2*tu()+"px";if(nr.childNodes.length!=ir-bi)throw new Error("BAD PATCH! "+JSON.stringify(e)+" size="+(ir-bi)+" nodes="+nr.childNodes.length);return ft.lineWrapping?(wr=ii.clientWidth,h=nr.firstChild,c=!1,at.iter(bi,ir,function(n){if(!n.hidden){var t=Math.round(h.offsetHeight/f)||1;n.height!=t&&(au(n,t),hr=c=!0)}h=h.nextSibling}),c&&(di.style.height=at.height*f+2*tu()+"px")):(wr==null&&(wr=ce(lr)),wr>ii.clientWidth?(wi.style.width=wr+"px",di.style.width="",di.style.width=ii.scrollWidth+"px"):wi.style.width=di.style.width=""),gi.style.display=v,(l||hr)&&ve(),us(),!t&&ft.onUpdate&&ft.onUpdate(ai),!0}function ys(n,t){for(var f,h,i,o=0,s=t.length||0;o<s;++o){var r=t[o],u=[],e=r.diff||0;for(f=0,h=n.length;f<h;++f)i=n[f],r.to<=i.from&&r.diff?u.push({from:i.from+e,to:i.to+e,domStart:i.domStart}):r.to<=i.from||r.from>=i.to?u.push(i):(r.from>i.from&&u.push({from:i.from,to:r.from,domStart:i.domStart}),r.to<i.to&&u.push({from:r.to+e,to:i.to+e,domStart:i.domStart+(r.to-i.from)}));n=u}return n}function as(n,t,i){var s,r,w,o,e,u,v;if(i.length){function y(n){var t=n.nextSibling;return n.parentNode.removeChild(n),t}for(s=0,r=nr.firstChild,o=0;o<i.length;++o){e=i[o];while(e.domStart>s)r=y(r),s++;for(u=0,v=e.to-e.from;u<v;++u)r=r.nextSibling,s++}while(r)r=y(r)}else nr.innerHTML="";var f=i.shift(),r=nr.firstChild,u=n,a=it.from.line,c=it.to.line,h=a<n&&c>=n,l=kr.createElement("div"),p;at.iter(n,t,function(n){var t=null,e=null;h?(t=0,c==u&&(h=!1,e=it.to.ch)):a==u&&(c==u?(t=it.from.ch,e=it.to.ch):(h=!0,t=it.from.ch)),f&&f.to==u&&(f=i.shift()),!f||f.from>u?(l.innerHTML=n.hidden?"<pre></pre>":n.getHTML(t,e,!0,of),nr.insertBefore(l.firstChild,r)):r=r.nextSibling,++u})}function ve(){var r,u,n,f;if(!ft.gutter&&!ft.lineNumbers)return;r=rf.offsetHeight,u=ii.clientHeight,gi.style.height=(r-u<2?u:r)+"px",n=[],f=bi,at.iter(bi,Math.max(ir,bi+1),function(t){var r,i,u;if(t.hidden)n.push("<pre></pre>");else{for(r=t.gutterMarker,i=ft.lineNumbers?f+ft.firstLineNumber:null,r&&r.text?i=r.text.replace("%N%",i!=null?i:""):i==null&&(i=" "),n.push(r&&r.style?'<pre class="'+r.style+'">':"<pre>",i),u=1;u<t.height;++u)n.push("<br/>&#160;");n.push("</pre>")}++f}),gi.style.display="none",eu.innerHTML=n.join("");var e=String(at.size).length,i=eu.firstChild,o=ei(i),t="";while(o.length+t.length<e)t+=" ";t&&i.insertBefore(kr.createTextNode(t),i.firstChild),gi.style.display="",wi.style.marginLeft=gi.offsetWidth+"px",hr=!1}function us(){var u=it.inverted?it.from:it.to,f=cr(),n=ku(u,!0),t=l(vi),r=l(nr);fu.style.top=n.y+r.top-t.top+"px",fu.style.left=n.x+r.left-t.left+"px",i(it.from,it.to)?(or.style.top=n.y+"px",or.style.left=(ft.lineWrapping?Math.min(n.x,wi.offsetWidth):n.x)+"px",or.style.display=""):or.style.display="none"}function is(n){rr=n?rr||(it.inverted?it.to:it.from):null}function pr(n,t){var i=rr&&pi(rr);i&&(s(i,n)?n=i:s(t,i)&&(t=i)),bu(n,t),uf=!0}function bu(n,t,r,u){ef=null,r==null&&(r=it.from.line,u=it.to.line);if(i(it.from,n)&&i(it.to,t))return;if(s(t,n)){var f=t;t=n,n=f}n.line!=r&&(n=vf(n,r,it.from.ch)),t.line!=u&&(t=vf(t,u,it.to.ch)),i(n,t)?it.inverted=!1:i(n,it.to)?it.inverted=!1:i(t,it.from)&&(it.inverted=!0),i(n,t)?i(it.from,it.to)||ki.push({from:r,to:u+1}):i(it.from,it.to)?ki.push({from:n.line,to:t.line+1}):(i(n,it.from)||(n.line<r?ki.push({from:n.line,to:Math.min(t.line,r)+1}):ki.push({from:r,to:Math.min(u,n.line)+1})),i(t,it.to)||(t.line<u?ki.push({from:Math.max(r,n.line),to:u+1}):ki.push({from:Math.max(n.line,u),to:t.line+1}))),it.from=n,it.to=t,dr=!0}function vf(n,t,i){function r(t){var f=n.line+t,e=t==1?at.size:-1,u,r;while(f!=e){u=ui(f);if(!u.hidden)return r=n.ch,(r>i||r>u.text.length)&&(r=u.text.length),{line:f,ch:r};f+=t}}var u=ui(n.line);return u.hidden?n.line>=t?r(1)||r(-1):r(-1)||r(1):n}function vr(n,t,i){var r=pi({line:n,ch:t||0});(i?pr:bu)(r,r)}function sf(n){return Math.max(0,Math.min(n,at.size-1))}function pi(n){if(n.line<0)return{line:0,ch:0};if(n.line>=at.size)return{line:at.size-1,ch:ui(at.size-1).text.length};var t=n.ch,i=ui(n.line).text.length;return t==null||t>i?{line:n.line,ch:i}:t<0?{line:n.line,ch:0}:n}function re(n,t){function s(){for(var i,t=u+n,r=n<0?-1:at.size;t!=r;t+=n){i=ui(t);if(!i.hidden)return u=t,f=i,!0}}function i(t){if(r==(n<0?0:f.text.length))if(!t&&s())r=n<0?f.text.length:0;else return!1;else r+=n;return!0}var o=it.inverted?it.from:it.to,u=o.line,r=o.ch,f=ui(u),e;if(t=="char")i();else if(t=="column")i(!0);else if(t=="word")for(e=!1;;){if(n<0&&!i())break;if(ht(f.text.charAt(r)))e=!0;else if(e){n<0&&(n=1,i());break}if(n>0&&!i())break}return{line:u,ch:r}}function hs(n,t){var r=n<0?it.from:it.to;(rr||i(it.from,it.to))&&(r=re(n,t)),vr(r.line,r.ch,!0)}function ah(n,t){i(it.from,it.to)?n<0?sr("",re(n,t),it.to):sr("",it.from,re(n,t)):sr("",it.from,it.to),uf=!0}function lh(n,t){var u=0,i=ku(it.inverted?it.from:it.to,!0),r;ef!=null&&(i.x=ef),t=="page"?u=ii.clientHeight:t=="line"&&(u=cr()),r=oe(i.x,i.y+u*n+2),vr(r.line,r.ch,!0),ef=i.x}function rs(n){var r=ui(n.line).text,t=n.ch,i=n.ch;while(t>0&&ht(r.charAt(t-1)))--t;while(i<r.length&&ht(r.charAt(i)))++i;pr({line:n.line,ch:t},{line:n.line,ch:i})}function rh(n){pr({line:n,ch:0},{line:n,ch:ui(n).text.length})}function ih(n){var r,t;if(i(it.from,it.to))return hf(it.from.line,n);for(r=it.to.line-(it.to.ch?0:1),t=it.from.line;t<=r;++t)hf(t,n)}function hf(n,t){var h,c,r,f,e;t||(t="add"),t=="smart"&&(yi.indent&&ft.smartIndent?h=tf(n):t="prev");var u=ui(n),o=u.indentation(ft.tabSize),s=u.text.match(/^\s*/)[0],i;t=="prev"?i=n?ui(n-1).indentation(ft.tabSize):0:t=="smart"?i=yi.indent(h,u.text.slice(s.length),u.text):t=="add"?i=o+ft.indentUnit:t=="subtract"&&(i=o-ft.indentUnit),i=Math.max(0,i),c=i-o;if(c){r="",f=0;if(ft.indentWithTabs)for(e=Math.floor(i/ft.tabSize);e;--e)f+=ft.tabSize,r+="\t";while(f<i)++f,r+=" "}else{if(it.from.line!=n&&it.to.line!=n)return;r=s}sr(r,{line:n,ch:0},{line:n,ch:s.length})}function yo(){yi=n.getMode(ft,ft.mode),at.iter(0,at.size,function(n){n.stateAfter=null}),fr=[0],pf()}function uh(){var n=ft.gutter||ft.lineNumbers;gi.style.display=n?"":"none",n?hr=!0:nr.parentNode.style.marginLeft=0}function th(){if(ft.lineWrapping){vi.className+=" CodeMirror-wrap";var i=ii.clientWidth/nf()-3;at.iter(0,at.size,function(n){if(n.hidden)return;var t=Math.ceil(n.text.length/i)||1;t!=1&&au(n,t)}),wi.style.width=di.style.width=""}else vi.className=vi.className.replace(" CodeMirror-wrap",""),wr=null,lr="",at.iter(0,at.size,function(n){n.height!=1&&!n.hidden&&au(n,1),n.text.length>lr.length&&(lr=n.text)});ki.push({from:0,to:at.size})}function po(){for(var t='<span class="cm-tab">',n=0;n<ft.tabSize;++n)t+=" ";return t+"</span>"}function ds(){of=po(),wu(!0)}function vo(){ii.className=ii.className.replace(/\s*cm-s-\w+/g,"")+ft.theme.replace(/(^|\s)\s*/g," cm-s-")}function le(){this.set=[]}function se(n,t,i){function u(n,t,i,r){ui(n).addMark(new tt(t,i,r,f.set))}var f,r,e;n=pi(n),t=pi(t),f=new le;if(n.line==t.line)u(n.line,n.ch,t.ch,i);else{for(u(n.line,n.ch,null,i),r=n.line+1,e=t.line;r<e;++r)u(r,null,null,i);u(t.line,null,t.ch,i)}return ki.push({from:n.line,to:t.line+1}),f}function cs(n){n=pi(n);var t=new gt(n.ch);return ui(n.line).addMark(t),t}function es(n,t,i){return typeof n=="number"&&(n=ui(sf(n))),n.gutterMarker={text:t,style:i},hr=!0,n}function ws(n){typeof n=="number"&&(n=ui(sf(n))),n.gutterMarker=null,hr=!0}function ko(n,t){var i=n,r=n;typeof n=="number"?r=ui(sf(n)):i=k(n);if(i==null)return null;if(t(r,i))ki.push({from:i,to:i+1});else return null;return r}function vs(n,t){return ko(n,function(n){if(n.className!=t)return n.className=t,!0})}function bo(n,t){return ko(n,function(n,i){if(n.hidden!=t)return n.hidden=t,au(n,t?0:1),t&&(it.from.line==i||it.to.line==i)&&bu(vf(it.from,it.from.line,it.from.ch),vf(it.to,it.to.line,it.to.ch)),hr=!0})}function ls(n){var i,t;if(typeof n=="number"){if(!nu(n))return null;i=n,n=ui(n);if(!n)return null}else{i=k(n);if(i==null)return null}return t=n.gutterMarker,{line:i,handle:n,text:n.text,markerText:t&&t.text,markerClass:t&&t.style,lineClass:n.className}}function ce(n){return er.innerHTML="<pre><span>x</span></pre>",er.firstChild.firstChild.firstChild.nodeValue=n,er.firstChild.firstChild.offsetWidth||10}function go(n,t){var o="",u,r;ft.lineWrapping&&(u=n.text.indexOf(" ",t+2),o=e(n.text.slice(t+1,u<0?n.text.length:u+(d?5:0)))),er.innerHTML="<pre>"+n.getHTML(null,null,!1,of,t)+'<span id="CodeMirror-temp-'+ke+'">'+e(n.text.charAt(t)||" ")+"</span>"+o+"</pre>";var i=document.getElementById("CodeMirror-temp-"+ke),f=i.offsetTop,s=i.offsetLeft;return d&&t&&f==0&&s==0&&(r=document.createElement("span"),r.innerHTML="x",i.parentNode.insertBefore(r,i.nextSibling),f=r.offsetTop),{top:f,left:s}}function ku(n,t){var u,f=cr(),i=f*(vt(at,n.line)-(t?vu:0)),r;return n.ch==0?u=0:(r=go(ui(n.line),n.ch),u=r.left,ft.lineWrapping&&(i+=Math.max(0,r.top))),{x:u,y:i,yBot:i+f}}function oe(n,t){function l(n){var t=go(p,n),i;return y?(i=Math.round(t.top/v),Math.max(0,t.left+(i-a)*ii.clientWidth)):t.left}var f,s,h;t<0&&(t=0);var v=cr(),k=nf(),w=vu+Math.floor(t/v),u=yt(at,w);if(u>=at.size)return{line:at.size-1,ch:ui(at.size-1).text.length};var p=ui(u),b=p.text,y=ft.lineWrapping,a=y?w-vt(at,u):0;if(n<=0&&a==0)return{line:u,ch:0};for(var e=0,c=0,i=b.length,o,r=Math.min(i,Math.ceil((n+a*ii.clientWidth*.9)/k));;){f=l(r);if(f<=n&&r<i)r=Math.min(i,Math.ceil(r*1.2));else{o=f,i=r;break}}if(n>o)return{line:u,ch:i};for(r=Math.floor(i*.8),f=l(r),f<n&&(e=r,c=f);;){if(i-e<=1)return{line:u,ch:o-n>n-c?e:i};s=Math.ceil((e+i)/2),h=l(s),h>n?(i=s,o=h):(e=s,c=h)}}function ts(n){var i=ku(n,!0),t=l(wi);return{x:t.left+i.x,y:t.top+i.y,yBot:t.top+i.yBot}}function cr(){var t,n;if(yu==null){for(yu="<pre>",t=0;t<49;++t)yu+="x<br/>";yu+="x</pre>"}return n=nr.clientHeight,n==no?fe:(no=n,er.innerHTML=yu,fe=er.firstChild.offsetHeight/50||1,er.innerHTML="",fe)}function nf(){return ii.clientWidth==io?ro:(io=ii.clientWidth,ro=ce("x"))}function tu(){return wi.offsetTop}function ae(){return wi.offsetLeft}function iu(n,t){var f=l(ii,!0),r,i,u;try{r=n.clientX,i=n.clientY}catch(n){return null}return!t&&(r-f.left>ii.clientWidth||i-f.top>ii.clientHeight)?null:(u=l(wi,!0),oe(r-u.left,i-u.top))}function ns(n){function e(){var n=a(fi.value).join("\n");n!=u&&dt(cu)(n,"end"),fu.style.position="relative",fi.style.cssText=o,ou=!1,cf(!0),lf()}var r=iu(n),o,u,f;if(!r||window.opera)return;(i(it.from,it.to)||s(r,it.from)||!s(r,it.to))&&dt(vr)(r.line,r.ch),o=fi.style.cssText,fu.style.position="absolute",fi.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(n.clientY-5)+"px; left: "+(n.clientX-5)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",ou=!0,u=fi.value=af(),gr(),fi.select(),ot?(w(n),f=t(window,"mouseup",function(){f(),setTimeout(e,20)},!0)):setTimeout(e,50)}function wo(){clearInterval(bf);var n=!0;or.style.visibility="",bf=setInterval(function(){or.style.visibility=(n=!n)?"":"hidden"},650)}function ao(n){function b(n,t,r){var e,u,v,f,y,c,l,w,a;if(!n.text)return;for(e=n.styles,u=i?0:n.text.length-1,f=i?0:e.length-2,y=i?e.length:-2;f!=y;f+=2*o){c=e[f];if(e[f+1]!=null&&e[f+1]!=s){u+=o*c.length;continue}for(l=i?0:c.length-1,w=i?c.length:-1;l!=w;l+=o,u+=o)if(u>=t&&u<r&&p.test(v=c.charAt(l))){a=df[v];if(a.charAt(1)==">"==i)h.push(v);else{if(h.pop()!=a.charAt(0))return{pos:u,match:!1};if(!h.length)return{pos:u,match:!0}}}}}var f=it.inverted?it.from:it.to,e=ui(f.line),r=f.ch-1,l=r>=0&&df[e.text.charAt(r)]||df[e.text.charAt(++r)],s,h,p,t,c;if(!l)return;for(var g=l.charAt(0),i=l.charAt(1)==">",o=i?1:-1,a=e.styles,k=r+1,t=0,c=a.length;t<c;t+=2)if((k-=a[t].length)<=0){s=a[t+1];break}for(h=[e.text.charAt(r)],p=/[(){}[\]]/,t=f.line,c=i?Math.min(t+100,at.size):Math.max(-1,t-100);t!=c;t+=o){var e=ui(t),y=t==f.line,u=b(e,y&&i?r+1:0,y&&!i?r:e.text.length);if(u)break}u||(u={pos:null,match:!1});var s=u.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",d=se({line:f.line,ch:r},{line:f.line,ch:r+1},s),v=u.pos!=null&&se({line:t,ch:u.pos},{line:t,ch:u.pos+1},s),w=dt(function(){d.clear(),v&&v.clear()});n?setTimeout(w,800):ar=w}function lo(n){for(var e,u,r,i,t=n,f=n-40;t>f;--t){if(t==0)return 0;r=ui(t-1);if(r.stateAfter)return t;i=r.indentation(ft.tabSize),(u==null||e>i)&&(u=t-1,e=i)}return u}function tf(n){var i=lo(n),t=i&&ui(i-1).stateAfter;return t=t?y(yi,t):kt(yi),at.iter(i,n,function(n){n.highlight(yi,t,ft.tabSize),n.stateAfter=y(yi,t)}),i<n&&ki.push({from:i,to:n}),n<at.size&&!ui(n).stateAfter&&fr.push(n),t}function ch(n,t){var i=tf(n);at.iter(n,t,function(n){n.highlight(yi,i,ft.tabSize),n.stateAfter=y(yi,i)})}function fh(){var s=+new Date+ft.workTime,h=fr.length,t,r,n;while(fr.length){t=ui(bi).stateAfter?fr.pop():bi;if(t>=at.size)continue;r=lo(t),n=r&&ui(r-1).stateAfter,n=n?y(yi,n):kt(yi);var o=0,f=yi.compareStates,u=!1,i=r,e=!1;at.iter(i,at.size,function(r){var h=r.stateAfter,c;if(+new Date>s)return fr.push(i),pf(ft.workDelay),u&&ki.push({from:t,to:i+1}),e=!0;c=r.highlight(yi,n,ft.tabSize),c&&(u=!0),r.stateAfter=y(yi,n);if(f){if(h&&f(h,n))return!0}else if(c===!1&&h){if(++o>3&&(!yi.indent||yi.indent(h,"")==yi.indent(n,"")))return!0}else o=0;++i});if(e)return;u&&ki.push({from:t,to:i+1})}h&&ft.onHighlightComplete&&ft.onHighlightComplete(ai)}function pf(n){if(!fr.length)return;ps.set(n,dt(fh))}function kf(){br=uf=hu=null,ki=[],dr=!1,su=[]}function ie(){var u=!1,f,r,t,n;for(dr&&(u=!pe()),ki.length?f=wu(ki,!0):(dr&&us(),hr&&ve()),u&&pe(),dr&&(sh(),wo()),ur&&!ou&&(br===!0||br!==!1&&dr)&&cf(uf),dr&&ft.matchBrackets&&setTimeout(dt(function(){ar&&(ar(),ar=null),i(it.from,it.to)&&ao(!1)}),20),r=hu,t=su,dr&&ft.onCursorActivity&&ft.onCursorActivity(ai),r&&ft.onChange&&ai&&ft.onChange(ai,r),n=0;n<t.length;++n)t[n](ai);f&&ft.onUpdate&&ft.onUpdate(ai)}function dt(n){return function(){to++||kf();try{var t=n.apply(this,arguments)}finally{--to||ie()}return t}}var ft={},gf=n.defaults,uu,kr,vi,tr,de,lu;for(uu in gf)gf.hasOwnProperty(uu)&&(ft[uu]=(g&&g.hasOwnProperty(uu)?g:gf)[uu]);kr=ft.document,vi=kr.createElement("div"),vi.className="CodeMirror"+(ft.lineWrapping?" CodeMirror-wrap":""),vi.innerHTML='<div style="overflow: hidden; position: relative; width: 3px; height: 0px;"><textarea style="position: absolute; padding: 0; width: 1px;" wrap="off" autocorrect="off" autocapitalize="off"></textarea></div><div class="CodeMirror-scroll" tabindex="-1"><div style="position: relative"><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div class="CodeMirror-lines"><div style="position: relative"><div style="position: absolute; width: 100%; height: 0; overflow: hidden; visibility: hidden"></div><pre class="CodeMirror-cursor">&#160;</pre><div></div></div></div></div></div></div>',v.appendChild?v.appendChild(vi):v(vi);var fu=vi.firstChild,fi=fu.firstChild,ii=vi.lastChild,di=ii.firstChild,rf=di.firstChild,gi=rf.firstChild,eu=gi.firstChild,wi=gi.nextSibling.firstChild,er=wi.firstChild,or=er.nextSibling,nr=or.nextSibling;vo(),lt&&(fi.style.width="0px"),st||(wi.draggable=!0),ft.tabindex!=null&&(fi.tabIndex=ft.tabindex),!ft.gutter&&!ft.lineNumbers&&(gi.style.display="none");try{ce("x")}catch(vh){throw vh.message.match(/runtime/i)&&(vh=new Error("A CodeMirror inside a P-style element does not work in Internet Explorer. (innerHTML bug)")),vh;}var ee=new pt,ps=new pt,bf,yi,at=new rt([new nt([new c("")])]),fr,ur;yo();var it={from:{line:0,ch:0},to:{line:0,ch:0},inverted:!1},rr,gu,pu,yf=0,te,ne=!1,ff=!1,br,uf,ki,hu,dr,ou,hr,su,vu=0,bi=0,ir=0,so=0,ar,lr="",wr,of=po();dt(function(){oo(ft.value||""),br=!1})(),tr=new bt,t(ii,"mousedown",dt(os)),t(ii,"dblclick",dt(fs)),t(wi,"dragstart",ks),t(wi,"selectstart",r),ot||t(ii,"contextmenu",ns),t(ii,"scroll",function(){yf=ii.scrollTop,wu([]),ft.fixedGutter&&(gi.style.left=ii.scrollLeft+"px"),ft.onScroll&&ft.onScroll(ai)}),t(window,"resize",function(){wu(!0)}),t(fi,"keyup",dt(hh)),t(fi,"input",du),t(fi,"keydown",dt(oh)),t(fi,"keypress",dt(eh)),t(fi,"focus",ru),t(fi,"blur",wf),t(ii,"dragenter",w),t(ii,"dragover",w),t(ii,"drop",dt(ss)),t(ii,"paste",function(){gr(),du()}),t(fi,"paste",du),t(fi,"cut",dt(function(){ft.readOnly||cu("")}));try{de=kr.activeElement==fi}catch(vh){}de?setTimeout(ru,20):wf();var ai=vi.CodeMirror={getValue:bs,setValue:dt(oo),getSelection:af,replaceSelection:dt(cu),focus:function(){gr(),ru(),du()},setOption:function(n,t){var i=ft[n];ft[n]=t,n=="mode"||n=="indentUnit"?yo():n=="readOnly"&&t=="nocursor"?(wf(),fi.blur()):n=="readOnly"&&!t?cf(!0):n=="theme"?vo():n=="lineWrapping"&&i!=t?dt(th)():n=="tabSize"&&dt(ds)(),(n=="lineNumbers"||n=="gutter"||n=="firstLineNumber"||n=="theme")&&dt(uh)()},getOption:function(n){return ft[n]},undo:dt(nh),redo:dt(gs),indentLine:dt(function(n,t){nu(n)&&hf(n,t==null?"smart":t?"add":"subtract")}),indentSelection:dt(ih),historySize:function(){return{undo:tr.done.length,redo:tr.undone.length}},clearHistory:function(){tr=new bt},matchBrackets:dt(function(){ao(!0)}),getTokenAt:dt(function(n){return n=pi(n),ui(n.line).getTokenAt(yi,tf(n.line),n.ch)}),getStateAfter:function(n){return n=sf(n==null?at.size-1:n),tf(n+1)},cursorCoords:function(n){return n==null&&(n=it.inverted),ts(n?it.from:it.to)},charCoords:function(n){return ts(pi(n))},coordsChar:function(n){var t=l(wi);return oe(n.x-t.left,n.y-t.top)},markText:dt(se),setBookmark:cs,setMarker:dt(es),clearMarker:dt(ws),setLineClass:dt(vs),hideLine:dt(function(n){return bo(n,!0)}),showLine:dt(function(n){return bo(n,!1)}),onDeleteLine:function(n,t){if(typeof n=="number"){if(!nu(n))return null;n=ui(n)}return(n.handlers||(n.handlers=[])).push(t),n},lineInfo:ls,addWidget:function(n,t,i,r,u){var e,f,s,o;n=ku(pi(n)),e=n.yBot,f=n.x,t.style.position="absolute",di.appendChild(t),r=="over"?e=n.y:r=="near"&&(s=Math.max(ii.offsetHeight,at.height*cr()),o=Math.max(di.clientWidth,wi.clientWidth)-ae(),n.yBot+t.offsetHeight>s&&n.y>t.offsetHeight&&(e=n.y-t.offsetHeight),f+t.offsetWidth>o&&(f=o-t.offsetWidth)),t.style.top=e+tu()+"px",t.style.left=t.style.right="",u=="right"?(f=di.clientWidth-t.offsetWidth,t.style.right="0px"):(u=="left"?f=0:u=="middle"&&(f=(di.clientWidth-t.offsetWidth)/2),t.style.left=f+ae()+"px"),i&&we(f,e,f+t.offsetWidth,e+t.offsetHeight)},lineCount:function(){return at.size},clipPos:pi,getCursor:function(n){return n==null&&(n=it.inverted),li(n?it.from:it.to)},somethingSelected:function(){return!i(it.from,it.to)},setCursor:dt(function(n,t,i){t==null&&typeof n.line=="number"?vr(n.line,n.ch,i):vr(n,t,i)}),setSelection:dt(function(n,t,i){(i?pr:bu)(pi(n),pi(t||n))}),getLine:function(n){if(nu(n))return ui(n).text},getLineHandle:function(n){if(nu(n))return ui(n)},setLine:dt(function(n,t){nu(n)&&sr(t,{line:n,ch:0},{line:n,ch:ui(n).text.length})}),removeLine:dt(function(n){nu(n)&&sr("",{line:n,ch:0},pi({line:n+1,ch:0}))}),replaceRange:dt(sr),getRange:function(n,t){return eo(pi(n),pi(t))},execCommand:function(n){return et[n](ai)},moveH:dt(hs),deleteH:dt(ah),moveV:dt(lh),toggleOverwrite:function(){ne=!ne},posFromIndex:function(n){var i=0,t;return at.iter(0,at.size,function(r){var u=r.text.length+1;if(u>n)return t=n,!0;n-=u,++i}),pi({line:i,ch:t})},indexFromPos:function(n){if(n.line<0||n.ch<0)return 0;var t=n.ch;return at.iter(0,n.line,function(n){t+=n.text.length+1}),t},operation:function(n){return dt(n)()},refresh:function(){wu(!0),ii.scrollHeight>yf&&(ii.scrollTop=yf)},getInputField:function(){return fi},getWrapperElement:function(){return vi},getScrollerElement:function(){return ii},getGutterElement:function(){return gi}},he=null,ue=!1,yr="",ef=null;le.prototype.clear=dt(function(){for(var r=Infinity,e=-Infinity,i,n,f,t,u=0,o=this.set.length;u<o;++u){i=this.set[u],n=i.marked;if(!n||!i.parent)continue;for(f=k(i),r=Math.min(r,f),e=Math.max(e,f),t=0;t<n.length;++t)n[t].set==this.set&&n.splice(t--,1)}r!=Infinity&&ki.push({from:r,to:e+1})}),le.prototype.find=function(){for(var e,o,f,u,t,n,r,i=0,s=this.set.length;i<s;++i)for(f=this.set[i],u=f.marked,t=0;t<u.length;++t)n=u[t],n.set==this.set&&(n.from!=null||n.to!=null)&&(r=k(f),r!=null&&(n.from!=null&&(e={line:r,ch:n.from}),n.to!=null&&(o={line:r,ch:n.to})));return{from:e,to:o}};var ke=Math.floor(Math.random()*16777215).toString(16),fe,no,yu,ro,io=0,df={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},to=0;for(lu in p)p.propertyIsEnumerable(lu)&&!ai.propertyIsEnumerable(lu)&&(ai[lu]=p[lu]);return ai}function ni(n,t,i){function r(n,t,i){var u=t[n],e,o;if(u!=null)return u;i==null&&(i=t.fallthrough);if(i==null)return t.catchall;if(typeof i=="string")return r(n,f[i]);for(e=0,o=i.length;e<o;++e){u=r(n,f[i[e]]);if(u!=null)return u}return null}return t?r(n,t,i):r(n,f[i])}function hi(n){var t=h[u(n,"keyCode")];return t=="Ctrl"||t=="Alt"||t=="Shift"||t=="Mod"}function y(n,t){var r,u,i;if(t===!0)return t;if(n.copyState)return n.copyState(t);r={};for(u in t)i=t[u],i instanceof Array&&(i=i.concat([])),r[u]=i;return r}function kt(n,t,i){return n.startState?n.startState(t,i):!0}function it(n,t){this.pos=this.start=0,this.string=n,this.tabSize=t||8}function tt(n,t,i,r){this.from=n,this.to=t,this.style=i,this.set=r}function gt(n){this.from=n,this.to=n,this.line=null}function c(n,t){this.styles=t||[n,null],this.text=n,this.height=1,this.marked=this.gutterMarker=this.className=this.handlers=null,this.stateAfter=this.parent=this.hidden=null}function ft(n,t,i,r){for(var u,e,o=0,f=0,s=0;f<t;o+=2)u=i[o],e=f+u.length,s==0?(e>n&&r.push(u.slice(n-f,Math.min(u.length,t-f)),i[o+1]),e>=n&&(s=1)):s==1&&(e>t?r.push(u.slice(0,t-f),i[o+1]):r.push(u,i[o+1])),f=e}function nt(n){this.lines=n,this.parent=null;for(var t=0,r=n.length,i=0;t<r;++t)n[t].parent=this,i+=n[t].height;this.height=i}function rt(n){var u,r,t,f,i;for(this.children=n,u=0,r=0,t=0,f=n.length;t<f;++t)i=n[t],u+=i.chunkSize(),r+=i.height,i.parent=this;this.size=u,this.height=r,this.parent=null}function ri(n,t){var u,r,i;while(!n.lines)for(u=0;;++u){r=n.children[u],i=r.chunkSize();if(t<i){n=r;break}t-=i}return n.lines[t]}function k(n){var i,u,t,r,f;if(n.parent==null)return null;for(i=n.parent,u=b(i.lines,n),t=i.parent;t;i=t,t=t.parent)for(r=0,f=t.children.length;;++r){if(t.children[r]==i)break;u+=t.children[r].chunkSize()}return u}function yt(n,t){var o=0,r,e,i,u,s,f;n:do{for(i=0,u=n.children.length;i<u;++i){r=n.children[i],e=r.height;if(t<e){n=r;continue n}t-=e,o+=r.chunkSize()}return o}while(!n.lines);for(i=0,u=n.lines.length;i<u;++i){s=n.lines[i],f=s.height;if(t<f)break;t-=f}return o+i}function vt(n,t){var u=0,e,r,f,i;n:do{for(i=0,e=n.children.length;i<e;++i){r=n.children[i],f=r.chunkSize();if(t<f){n=r;continue n}t-=f,u+=r.height}return u}while(!n.lines);for(i=0;i<t;++i)u+=n.lines[i].height;return u}function bt(){this.time=0,this.done=[],this.undone=[]}function ii(){w(this)}function wt(n){return n.stop||(n.stop=ii),n}function r(n){n.preventDefault?n.preventDefault():n.returnValue=!1}function dt(n){n.stopPropagation?n.stopPropagation():n.cancelBubble=!0}function w(n){r(n),dt(n)}function ut(n){return n.target||n.srcElement}function si(n){return n.which?n.which:n.button&1?1:n.button&2?3:n.button&4?2:void 0}function u(n,t){return n.override?n.override[t]:n[t]}function t(n,t,i,r){if(typeof n.addEventListener=="function"){n.addEventListener(t,i,!1);if(r)return function(){n.removeEventListener(t,i,!1)}}else{var u=function(n){i(n||window.event)};n.attachEvent("on"+t,u);if(r)return function(){n.detachEvent("on"+t,u)}}}function pt(){this.id=null}function at(n,t,i){t==null&&(t=n.search(/[^\s\u00a0]/),t==-1&&(t=n.length));for(var u=0,r=0;u<t;++u)n.charAt(u)=="\t"?r+=i-r%i:++r;return r}function fi(n){return n.currentStyle?n.currentStyle:window.getComputedStyle(n,null)}function l(n,t){for(var h=n.ownerDocument.body,u=0,r=0,s=!1,e,f,o,i=n;i;i=i.offsetParent)e=i.offsetLeft,f=i.offsetTop,i==h?(u+=Math.abs(e),r+=Math.abs(f)):(u+=e,r+=f),t&&fi(i).position=="fixed"&&(s=!0);for(o=t&&!s?null:h,i=n.parentNode;i!=o;i=i.parentNode)i.scrollLeft!=null&&(u-=i.scrollLeft,r-=i.scrollTop);return{left:u,top:r}}function ei(n){return n.textContent||n.innerText||n.nodeValue||""}function i(n,t){return n.line==t.line&&n.ch==t.ch}function s(n,t){return n.line<t.line||n.line==t.line&&n.ch<t.ch}function li(n){return{line:n.line,ch:n.ch}}function e(n){return o.textContent=n,o.innerHTML}function oi(n,t){if(!t)return 0;if(!n)return t.length;for(var r=n.length,i=t.length;r>=0&&i>=0;--r,--i)if(n.charAt(r)!=t.charAt(i))break;return i+1}function b(n,t){if(n.indexOf)return n.indexOf(t);for(var i=0,r=n.length;i<r;++i)if(n[i]==t)return i;return-1}function ht(n){return/\w/.test(n)||n.toUpperCase()!=n.toLowerCase()}var p,et,f,o,a,ti,h;n.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:!1,smartIndent:!0,tabSize:4,keyMap:"default",extraKeys:null,electricChars:!0,onKeyEvent:null,lineWrapping:!1,lineNumbers:!1,gutter:!1,fixedGutter:!1,firstLineNumber:1,readOnly:!1,onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,onUpdate:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:!1,workTime:100,workDelay:200,pollInterval:100,undoDepth:40,tabindex:null,document:window.document};var lt=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),ct=lt||/Mac/.test(navigator.platform),ai=/Win/.test(navigator.platform),g={},v={};n.defineMode=function(t,i){!n.defaults.mode&&t!="null"&&(n.defaults.mode=t),g[t]=i},n.defineMIME=function(n,t){v[n]=t},n.getMode=function(t,i){var r,f,u;return typeof i=="string"&&v.hasOwnProperty(i)&&(i=v[i]),typeof i=="string"?(r=i,f={}):i!=null&&(r=i.name,f=i),u=g[r],u?u(t,f||{}):(window.console&&console.warn("No mode "+r+" found, falling back to plain text."),n.getMode(t,"text/plain"))},n.listModes=function(){var t=[],n;for(n in g)g.propertyIsEnumerable(n)&&t.push(n);return t},n.listMIMEs=function(){var t=[],n;for(n in v)v.propertyIsEnumerable(n)&&t.push({mime:n,mode:v[n]});return t},p=n.extensions={},n.defineExtension=function(n,t){p[n]=t},et=n.commands={selectAll:function(n){n.setSelection({line:0,ch:0},{line:n.lineCount()-1})},killLine:function(n){var t=n.getCursor(!0),u=n.getCursor(!1),r=!i(t,u);!r&&n.getLine(t.line).length==t.ch?n.replaceRange("",t,{line:t.line+1,ch:0}):n.replaceRange("",t,r?u:{line:t.line})},deleteLine:function(n){var t=n.getCursor().line;n.replaceRange("",{line:t,ch:0},{line:t})},undo:function(n){n.undo()},redo:function(n){n.redo()},goDocStart:function(n){n.setCursor(0,0,!0)},goDocEnd:function(n){n.setSelection({line:n.lineCount()-1},null,!0)},goLineStart:function(n){n.setCursor(n.getCursor().line,0,!0)},goLineStartSmart:function(n){var t=n.getCursor(),r=n.getLine(t.line),i=Math.max(0,r.search(/\S/));n.setCursor(t.line,t.ch<=i&&t.ch?0:i,!0)},goLineEnd:function(n){n.setSelection({line:n.getCursor().line},null,!0)},goLineUp:function(n){n.moveV(-1,"line")},goLineDown:function(n){n.moveV(1,"line")},goPageUp:function(n){n.moveV(-1,"page")},goPageDown:function(n){n.moveV(1,"page")},goCharLeft:function(n){n.moveH(-1,"char")},goCharRight:function(n){n.moveH(1,"char")},goColumnLeft:function(n){n.moveH(-1,"column")},goColumnRight:function(n){n.moveH(1,"column")},goWordLeft:function(n){n.moveH(-1,"word")},goWordRight:function(n){n.moveH(1,"word")},delCharLeft:function(n){n.deleteH(-1,"char")},delCharRight:function(n){n.deleteH(1,"char")},delWordLeft:function(n){n.deleteH(-1,"word")},delWordRight:function(n){n.deleteH(1,"word")},indentAuto:function(n){n.indentSelection("smart")},indentMore:function(n){n.indentSelection("add")},indentLess:function(n){n.indentSelection("subtract")},insertTab:function(n){n.replaceSelection("\t","end")},transposeChars:function(n){var t=n.getCursor(),i=n.getLine(t.line);t.ch>0&&t.ch<i.length-1&&n.replaceRange(i.charAt(t.ch)+i.charAt(t.ch-1),{line:t.line,ch:t.ch-1},{line:t.line,ch:t.ch+1})},newlineAndIndent:function(n){n.replaceSelection("\n","end"),n.indentLine(n.getCursor().line)},toggleOverwrite:function(n){n.toggleOverwrite()}},f=n.keyMap={},f.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharRight",Backspace:"delCharLeft",Tab:"indentMore","Shift-Tab":"indentLess",Enter:"newlineAndIndent",Insert:"toggleOverwrite"},f.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordLeft","Ctrl-Delete":"delWordRight","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll",fallthrough:"basic"},f.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordLeft","Ctrl-Alt-Backspace":"delWordRight","Alt-Delete":"delWordRight","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll",fallthrough:["basic","emacsy"]},f["default"]=ct?f.macDefault:f.pcDefault,f.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageUp","Shift-Ctrl-V":"goPageDown","Ctrl-D":"delCharRight","Ctrl-H":"delCharLeft","Alt-D":"delWordRight","Alt-Backspace":"delWordLeft","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},n.fromTextArea=function(i,r){function f(){i.value=u.getValue()}var o,e,u;r||(r={}),r.value=i.value,!r.tabindex&&i.tabindex&&(r.tabindex=i.tabindex);if(i.form){o=t(i.form,"submit",f,!0);if(typeof i.form.submit=="function"){e=i.form.submit;function s(){f(),i.form.submit=e,i.form.submit(),i.form.submit=s}i.form.submit=s}}return i.style.display="none",u=n(function(n){i.parentNode.insertBefore(n,i.nextSibling)},r),u.save=f,u.getTextArea=function(){return i},u.toTextArea=function(){f(),i.parentNode.removeChild(u.getWrapperElement()),i.style.display="",i.form&&(o(),typeof i.form.submit=="function"&&(i.form.submit=e))},u},n.copyState=y,n.startState=kt,it.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==0},peek:function(){return this.string.charAt(this.pos)},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(n){var t=this.string.charAt(this.pos),i;return i=typeof n=="string"?t==n:t&&(n.test?n.test(t):n(t)),i?(++this.pos,t):void 0},eatWhile:function(n){var t=this.pos;while(this.eat(n));return this.pos>t},eatSpace:function(){var n=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos)))++this.pos;return this.pos>n},skipToEnd:function(){this.pos=this.string.length},skipTo:function(n){var t=this.string.indexOf(n,this.pos);if(t>-1)return this.pos=t,!0},backUp:function(n){this.pos-=n},column:function(){return at(this.string,this.start,this.tabSize)},indentation:function(){return at(this.string,null,this.tabSize)},match:function(n,t,i){function u(n){return i?n.toLowerCase():n}if(typeof n!="string"){var r=this.string.slice(this.pos).match(n);return r&&t!==!1&&(this.pos+=r[0].length),r}if(u(this.string).indexOf(u(n),this.pos)==this.pos)return t!==!1&&(this.pos+=n.length),!0},current:function(){return this.string.slice(this.start,this.pos)}},n.StringStream=it,tt.prototype={attach:function(n){this.set.push(n)},detach:function(n){var t=b(this.set,n);t>-1&&this.set.splice(t,1)},split:function(n,t){if(this.to<=n&&this.to!=null)return null;var r=this.from<n||this.from==null?null:this.from-n+t,i=this.to==null?null:this.to-n+t;return new tt(r,i,this.style,this.set)},dup:function(){return new tt(null,null,this.style,this.set)},clipTo:function(n,t,i,r,u){this.from!=null&&this.from>=t&&(this.from=Math.max(r,this.from)+u),this.to!=null&&this.to>t&&(this.to=r<this.to?this.to+u:t),n&&r>this.from&&(r<this.to||this.to==null)&&(this.from=null),i&&(t<this.to||this.to==null)&&(t>this.from||this.from==null)&&(this.to=null)},isDead:function(){return this.from!=null&&this.to!=null&&this.from>=this.to},sameSet:function(n){return this.set==n.set}},gt.prototype={attach:function(n){this.line=n},detach:function(n){this.line==n&&(this.line=null)},split:function(n,t){if(n<this.from)return this.from=this.to=this.from-n+t,this},isDead:function(){return this.from>this.to},clipTo:function(n,t,i,r,u){(n||t<this.from)&&(i||r>this.to)?(this.from=0,this.to=-1):this.from>t&&(this.from=this.to=Math.max(r,this.from)+u)},sameSet:function(){return!1},find:function(){return!this.line||!this.line.parent?null:{line:k(this.line),ch:this.from}},clear:function(){if(this.line){var n=b(this.line.marked,this);n!=-1&&this.line.marked.splice(n,1),this.line=null}}},c.inheritMarks=function(n,t){var u=new c(n),r=t&&t.marked,i;if(r)for(i=0;i<r.length;++i)if(r[i].to==null&&r[i].style){var e=u.marked||(u.marked=[]),o=r[i],f=o.dup();e.push(f),f.attach(u)}return u},c.prototype={replace:function(n,t,i){var e=[],o=this.marked,f=t==null?this.text.length:t,s,r,u;ft(0,n,this.styles,e),i&&e.push(i,null),ft(f,this.text.length,this.styles,e),this.styles=e,this.text=this.text.slice(0,n)+i+this.text.slice(f),this.stateAfter=null;if(o)for(s=i.length-(f-n),r=0;r<o.length;++r)u=o[r],u.clipTo(n==null,n||0,t==null,f,s),u.isDead()&&(u.detach(this),o.splice(r--,1))},split:function(n,t){var e=[t,null],f=this.marked,i,r,o,u;ft(n,this.text.length,this.styles,e),i=new c(t+this.text.slice(n),e);if(f)for(r=0;r<f.length;++r)o=f[r],u=o.split(n,t.length),u&&(i.marked||(i.marked=[]),i.marked.push(u),u.attach(i));return i},append:function(n){var e=this.text.length,f=n.marked,r=this.marked,t,i,o,u;this.text+=n.text,ft(0,n.text.length,n.styles,this.styles);if(r)for(t=0;t<r.length;++t)r[t].to==null&&(r[t].to=e);if(f&&f.length){r||(this.marked=r=[]);n:for(t=0;t<f.length;++t){i=f[t];if(!i.from)for(o=0;o<r.length;++o){u=r[o];if(u.to==e&&u.sameSet(i)){u.to=i.to==null?null:i.to+e,u.isDead()&&(u.detach(this),f.splice(t--,1));continue n}}r.push(i),i.attach(this),i.from+=e,i.to!=null&&(i.to+=e)}}},fixMarkEnds:function(n){var f=this.marked,e=n.marked,u,t,i,r;if(!f)return;for(u=0;u<f.length;++u){t=f[u],i=t.to==null;if(i&&e)for(r=0;r<e.length;++r)if(e[r].sameSet(t)){i=!1;break}i&&(t.to=this.text.length)}},fixMarkStarts:function(){var t=this.marked,n;if(!t)return;for(n=0;n<t.length;++n)t[n].from==null&&(t[n].from=0)},addMark:function(n){n.attach(this),this.marked==null&&(this.marked=[]),this.marked.push(n),this.marked.sort(function(n,t){return(n.from||0)-(t.from||0)})},highlight:function(n,t,i){var f=new it(this.text,i),u=this.styles,r=0,e=!1,c=u[0],h,o,s;this.text==""&&n.blankLine&&n.blankLine(t);while(!f.eol()){o=n.token(f,t),s=this.text.slice(f.start,f.pos),f.start=f.pos,r&&u[r-1]==o?u[r-2]+=s:s&&(!e&&(u[r+1]!=o||r&&u[r-2]!=h)&&(e=!0),u[r++]=s,u[r++]=o,h=c,c=u[r]);if(f.pos>5e3){u[r++]=this.text.slice(f.pos),u[r++]=null;break}}return u.length!=r&&(u.length=r,e=!0),r&&u[r-2]!=h&&(e=!0),e||(u.length<5&&this.text.length<10?null:!1)},getTokenAt:function(n,t,i){var f=this.text,r=new it(f),u;while(r.pos<i&&!r.eol())r.start=r.pos,u=n.token(r,t);return{start:r.start,end:r.pos,string:r.current(),className:u||null,state:t}},indentation:function(n){return at(this.text,null,n)},getHTML:function(n,t,i,r,u){function w(n,t){if(!n)return;ft&&d&&n.charAt(0)==" "&&(n=" "+n.slice(1)),ft=!1,t?y.push('<span class="',t,'">',e(n).replace(/\t/g,r),"</span>"):y.push(e(n).replace(/\t/g,r))}function et(n){return n?"cm-"+n.replace(/ +/g," cm-"):null}var y=[],ft=!0,h,l,v,f,c,k,it;i&&y.push(this.className?'<pre class="'+this.className+'">':"<pre>");var b=this.styles,ut=this.text,nt=this.marked;n==t&&(n=null),h=ut.length,u!=null&&(h=Math.min(u,h));if(ut||u!=null)if(nt||n!=null){var s=0,l=0,a="",p,st=0,tt=-1,o=null;function ot(){nt&&(tt+=1,o=tt<nt.length?nt[tt]:null)}ot();while(s<h){f=h,c="",n!=null&&(n>s?f=n:(t==null||t>s)&&(c=" CodeMirror-selected",t!=null&&(f=Math.min(f,t))));while(o&&o.to!=null&&o.to<=s)ot();for(o&&(o.from>s?f=Math.min(f,o.from):(c+=" "+o.style,o.to!=null&&(f=Math.min(f,o.to))));;){k=s+a.length,it=p,c&&(it=p?p+c:c),w(k>f?a.slice(0,f-s):a,it);if(k>=f){a=a.slice(f-s),s=f;break}s=k,a=b[l++],p=et(b[l++])}}n!=null&&t==null&&w(" ","CodeMirror-selected")}else for(l=0,v=0;v<h;l+=2){var g=b[l],p=b[l+1],rt=g.length;v+rt>h&&(g=g.slice(0,h-v)),v+=rt,w(g,et(p))}else w(" ",n!=null&&t==null?"CodeMirror-selected":null);return i&&y.push("</pre>"),y.join("")},cleanUp:function(){this.parent=null;if(this.marked)for(var n=0,t=this.marked.length;n<t;++n)this.marked[n].detach(this)}},nt.prototype={chunkSize:function(){return this.lines.length},remove:function(n,t,i){for(var r,u,f=n,e=n+t;f<e;++f){r=this.lines[f],this.height-=r.height,r.cleanUp();if(r.handlers)for(u=0;u<r.handlers.length;++u)i.push(r.handlers[u])}this.lines.splice(n,t)},collapse:function(n){n.splice.apply(n,[n.length,0].concat(this.lines))},insertHeight:function(n,t,i){this.height+=i,this.lines.splice.apply(this.lines,[n,0].concat(t));for(var r=0,u=t.length;r<u;++r)t[r].parent=this},iterN:function(n,t,i){for(var r=n+t;n<r;++n)if(i(this.lines[n]))return!0}},rt.prototype={chunkSize:function(){return this.size},remove:function(n,t,i){var f,r,u,e,s,o;for(this.size-=t,f=0;f<this.children.length;++f){r=this.children[f],u=r.chunkSize();if(n<u){e=Math.min(t,u-n),s=r.height,r.remove(n,e,i),this.height-=s-r.height,u==e&&(this.children.splice(f--,1),r.parent=null);if((t-=e)==0)break;n=0}else n-=u}this.size-t<25&&(o=[],this.collapse(o),this.children=[new nt(o)],this.children[0].parent=this)},collapse:function(n){for(var t=0,i=this.children.length;t<i;++t)this.children[t].collapse(n)},insert:function(n,t){for(var u=0,i=0,r=t.length;i<r;++i)u+=t[i].height;this.insertHeight(n,t,u)},insertHeight:function(n,t,i){var u,o,r,e,s,f;for(this.size+=t.length,this.height+=i,u=0,o=this.children.length;u<o;++u){r=this.children[u],e=r.chunkSize();if(n<=e){r.insertHeight(n,t,i);if(r.lines&&r.lines.length>50){while(r.lines.length>50)s=r.lines.splice(r.lines.length-25,25),f=new nt(s),r.height-=f.height,this.children.splice(u+1,0,f),f.parent=this;this.maybeSpill()}break}n-=e}},maybeSpill:function(){var n,u,t,i,r;if(this.children.length<=10)return;n=this;do u=n.children.splice(n.children.length-5,5),t=new rt(u),n.parent?(n.size-=t.size,n.height-=t.height,r=b(n.parent.children,n),n.parent.children.splice(r+1,0,t)):(i=new rt(n.children),i.parent=n,n.children=[i,t],n=i),t.parent=n.parent;while(n.children.length>10);n.parent.maybeSpill()},iter:function(n,t,i){this.iterN(n,t-n,i)},iterN:function(n,t,i){for(var e,r,f,u=0,o=this.children.length;u<o;++u){e=this.children[u],r=e.chunkSize();if(n<r){f=Math.min(t,r-n);if(e.iterN(n,f,i))return!0;if((t-=f)==0)break;n=0}else n-=r}}},bt.prototype={addChange:function(n,t,i){var e,r,f,u,o;this.undone.length=0,e=+new Date,r=this.done[this.done.length-1];if(e-this.time>400||!r||r.start>n+t||r.start+r.added<n-r.added+r.old.length)this.done.push({start:n,added:t,old:i});else{f=0;if(n<r.start){for(u=r.start-n-1;u>=0;--u)r.old.unshift(i[u]);r.added+=r.start-n,r.start=n}else r.start<n&&(f=n-r.start,t+=f);for(u=r.added-f,o=i.length;u<o;++u)r.old.push(i[u]);r.added<t&&(r.added=t)}this.time=e}},n.e_stop=w,n.e_preventDefault=r,n.e_stopPropagation=dt,n.connect=t,pt.prototype={set:function(n,t){clearTimeout(this.id),this.id=setTimeout(t,n)}};var ci=function(){if(/MSIE [1-8]\b/.test(navigator.userAgent))return!1;var n=document.createElement("div");return"draggable"in n}(),ot=/gecko\/\d{7}/i.test(navigator.userAgent),d=/MSIE \d/.test(navigator.userAgent),st=/WebKit\//.test(navigator.userAgent),ui="\n";return function(){var n=document.createElement("textarea");n.value="foo\nbar",n.value.indexOf("\r")>-1&&(ui="\r\n")}(),document.documentElement.getBoundingClientRect!=null&&(l=function(n,t){var i,r;try{i=n.getBoundingClientRect(),i={top:i.top,left:i.left}}catch(u){i={top:0,left:0}}return t||(window.pageYOffset==null?(r=document.documentElement||document.body.parentNode,r.scrollTop==null&&(r=document.body),i.top+=r.scrollTop,i.left+=r.scrollLeft):(i.top+=window.pageYOffset,i.left+=window.pageXOffset)),i}),o=document.createElement("pre"),e("a")=="\na"?e=function(n){return o.textContent=n,o.innerHTML.slice(1)}:e("\t")!="\t"&&(e=function(n){return o.innerHTML="",o.appendChild(document.createTextNode(n)),o.innerHTML}),n.htmlEscape=e,a="\n\nb".split(/\n/).length!=3?function(n){var i=0,t,r=[];while((t=n.indexOf("\n",i))>-1)r.push(n.slice(i,n.charAt(t-1)=="\r"?t-1:t)),i=t+1;return r.push(n.slice(i)),r}:function(n){return n.split(/\r?\n/)},n.splitLines=a,ti=window.getSelection?function(n){try{return n.selectionStart!=n.selectionEnd}catch(t){return!1}}:function(n){try{var t=n.ownerDocument.selection.createRange()}catch(i){}return!t||t.parentElement()!=n?!1:t.compareEndPoints("StartToEnd",t)!=0},n.defineMode("null",function(){return{token:function(n){n.skipToEnd()}}}),n.defineMIME("text/plain","null"),h={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"},n.keyNames=h,function(){for(var n=0;n<10;n++)h[n+48]=String(n);for(n=65;n<=90;n++)h[n]=String.fromCharCode(n);for(n=1;n<=12;n++)h[n+111]=h[n+63235]="F"+n}(),n}(),CodeMirror.defineMode("javascript",function(n,t){function ot(n,t,i){return t.tokenize=i,i(n,t)}function tt(n,t){var i=!1,r;while((r=n.next())!=null){if(r==t&&!i)return!1;i=!i&&r=="\\"}return i}function s(n,t,i){return a=n,st=i,t}function y(n,t){var i=n.next(),r,u;return i=='"'||i=="'"?ot(n,t,wt(i)):/[\[\]{}\(\),;\:\.]/.test(i)?s(i):i=="0"&&n.eat(/x/i)?(n.eatWhile(/[\da-f]/i),s("number","number")):/\d/.test(i)?(n.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),s("number","number")):i=="/"?n.eat("*")?ot(n,t,kt):n.eat("/")?(n.skipToEnd(),s("comment","comment")):t.reAllowed?(tt(n,"/"),n.eatWhile(/[gimy]/),s("regexp","string")):(n.eatWhile(b),s("operator",null,n.current())):i=="#"?(n.skipToEnd(),s("error","error")):b.test(i)?(n.eatWhile(b),s("operator",null,n.current())):(n.eatWhile(/[\w\$_]/),r=n.current(),u=ht.propertyIsEnumerable(r)&&ht[r],u&&t.kwAllowed?s(u.type,u.style,r):s("variable","variable",r))}function wt(n){return function(t,i){return tt(t,n)||(i.tokenize=y),s("string","string")}}function kt(n,t){var r=!1,i;while(i=n.next()){if(i=="/"&&r){t.tokenize=y;break}r=i=="*"}return s("comment","comment")}function lt(n,t,i,r,u,f){this.indented=n,this.column=t,this.type=i,this.prev=u,this.info=f,r!=null&&(this.align=r)}function bt(n,t){for(var i=n.localVars;i;i=i.next)if(i.name==t)return!0}function ni(n,t,i,u,e){var o=n.cc,s;for(r.state=n,r.stream=e,r.marked=null,r.cc=o,n.lexical.hasOwnProperty("align")||(n.lexical.align=!0);;){s=o.length?o.pop():at?f:l;if(s(i,u)){while(o.length&&o[o.length-1].lex)o.pop()();return r.marked?r.marked:i=="variable"&&bt(n,u)?"variable-2":t}}}function h(){for(var n=arguments.length-1;n>=0;n--)r.cc.push(arguments[n])}function i(){return h.apply(null,arguments),!0}function g(n){var i=r.state,t;if(i.context){for(r.marked="def",t=i.localVars;t;t=t.next)if(t.name==n)return;i.localVars={name:n,next:i.localVars}}}function ft(){r.state.context||(r.state.localVars=vt),r.state.context={prev:r.state.context,vars:r.state.localVars}}function ct(){r.state.localVars=r.state.context.vars,r.state.context=r.state.context.prev}function e(n,t){var i=function(){var i=r.state;i.lexical=new lt(i.indented,r.stream.column(),n,null,i.lexical,t)};return i.lex=!0,i}function u(){var n=r.state;n.lexical.prev&&(n.lexical.type==")"&&(n.indented=n.lexical.indented),n.lexical=n.lexical.prev)}function o(n){return function(t){return t==n?i():n==";"?h():i(arguments.callee)}}function l(n){return n=="var"?i(e("vardef"),k,o(";"),u):n=="keyword a"?i(e("form"),f,l,u):n=="keyword b"?i(e("form"),l,u):n=="{"?i(e("}"),nt,u):n==";"?i():n=="function"?i(d):n=="for"?i(e("form"),o("("),e(")"),dt,o(")"),u,l,u):n=="variable"?i(e("stat"),pt):n=="switch"?i(e("form"),f,e("}","switch"),o("{"),nt,u,u):n=="case"?i(f,o(":")):n=="default"?i(o(":")):n=="catch"?i(e("form"),ft,o("("),ut,o(")"),l,u,ct):h(e("stat"),f,o(";"),u)}function f(n){return et.hasOwnProperty(n)?i(c):n=="function"?i(d):n=="keyword c"?i(yt):n=="("?i(e(")"),f,o(")"),u,c):n=="operator"?i(f):n=="["?i(e("]"),w(f,"]"),u,c):n=="{"?i(e("}"),w(ii,"}"),u,c):i()}function yt(n){return n.match(/[;\}\)\],]/)?h():h(f)}function c(n,t){return n=="operator"&&/\+\+|--/.test(t)?i(c):n=="operator"?i(f):n==";"?void 0:n=="("?i(e(")"),w(f,")"),u,c):n=="."?i(ti,c):n=="["?i(e("]"),f,o("]"),u,c):void 0}function pt(n){return n==":"?i(u,l):h(c,o(";"),u)}function ti(n){if(n=="variable")return r.marked="property",i()}function ii(n){return n=="variable"&&(r.marked="property"),et.hasOwnProperty(n)?i(o(":"),f):void 0}function w(n,t){function r(u){return u==","?i(n,r):u==t?i():i(o(t))}return function(u){return u==t?i():h(n,r)}}function nt(n){return n=="}"?i():h(l,nt)}function k(n,t){return n=="variable"?(g(t),i(it)):i()}function it(n,t){return t=="="?i(f,it):n==","?i(k):void 0}function dt(n){return n=="var"?i(k,p):n==";"?h(p):n=="variable"?i(gt):h(p)}function gt(n,t){return t=="in"?i(f):i(c,p)}function p(n,t){return n==";"?i(rt):t=="in"?i(f):i(f,o(";"),rt)}function rt(n){n!=")"&&i(f)}function d(n,t){return n=="variable"?(g(t),i(d)):n=="("?i(e(")"),ft,w(ut,")"),u,l,ct):void 0}function ut(n,t){if(n=="variable")return g(t),i()}var v=n.indentUnit,at=t.json,ht=function(){function n(n){return{type:n,style:"keyword"}}var u=n("keyword a"),r=n("keyword b"),t=n("keyword c"),f=n("operator"),i={type:"atom",style:"atom"};return{"if":u,"while":u,"with":u,"else":r,"do":r,"try":r,"finally":r,"return":t,"break":t,"continue":t,"new":t,"delete":t,"throw":t,"var":n("var"),"const":n("var"),let:n("var"),"function":n("function"),"catch":n("catch"),"for":n("for"),"switch":n("switch"),"case":n("case"),"default":n("default"),"in":f,"typeof":f,"instanceof":f,"true":i,"false":i,"null":i,undefined:i,NaN:i,Infinity:i}}(),b=/[+\-*&%=<>!?|]/,a,st,et={atom:!0,number:!0,variable:!0,string:!0,regexp:!0},r={state:null,column:null,marked:null,cc:null},vt={name:"this",next:{name:"arguments"}};return u.lex=!0,{startState:function(n){return{tokenize:y,reAllowed:!0,kwAllowed:!0,cc:[],lexical:new lt((n||0)-v,0,"block",!1),localVars:null,context:null,indented:0}},token:function(n,t){n.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=n.indentation());if(n.eatSpace())return null;var i=t.tokenize(n,t);return a=="comment"?i:(t.reAllowed=a=="operator"||a=="keyword c"||a.match(/^[\[{}\(,;:]$/),t.kwAllowed=a!=".",ni(t,i,a,st,n))},indent:function(n,t){if(n.tokenize!=y)return 0;var f=t&&t.charAt(0),i=n.lexical,r=i.type,u=f==r;return r=="vardef"?i.indented+4:r=="form"&&f=="{"?i.indented:r=="stat"||r=="form"?i.indented+v:i.info=="switch"&&!u?i.indented+(/^(?:case|default)\b/.test(t)?v:2*v):i.align?i.column+(u?0:1):i.indented+(u?0:v)},electricChars:":{}"}}),CodeMirror.defineMIME("text/javascript","javascript"),CodeMirror.defineMIME("application/json",{name:"javascript",json:!0}),CodeMirror.overlayParser=function(n,t,i){return{startState:function(){return{base:CodeMirror.startState(n),overlay:CodeMirror.startState(t),basePos:0,baseCur:null,overlayPos:0,overlayCur:null}},copyState:function(i){return{base:CodeMirror.copyState(n,i.base),overlay:CodeMirror.copyState(t,i.overlay),basePos:i.basePos,baseCur:null,overlayPos:i.overlayPos,overlayCur:null}},token:function(r,u){return r.start==u.basePos&&(u.baseCur=n.token(r,u.base),u.basePos=r.pos),r.start==u.overlayPos&&(r.pos=r.start,u.overlayCur=t.token(r,u.overlay),u.overlayPos=r.pos),r.pos=Math.min(u.basePos,u.overlayPos),r.eol()&&(u.basePos=u.overlayPos=0),u.overlayCur==null?u.baseCur:u.baseCur!=null&&i?u.baseCur+" "+u.overlayCur:u.overlayCur},indent:function(t,i){return n.indent(t.base,i)},electricChars:n.electricChars}},CodeMirror.runMode=function(n,t,i){var s=CodeMirror.getMode({indentUnit:2},t),a=i.nodeType==1,c,f,e,l,u,o,r,h;for(a&&(c=i,f=[],i=function(n,t){n=="\n"?f.push("<br>"):t?f.push('<span class="cm-'+CodeMirror.htmlEscape(t)+'">'+CodeMirror.htmlEscape(n)+"</span>"):f.push(CodeMirror.htmlEscape(n))}),e=CodeMirror.splitLines(n),l=CodeMirror.startState(s),u=0,o=e.length;u<o;++u){u&&i("\n"),r=new CodeMirror.StringStream(e[u]);while(!r.eol())h=s.token(r,l),i(r.current(),h,u,r.start),r.start=r.pos}a&&(c.innerHTML=f.join(""))},function(){CodeMirror.simpleHint=function(n,t){function c(t){n.replaceRange(t,f.from,f.to)}function s(){if(e)return;e=!0,r.parentNode.removeChild(r)}function l(){c(u[i.selectedIndex]),s(),setTimeout(function(){n.focus()},50)}var f,u,r,i,o,a,h,e;if(n.somethingSelected())return;f=t(n);if(!f||!f.list.length)return;u=f.list;if(u.length==1)return c(u[0]),!0;for(r=document.createElement("div"),r.className="CodeMirror-completions",i=r.appendChild(document.createElement("select")),window.opera||(i.multiple=!0),o=0;o<u.length;++o)a=i.appendChild(document.createElement("option")),a.appendChild(document.createTextNode(u[o]));return i.firstChild.selected=!0,i.size=Math.min(10,u.length),h=n.cursorCoords(),r.style.left=h.x+"px",r.style.top=h.yBot+"px",document.body.appendChild(r),u.length<=10&&(r.style.width=i.clientWidth-1+"px"),e=!1,CodeMirror.connect(i,"blur",s),CodeMirror.connect(i,"keydown",function(i){var r=i.keyCode;r==13?(CodeMirror.e_stop(i),l()):r==27?(CodeMirror.e_stop(i),s(),n.focus()):r!=38&&r!=40&&(s(),n.focus(),setTimeout(function(){CodeMirror.simpleHint(n,t)},50))}),CodeMirror.connect(i,"dblclick",l),i.focus(),window.opera&&setTimeout(function(){e||i.focus()},100),!0}}(),function(){function n(n,t){for(var i=0,r=n.length;i<r;++i)t(n[i])}function u(n,t){if(!Array.prototype.indexOf){var i=n.length;while(i--)if(n[i]===t)return!0;return!1}return n.indexOf(t)!=-1}function f(f,o){function h(n){n.indexOf(y)==0&&!u(a,n)&&a.push(n)}function v(r){typeof r=="string"?n(e,h):r instanceof Array?n(t,h):r instanceof Function&&n(i,h);for(var u in r)h(u)}var a=[],y=f.string,c,s,l;if(o){c=o.pop(),c.className=="variable"?s=window[c.string]:c.className=="string"?s="":c.className=="atom"&&(s=1);while(s!=null&&o.length)s=s[o.pop().string];s!=null&&v(s)}else{for(l=f.state.localVars;l;l=l.next)h(l.name);v(window),n(r,h)}return a}CodeMirror.javascriptHint=function(n){var r=n.getCursor(),i=n.getTokenAt(r),t=i,u;/^[\w$_]*$/.test(i.string)||(i=t={start:r.ch,end:r.ch,string:"",state:i.state,className:i.string=="."?"property":null});while(t.className=="property"){t=n.getTokenAt({line:r.line,ch:t.start});if(t.string!=".")return;t=n.getTokenAt({line:r.line,ch:t.start}),u||(u=[]),u.push(t)}return{list:f(i,u),from:{line:r.line,ch:i.start},to:{line:r.line,ch:i.end}}};var e="charAt charCodeAt indexOf lastIndexOf substring substr slice trim trimLeft trimRight toUpperCase toLowerCase split concat match replace search".split(" "),t="length concat join splice push pop shift unshift slice reverse sort indexOf lastIndexOf every some filter forEach map reduce reduceRight ".split(" "),i="prototype apply call bind".split(" "),r="break case catch continue debugger default delete do else false finally for function if in instanceof new null return switch throw true try typeof var void while with".split(" ")}(),CodeMirror.tagRangeFinder=function(n,t){var b="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",tt=b+"-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",d=new RegExp("^["+b+"]["+tt+"]*"),i=n.getLine(t),f=!1,u=null,r=0,v,p,s,o,c,h,k,l,a;while(!f){r=i.indexOf("<",r);if(-1==r)return;if(r+1<i.length&&i[r+1]=="/"){r++;continue}if(!i.substr(r+1).match(d)){r++;continue}v=i.indexOf(">",r+1);if(-1==v){var e=t+1,g=!1,w=n.lineCount();while(e<w&&!g){p=n.getLine(e),s=p.indexOf(">");if(-1!=s){g=!0,o=p.lastIndexOf("/",s);if(-1!=o&&o<s){h=i.substr(o,s-o+1);if(!h.match(/\/\s*\>/))return e+1}}e++}f=!0}else c=i.lastIndexOf("/",v),-1==c?f=!0:(h=i.substr(c,v-c+1),h.match(/\/\s*\>/)||(f=!0));f&&(k=i.substr(r+1),u=k.match(d),u?(u=u[0],-1!=i.indexOf("</"+u+">",r)&&(f=!1)):f=!1),f||r++}if(f){var nt="(\\<\\/"+u+"\\>)|(\\<"+u+"\\>)|(\\<"+u+"s)|(\\<"+u+"$)",it=new RegExp(nt,"g"),rt="</"+u+">",y=1,e=t+1,w=n.lineCount();while(e<w){i=n.getLine(e),l=i.match(it);if(l)for(a=0;a<l.length;a++){l[a]==rt?y--:y++;if(!y)return e+1}e++}return}},CodeMirror.braceRangeFinder=function(n,t){var h=n.getLine(t),s=h.lastIndexOf("{"),r,u,i,f,o;if(s<0||h.lastIndexOf("}")>s)return;var a=n.getTokenAt({line:t,ch:s}).className,c=1,l=n.lineCount(),e;n:for(r=t+1;r<l;++r)for(u=n.getLine(r),i=0;;){f=u.indexOf("{",i),o=u.indexOf("}",i),f<0&&(f=u.length),o<0&&(o=u.length),i=Math.min(f,o);if(i==u.length)break;if(n.getTokenAt({line:r,ch:i+1}).className==a)if(i==f)++c;else if(!--c){e=r;break n}++i}if(e!=null&&e!=t+1)return e},CodeMirror.newFoldFunction=function(n,t){function u(n,t){for(var u,r=0;r<i.length;++r){u=n.lineInfo(i[r].start);if(u){if(u.line==t)return{pos:r,region:i[r]}}else i.splice(r--,1)}}function r(n,t){n.clearMarker(t.start);for(var i=0;i<t.hidden.length;++i)n.showLine(t.hidden[i])}var i=[];return t==null&&(t='<div style="position: absolute; left: 2px; color:#600">&#x25bc;</div>%N%'),function(f,e){f.operation(function(){var v=u(f,e),l,a,o,s,h,c;if(v)i.splice(v.pos,1),r(f,v.region);else{l=n(f,e);if(l==null)return;for(a=[],o=e+1;o<l;++o)s=f.hideLine(o),s&&a.push(s);h=f.setMarker(e,t),c={start:h,hidden:a},f.onDeleteLine(h,function(){r(f,c)}),i.push(c)}})}},function(){function n(n,t){var r=n.getWrapperElement(),i=r.insertBefore(document.createElement("div"),r.firstChild);return i.className="CodeMirror-dialog",i.innerHTML="<div>"+t+"</div>",i}CodeMirror.defineExtension("openDialog",function(t,i){function f(){if(e)return;e=!0,u.parentNode.removeChild(u)}var u=n(this,t),e=!1,o=this,r=u.getElementsByTagName("input")[0];return r&&(CodeMirror.connect(r,"keydown",function(n){(n.keyCode==13||n.keyCode==27)&&(CodeMirror.e_stop(n),f(),o.focus(),n.keyCode==13&&i(r.value))}),r.focus(),CodeMirror.connect(r,"blur",f)),f}),CodeMirror.defineExtension("openConfirm",function(t,i){function h(){if(c)return;c=!0,o.parentNode.removeChild(o),s.focus()}var o=n(this,t),f=o.getElementsByTagName("button"),c=!1,s=this,e=1,r,u;for(f[0].focus(),r=0;r<f.length;++r)u=f[r],function(n){CodeMirror.connect(u,"click",function(t){CodeMirror.e_preventDefault(t),h(),n&&n(s)})}(i[r]),CodeMirror.connect(u,"blur",function(){--e,setTimeout(function(){e<=0&&h()},200)}),CodeMirror.connect(u,"focus",function(){++e})})}(),function(){function l(){this.posFrom=this.posTo=this.query=null,this.marked=[]}function r(n){return n._searchState||(n._searchState=new l)}function i(n,t,i,r){n.openDialog?n.openDialog(t,r):r(prompt(i,""))}function c(n,t,i,r){n.openConfirm?n.openConfirm(t,r):confirm(i)&&r[0]()}function e(n){var t=n.match(/^\/(.*)\/$/);return t?new RegExp(t[1]):n}function n(n,t){var u=r(n);if(u.query)return f(n,t);i(n,a,"Search for:",function(i){n.operation(function(){if(!i||u.query)return;u.query=e(i);if(n.lineCount()<2e3)for(var r=n.getSearchCursor(i);r.findNext();)u.marked.push(n.markText(r.from(),r.to(),"CodeMirror-searching"));u.posFrom=u.posTo=n.getCursor(),f(n,t)})})}function f(n,t){n.operation(function(){var u=r(n),i=n.getSearchCursor(u.query,t?u.posFrom:u.posTo);if(!i.find(t)){i=n.getSearchCursor(u.query,t?{line:n.lineCount()-1}:{line:0,ch:0});if(!i.find(t))return}n.setSelection(i.from(),i.to()),u.posFrom=i.from(),u.posTo=i.to()})}function t(n){n.operation(function(){var t=r(n),i;if(!t.query)return;for(t.query=null,i=0;i<t.marked.length;++i)t.marked[i].clear();t.marked.length=0})}function u(n,r){i(n,o,"Replace:",function(u){if(!u)return;u=e(u),i(n,s,"Replace with:",function(i){if(r)n.operation(function(){for(var r,t=n.getSearchCursor(u);t.findNext();)typeof u!="string"?(r=n.getRange(t.from(),t.to()).match(u),t.replace(i.replace(/\$(\d)/,function(n,t){return r[t]}))):t.replace(i)});else{t(n);var f=n.getSearchCursor(u,n.getCursor());function e(){var i=f.from(),t;if(!(t=f.findNext())){f=n.getSearchCursor(u);if(!(t=f.findNext())||f.from().line==i.line&&f.from().ch==i.ch)return}n.setSelection(f.from(),f.to()),c(n,h,"Replace?",[function(){o(t)},e])}function o(n){f.replace(typeof u=="string"?i:i.replace(/\$(\d)/,function(t,i){return n[i]})),e()}e()}})})}var a='Search: <input type="text" style="width: 10em"> <span style="color: #888">(Use /re/ syntax for regexp search)</span>',o='Replace: <input type="text" style="width: 10em"> <span style="color: #888">(Use /re/ syntax for regexp search)</span>',s='With: <input type="text" style="width: 10em">',h="Replace? <button>Yes</button> <button>No</button> <button>Stop</button>";CodeMirror.commands.find=function(i){t(i),n(i)},CodeMirror.commands.findNext=n,CodeMirror.commands.findPrev=function(t){n(t,!0)},CodeMirror.commands.clearSearch=t,CodeMirror.commands.replace=u,CodeMirror.commands.replaceAll=function(n){u(n,!0)}}(),function($){$.extend({tablesorter:new function(){function benchmark(n,t){log(n+","+(+new Date-t.getTime())+"ms")}function log(n){typeof console!="undefined"&&typeof console.debug!="undefined"?console.log(n):alert(n)}function buildParserCache(n,t){var f,u,i,r;n.config.debug&&(f="");if(n.tBodies.length==0)return;u=n.tBodies[0].rows;if(u[0]){var e=[],s=u[0].cells,o=s.length;for(i=0;i<o;i++)r=!1,$.metadata&&$(t[i]).metadata()&&$(t[i]).metadata().sorter?r=getParserById($(t[i]).metadata().sorter):n.config.headers[i]&&n.config.headers[i].sorter&&(r=getParserById(n.config.headers[i].sorter)),r||(r=detectParserForColumn(n,u,-1,i)),n.config.debug&&(f+="column:"+i+" parser:"+r.id+"\n"),e.push(r)}return n.config.debug&&log(f),e}function detectParserForColumn(n,t,i,r){var s=parsers.length,e=!1,f=!1,o=!0,u;while(f==""&&o)i++,t[i]?(e=getNodeFromRowAndCellIndex(t,i,r),f=trimAndGetNodeText(n.config,e),n.config.debug&&log("Checking if value was empty on row:"+i)):o=!1;for(u=1;u<s;u++)if(parsers[u].is(f,n,e))return parsers[u];return parsers[0]}function getNodeFromRowAndCellIndex(n,t,i){return n[t].cells[i]}function trimAndGetNodeText(n,t){return $.trim(getElementText(n,t))}function getParserById(n){for(var i=parsers.length,t=0;t<i;t++)if(parsers[t].id.toLowerCase()==n.toLowerCase())return parsers[t];return!1}function buildCache(n){var e,f,r,u,i;n.config.debug&&(e=new Date);var o=n.tBodies[0]&&n.tBodies[0].rows.length||0,h=n.tBodies[0].rows[0]&&n.tBodies[0].rows[0].cells.length||0,s=n.config.parsers,t={row:[],normalized:[]};for(f=0;f<o;++f){r=$(n.tBodies[0].rows[f]),u=[];if(r.hasClass(n.config.cssChildRow)){t.row[t.row.length-1]=t.row[t.row.length-1].add(r);continue}for(t.row.push(r),i=0;i<h;++i)u.push(s[i].format(getElementText(n.config,r[0].cells[i]),n,r[0].cells[i]));u.push(t.normalized.length),t.normalized.push(u),u=null}return n.config.debug&&benchmark("Building cache for "+o+" rows:",e),t}function getElementText(n,t){var i="";return t?(n.supportsTextContent||(n.supportsTextContent=t.textContent||!1),i=n.textExtraction=="simple"?n.supportsTextContent?t.textContent:t.childNodes[0]&&t.childNodes[0].hasChildNodes()?t.childNodes[0].innerHTML:t.innerHTML:typeof n.textExtraction=="function"?n.textExtraction(t):$(t).text()):""}function appendToTable(n,t){var h,r,u,s,i;n.config.debug&&(h=new Date);var c=t,e=c.row,o=c.normalized,l=o.length,v=o[0].length-1,a=$(n.tBodies[0]),f=[];for(r=0;r<l;r++){u=o[r][v],f.push(e[u]);if(!n.config.appender)for(s=e[u].length,i=0;i<s;i++)a[0].appendChild(e[u][i])}n.config.appender&&n.config.appender(n,f),f=null,n.config.debug&&benchmark("Rebuilt table:",h),applyWidget(n),setTimeout(function(){$(n).trigger("sortEnd")},0)}function buildHeaders(n){var i,r,t;return n.config.debug&&(i=new Date),r=$.metadata?!0:!1,t=computeTableHeaderCellIndexes(n),$tableHeaders=$(n.config.selectorHeaders,n).each(function(i){this.column=t[this.parentNode.rowIndex+"-"+this.cellIndex],this.order=formatSortingOrder(n.config.sortInitialOrder),this.count=this.order,(checkHeaderMetadata(this)||checkHeaderOptions(n,i))&&(this.sortDisabled=!0),checkHeaderOptionsSortingLocked(n,i)&&(this.order=this.lockedOrder=checkHeaderOptionsSortingLocked(n,i));if(!this.sortDisabled){var r=$(this).addClass(n.config.cssHeader);n.config.onRenderHeader&&n.config.onRenderHeader.apply(r)}n.config.headerList[i]=this}),n.config.debug&&(benchmark("Built headers:",i),log($tableHeaders)),$tableHeaders}function computeTableHeaderCellIndexes(n){for(var r=[],a={},w=n.getElementsByTagName("THEAD")[0],c=w.getElementsByTagName("TR"),h,o,t,l,f,s=0;s<c.length;s++)for(h=c[s].cells,o=0;o<h.length;o++){var u=h[o],i=u.parentNode.rowIndex,v=i+"-"+u.cellIndex,p=u.rowSpan||1,y=u.colSpan||1,e;for(typeof r[i]=="undefined"&&(r[i]=[]),t=0;t<r[i].length+1;t++)if(typeof r[i][t]=="undefined"){e=t;break}for(a[v]=e,t=i;t<i+p;t++)for(typeof r[t]=="undefined"&&(r[t]=[]),l=r[t],f=e;f<e+y;f++)l[f]="x"}return a}function checkHeaderMetadata(n){return $.metadata&&$(n).metadata().sorter===!1?!0:!1}function checkHeaderOptions(n,t){return n.config.headers[t]&&n.config.headers[t].sorter===!1?!0:!1}function checkHeaderOptionsSortingLocked(n,t){return n.config.headers[t]&&n.config.headers[t].lockedOrder?n.config.headers[t].lockedOrder:!1}function applyWidget(n){for(var i=n.config.widgets,r=i.length,t=0;t<r;t++)getWidgetById(i[t]).format(n)}function getWidgetById(n){for(var i=widgets.length,t=0;t<i;t++)if(widgets[t].id.toLowerCase()==n.toLowerCase())return widgets[t]}function formatSortingOrder(n){return typeof n!="Number"?n.toLowerCase()=="desc"?1:0:n==1?1:0}function isValueInArray(n,t){for(var r=t.length,i=0;i<r;i++)if(t[i][0]==n)return!0;return!1}function setHeadersCss(n,t,i,r){var f,e,u;for(t.removeClass(r[0]).removeClass(r[1]),f=[],t.each(function(){this.sortDisabled||(f[this.column]=$(this))}),e=i.length,u=0;u<e;u++)f[i[u][0]].addClass(r[i[u][1]])}function fixColumnWidth(n){var r=n.config,i;r.widthFixed&&(i=$("<colgroup>"),$("tr:first td",n.tBodies[0]).each(function(){i.append($("<col>").css("width",$(this).width()))}),$(n).prepend(i))}function updateHeaderSortCount(n,t){for(var e=n.config,f=t.length,r,u,i=0;i<f;i++)r=t[i],u=e.headerList[r[0]],u.count=r[1],u.count++}function multisort(table,sortList,cache){var sortTime,dynamicExp,l,orgOrderCol,i;for(table.config.debug&&(sortTime=new Date),dynamicExp="var sortWrapper = function(a,b) {",l=sortList.length,i=0;i<l;i++){var c=sortList[i][0],order=sortList[i][1],s=table.config.parsers[c].type=="text"?order==0?makeSortFunction("text","asc",c):makeSortFunction("text","desc",c):order==0?makeSortFunction("numeric","asc",c):makeSortFunction("numeric","desc",c),e="e"+i;dynamicExp+="var "+e+" = "+s,dynamicExp+="if("+e+") { return "+e+"; } ",dynamicExp+="else { "}for(orgOrderCol=cache.normalized[0].length-1,dynamicExp+="return a["+orgOrderCol+"]-b["+orgOrderCol+"];",i=0;i<l;i++)dynamicExp+="}; ";return dynamicExp+="return 0; ",dynamicExp+="}; ",table.config.debug&&benchmark("Evaling expression:"+dynamicExp,new Date),eval(dynamicExp),cache.normalized.sort(sortWrapper),table.config.debug&&benchmark("Sorting on "+sortList.toString()+" and dir "+order+" time:",sortTime),cache}function makeSortFunction(n,t,i){var u="a["+i+"]",r="b["+i+"]";return n=="text"&&t=="asc"?"("+u+" == "+r+" ? 0 : ("+u+" === null ? Number.POSITIVE_INFINITY : ("+r+" === null ? Number.NEGATIVE_INFINITY : ("+u+" < "+r+") ? -1 : 1 )));":n=="text"&&t=="desc"?"("+u+" == "+r+" ? 0 : ("+u+" === null ? Number.POSITIVE_INFINITY : ("+r+" === null ? Number.NEGATIVE_INFINITY : ("+r+" < "+u+") ? -1 : 1 )));":n=="numeric"&&t=="asc"?"("+u+" === null && "+r+" === null) ? 0 :("+u+" === null ? Number.POSITIVE_INFINITY : ("+r+" === null ? Number.NEGATIVE_INFINITY : "+u+" - "+r+"));":n=="numeric"&&t=="desc"?"("+u+" === null && "+r+" === null) ? 0 :("+u+" === null ? Number.POSITIVE_INFINITY : ("+r+" === null ? Number.NEGATIVE_INFINITY : "+r+" - "+u+"));":void 0}var parsers=[],widgets=[];this.defaults={cssHeader:"header",cssAsc:"headerSortUp",cssDesc:"headerSortDown",cssChildRow:"expand-child",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,sortLocaleCompare:!0,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:!1,cancelSelection:!0,sortList:[],headerList:[],dateFormat:"us",decimal:"/.|,/g",onRenderHeader:null,selectorHeaders:"thead th",debug:!1},this.benchmark=benchmark,this.construct=function(n){return this.each(function(){var i,o,u,r,t,e,s,f;if(!this.tHead||!this.tBodies)return;e=0,this.config={},t=$.extend(this.config,$.tablesorter.defaults,n),i=$(this),$.data(this,"tablesorter",t),u=buildHeaders(this),this.config.parsers=buildParserCache(this,u),r=buildCache(this),f=[t.cssDesc,t.cssAsc],fixColumnWidth(this),u.click(function(n){var a=i[0].tBodies[0]&&i[0].tBodies[0].rows.length||0,l,o,c,e,s,h;if(!this.sortDisabled&&a>0){i.trigger("sortStart"),l=$(this),o=this.column,this.order=this.count++%2,this.lockedOrder&&(this.order=this.lockedOrder);if(n[t.sortMultiSortKey])if(isValueInArray(o,t.sortList))for(e=0;e<t.sortList.length;e++)s=t.sortList[e],h=t.headerList[s[0]],s[0]==o&&(h.count=s[1],h.count++,s[1]=h.count%2);else t.sortList.push([o,this.order]);else{t.sortList=[];if(t.sortForce!=null)for(c=t.sortForce,e=0;e<c.length;e++)c[e][0]!=o&&t.sortList.push(c[e]);t.sortList.push([o,this.order])}return setTimeout(function(){setHeadersCss(i[0],u,t.sortList,f),appendToTable(i[0],multisort(i[0],t.sortList,r))},1),!1}}).mousedown(function(){if(t.cancelSelection)return this.onselectstart=function(){return!1},!1}),i.bind("update",function(){var n=this;setTimeout(function(){n.config.parsers=buildParserCache(n,u),r=buildCache(n)},1)}).bind("updateCell",function(n,t){var u=this.config,i=[t.parentNode.rowIndex-1,t.cellIndex];r.normalized[i[0]][i[1]]=u.parsers[i[1]].format(getElementText(u,t),t)}).bind("sorton",function(n,i){$(this).trigger("sortStart"),t.sortList=i;var e=t.sortList;updateHeaderSortCount(this,e),setHeadersCss(this,u,e,f),appendToTable(this,multisort(this,e,r))}).bind("appendCache",function(){appendToTable(this,r)}).bind("applyWidgetId",function(n,t){getWidgetById(t).format(this)}).bind("applyWidgets",function(){applyWidget(this)}),$.metadata&&$(this).metadata()&&$(this).metadata().sortlist&&(t.sortList=$(this).metadata().sortlist),t.sortList.length>0&&i.trigger("sorton",[t.sortList]),applyWidget(this)})},this.addParser=function(n){for(var r=parsers.length,i=!0,t=0;t<r;t++)parsers[t].id.toLowerCase()==n.id.toLowerCase()&&(i=!1);i&&parsers.push(n)},this.addWidget=function(n){widgets.push(n)},this.formatFloat=function(n){var t=parseFloat(n);return isNaN(t)?0:t},this.formatInt=function(n){var t=parseInt(n);return isNaN(t)?0:t},this.isDigit=function(n){return/^[-+]?\d*$/.test($.trim(n.replace(/[,.']/g,"")))},this.clearTableBody=function(n){if($.browser.msie){function t(){while(this.firstChild)this.removeChild(this.firstChild)}t.apply(n.tBodies[0])}else n.tBodies[0].innerHTML=""}}}),$.fn.extend({tablesorter:$.tablesorter.construct});var ts=$.tablesorter;ts.addParser({id:"text",is:function(){return!0},format:function(n){return $.trim(n.toLocaleLowerCase())},type:"text"}),ts.addParser({id:"digit",is:function(n,t){var i=t.config;return $.tablesorter.isDigit(n,i)},format:function(n){return $.tablesorter.formatFloat(n)},type:"numeric"}),ts.addParser({id:"currency",is:function(n){return/^[£$€?.]/.test(n)},format:function(n){return $.tablesorter.formatFloat(n.replace(new RegExp(/[£$€]/g),""))},type:"numeric"}),ts.addParser({id:"ipAddress",is:function(n){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(n)},format:function(n){for(var u=n.split("."),r="",f=u.length,i,t=0;t<f;t++)i=u[t],r+=i.length==2?"0"+i:i;return $.tablesorter.formatFloat(r)},type:"numeric"}),ts.addParser({id:"url",is:function(n){return/^(https?|ftp|file):\/\/$/.test(n)},format:function(n){return jQuery.trim(n.replace(new RegExp(/(https?|ftp|file):\/\//),""))},type:"text"}),ts.addParser({id:"isoDate",is:function(n){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(n)},format:function(n){return $.tablesorter.formatFloat(n!=""?+new Date(n.replace(new RegExp(/-/g),"/")):"0")},type:"numeric"}),ts.addParser({id:"percent",is:function(n){return/\%$/.test($.trim(n))},format:function(n){return $.tablesorter.formatFloat(n.replace(new RegExp(/%/g),""))},type:"numeric"}),ts.addParser({id:"usLongDate",is:function(n){return n.match(new RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/))},format:function(n){return $.tablesorter.formatFloat(+new Date(n))},type:"numeric"}),ts.addParser({id:"shortDate",is:function(n){return/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(n)},format:function(n,t){var i=t.config;return n=n.replace(/\-/g,"/"),i.dateFormat=="us"?n=n.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$1/$2"):i.dateFormat=="uk"?n=n.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1"):(i.dateFormat=="dd/mm/yy"||i.dateFormat=="dd-mm-yy")&&(n=n.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3")),$.tablesorter.formatFloat(+new Date(n))},type:"numeric"}),ts.addParser({id:"time",is:function(n){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(n)},format:function(n){return $.tablesorter.formatFloat(+new Date("2000/01/01 "+n))},type:"numeric"}),ts.addParser({id:"metadata",is:function(){return!1},format:function(n,t,i){var r=t.config,u=r.parserMetadataName?r.parserMetadataName:"sortValue";return $(i).metadata()[u]},type:"numeric"}),ts.addWidget({id:"zebra",format:function(n){var u,r,t,i;n.config.debug&&(u=new Date),t=-1,$("tr:visible",n.tBodies[0]).each(function(){r=$(this),r.hasClass(n.config.cssChildRow)||t++,i=t%2==0,r.removeClass(n.config.widgetZebra.css[i?0:1]).addClass(n.config.widgetZebra.css[i?1:0])}),n.config.debug&&$.tablesorter.benchmark("Applying Zebra widget",u)}})}(jQuery),function(n){n.extend({tablesorterPager:new function(){function e(t){var i=n(t.cssPageDisplay,t.container).html(t.page+1+t.seperator+t.totalPages)}function s(n,i){var u=n.config;u.size=i,u.totalPages=Math.ceil(u.totalRows/u.size),u.pagerPositionSet=!1,t(n),r(n)}function r(t){var i=t.config,r;!i.pagerPositionSet&&i.positionFixed&&(i=t.config,r=n(t),r.offset&&i.container.css({top:r.offset().top+r.height()+"px",position:"absolute"}),i.pagerPositionSet=!0)}function o(n){var i=n.config;i.page=0,t(n)}function u(n){var i=n.config;i.page=i.totalPages-1,t(n)}function h(n){var i=n.config;i.page++,i.page<i.totalPages-1||(i.page=i.totalPages-1),t(n)}function f(n){var i=n.config;i.page--,i.page>0||(i.page=0),t(n)}function t(n){var t=n.config;(t.page<0||t.page>t.totalPages-1)&&(t.page=0),i(n,t.rowsCopy)}function i(t,i){var f=t.config,v=i.length,a=f.page*f.size,l=a+f.size,c,o,h,s;for(l>i.length&&(l=i.length),c=n(t.tBodies[0]),n.tablesorter.clearTableBody(t),o=a;o<l;o++)for(h=i[o],v=h.length,s=0;s<v;s++)c[0].appendChild(h[s]);r(t,c),n(t).trigger("applyWidgets"),f.page<f.totalPages||u(t),e(f)}this.appender=function(n,t){var r=n.config;r.rowsCopy=t,r.totalRows=t.length,r.totalPages=Math.ceil(r.totalRows/r.size),i(n,t)},this.defaults={size:10,offset:0,page:0,totalRows:0,totalPages:0,container:null,cssNext:".next",cssPrev:".prev",cssFirst:".first",cssLast:".last",cssPageDisplay:".pagedisplay",cssPageSize:".pagesize",seperator:"/",positionFixed:!1,appender:this.appender},this.construct=function(t){return this.each(function(){config=n.extend(this.config,n.tablesorterPager.defaults,t);var r=this,i=config.container;n(this).trigger("appendCache"),config.size=10,n(config.cssFirst,i).click(function(){return o(r),!1}),n(config.cssNext,i).click(function(){return h(r),!1}),n(config.cssPrev,i).click(function(){return f(r),!1}),n(config.cssLast,i).click(function(){return u(r),!1}),n(config.cssPageSize,i).change(function(){return s(r,parseInt(n(this).val())),!1})})}}}),n.fn.extend({tablesorterPager:n.tablesorterPager.construct})}(jQuery),MarkdownDeep=new function(){function ut(n,t){if(n.indexOf!==undefined)return n.indexOf(t);for(var i=0;i<n.length;i++)if(n[i]===t)return i;return-1}function l(){this.m_SpanFormatter=new ri(this),this.m_SpareBlocks=[],this.m_StringBuilder=new v,this.m_StringBuilderFinal=new v}function fu(n,t,i,r){return n.slice(0,t).concat(r).concat(n.slice(t+i))}function fi(n){return n>="0"&&n<="9"}function eu(n){return n>="0"&&n<="9"||n>="a"&&n<="f"||n>="A"&&n<="F"}function br(n){return n>="a"&&n<="z"||n>="A"&&n<="Z"}function d(n){return n>="a"&&n<="z"||n>="A"&&n<="Z"||n>="0"&&n<="9"}function f(n){return n==" "||n=="\t"||n=="\r"||n=="\n"}function at(n){return n==" "||n=="\t"}function ii(n){return n=="\r"||n=="\n"}function ti(n){return n=="*"||n=="_"}function ei(n,t){switch(n){case"\\":case"`":case"*":case"_":case"{":case"}":case"[":case"]":case"(":case")":case">":case"#":case"+":case"-":case".":case"!":return!0;case":":case"|":case"=":case"<":return t}return!1}function ui(n,t){var r,i;if(n.charAt(t)!="&")return-1;r=t,t++,n.charAt(t)=="#"?(t++,n.charAt(t)=="x"||n.charAt(t)=="X"?(t++,i=eu):i=fi):i=d;if(i(n.charAt(t))){t++;while(i(n.charAt(t)))t++;if(n.charAt(t)==";")return t++,t}return t=r,-1}function tt(n,t){var r=n.indexOf("\\"),u,i;if(r<0)return n;u=new v,i=0;while(r>=0)ei(n.charAt(r+1),t)&&(r>i&&u.Append(n.substr(i,r-i)),i=r+1),r=n.indexOf("\\",r+1);return i<n.length&&u.Append(n.substr(i,n.length-i)),u.ToString()}function p(n){var t=0,i=n.length;while(t<i&&f(n.charAt(t)))t++;while(i-1>t&&f(n.charAt(i-1)))i--;return n.substr(t,i-t)}function su(n){var i=n.indexOf("@"),t;if(i<0)return!1;return t=n.lastIndexOf("."),t<i?!1:!0}function cu(n){return n=n.toLowerCase(),n.substr(0,7)=="http://"?!0:n.substr(0,8)=="https://"?!0:n.substr(0,6)=="ftp://"?!0:n.substr(0,7)=="file://"?!0:!1}function hu(n){var i,t;if(!n)return!1;if(!br(n.charAt(0)))return!1;for(i=0;i<n.length;i++){t=n.charAt(i);if(d(t)||t=="_"||t=="-"||t==":"||t==".")continue;return!1}return!0}function yr(n,t,i){var r=i-1,o,e,u;while(r>=t&&f(n.charAt(r)))r--;if(r<t||n.charAt(r)!="}")return null;o=r,r--;while(r>=t&&n.charAt(r)!="{")r--;if(r<t||n.charAt(r+1)!="#")return null;e=r+2,u=n.substr(e,o-e);if(!hu(u))return null;while(r>t&&f(n.charAt(r-1)))r--;return{id:u,end:r}}function pr(n,t){return n.substr(0,t.length)==t}function lu(n,t){return n.substr(-t.length)==t}function gi(n){return n.indexOf("://")>=0||pr(n,"mailto:")}function v(){this.m_content=[]}function yt(){this.reset.apply(this,arguments)}function g(n){this.name=n,this.attributes={},this.flags=0,this.closed=!1,this.closing=!1}function vr(n){return n=n.toLowerCase(),n.substr(0,7)=="http://"||n.substr(0,8)=="https://"||n.substr(0,6)=="ftp://"}function pt(n){var i=n.m_position,t=ku(n);return t!=null?t:(n.m_position=i,null)}function ku(n){var i,u,t,r;if(n.current()!="<")return null;n.SkipForward(1);if(n.SkipString("!--")){n.Mark();if(n.Find("-->"))return i=new g("!"),i.attributes.content=n.Extract(),i.closed=!0,n.SkipForward(3),i}u=n.SkipChar("/"),n.Mark();if(!n.SkipIdentifier())return null;t=new g(n.Extract()),t.closing=u;if(u)return n.current()!=">"?null:(n.SkipForward(1),t);while(!n.eof()){n.SkipWhitespace();if(n.SkipString("/>"))return t.closed=!0,t;if(n.SkipChar(">"))return t;n.Mark();if(!n.SkipIdentifier())return null;r=n.Extract(),n.SkipWhitespace();if(!n.SkipChar("="))return null;n.SkipWhitespace();if(n.SkipChar('"')){n.Mark();if(!n.Find('"'))return null;t.attributes[r]=n.Extract(),n.SkipForward(1)}else{n.Mark();while(!n.eof()&&!f(n.current())&&n.current()!=">"&&n.current()!="/")n.SkipForward(1);n.eof()||(t.attributes[r]=n.Extract())}}return null}function ht(n,t,i){this.id=n,this.url=t,this.title=i==undefined?null:i}function gu(n,t){var r=n.m_position,i=vu(n,t);return i==null&&(n.m_position=r),i}function vu(n,t){var i,r;n.SkipWhitespace();if(!n.SkipChar("["))return null;n.Mark();if(!n.Find("]"))return null;i=n.Extract();if(i.length==0)return null;if(!n.SkipString("]:"))return null;return r=or(n,i,t),n.SkipLinespace(),n.eol()?r:null}function or(n,t,i){var r,s,o,u,c,l,e,h;n.SkipWhitespace();if(n.eol())return null;r=new ht(t);if(n.SkipChar("<")){n.Mark();while(n.current()!=">"){if(n.eof())return null;n.SkipEscapableChar(i)}s=n.Extract();if(!n.SkipChar(">"))return null;r.url=tt(p(s),i),n.SkipWhitespace()}else{n.Mark(),o=1;while(!n.eol()){u=n.current();if(f(u))break;if(t==null)if(u=="(")o++;else if(u==")"){o--;if(o==0)break}n.SkipEscapableChar(i)}r.url=tt(p(n.Extract()),i)}n.SkipLinespace();if(n.current()==")")return r;c=n.eol(),l=n.m_position,n.eol()&&(n.SkipEol(),n.SkipLinespace());switch(n.current()){case"'":case'"':e=n.current();break;case"(":e=")";break;default:return c?(n.m_position=l,r):null}n.SkipForward(1),n.Mark();for(;;){if(n.eol())return null;if(n.current()==e){if(e!=")"){h=n.m_position,n.SkipForward(1),n.SkipLinespace();if(t==null&&n.current()!=")"||t!=null&&!n.eol())continue;n.m_position=h}break}n.SkipEscapableChar(i)}return r.title=tt(n.Extract(),i),n.SkipForward(1),r}function ct(n,t){this.def=n,this.link_text=t}function kr(n,t,i){this.type=n,this.startOffset=t,this.length=i,this.data=null}function ri(n){this.m_Markdown=n,this.m_Scanner=new yt,this.m_SpareTokens=[],this.m_DisableLinks=!1,this.m_Tokens=[]}function ai(){}function b(n,t){this.m_Markdown=n,this.m_parentType=i,this.m_bMarkdownInHtml=t}function kt(){this.m_Columns=[],this.m_Headers=null,this.m_Rows=[]}function uu(n){var t,r,u,i;n.SkipLinespace();if(n.current()!="|"&&n.current()!=":"&&n.current()!="-")return null;t=null,n.SkipChar("|")&&(t=new kt,t.LeadingBar=!0);for(;;){n.SkipLinespace();if(n.current()=="|")return null;r=n.SkipChar(":");while(n.current()=="-")n.SkipForward(1);u=n.SkipChar(":"),n.SkipLinespace(),i=ou,r&&u?i=ir:r?i=rr:u&&(i=fr);if(n.eol())return t==null?null:(t.m_Columns.push(i),t);if(!n.SkipChar("|"))return null;t==null&&(t=new kt),t.m_Columns.push(i),n.SkipLinespace();if(n.eol())return t.TrailingBar=!0,t}}var n;l.prototype={SafeMode:!1,ExtraMode:!1,MarkdownInHtml:!1,AutoHeadingIDs:!1,UrlBaseLocation:null,UrlRootLocation:null,NewWindowForExternalLinks:!1,NewWindowForLocalLinks:!1,NoFollowLinks:!1,HtmlClassFootnotes:"footnotes",HtmlClassTitledImages:null,RenderingTitledImage:!1,FormatCodeBlockAttributes:null,FormatCodeBlock:null,ExtractHeadBlocks:!1,HeadBlockContent:""},n=l.prototype,l.prototype.GetListItems=function(n,t){for(var u=this.ProcessBlocks(n),r,o,f,s,e,i=0;i<u.length;i++){r=u[i];if((r.blockType==hi||r.blockType==y||r.blockType==yi)&&r.children){u=fu(u,i,1,r.children),i--;continue}if(t<r.lineStart)break}i--;if(i<0)return null;o=u[i];if(o.blockType!=di&&o.blockType!=pi)return null;for(f=[],s=o.children,e=0;e<s.length;e++)f.push(s[e].lineStart);return i++,i<u.length?f.push(u[i].lineStart):f.push(n.length),f},l.prototype.Transform=function(n){var a=n.indexOf("\r"),h,s,e,c,t,l,u,f,o,i;a<0||(h=n.indexOf("\n"),h<0||(n=h<a?n.replace(/\n\r/g,"\n"):n.replace(/\r\n/g,"\n")),n=n.replace(/\r/g,"\n")),this.HeadBlockContent="",s=this.ProcessBlocks(n);if(this.m_Abbreviations!=null){e=[];for(c in this.m_Abbreviations)e.push(this.m_Abbreviations[c]);e.sort(function(n,t){return t.Abbr.length-n.Abbr.length}),this.m_Abbreviations=e}for(t=this.m_StringBuilderFinal,t.Clear(),u=0;u<s.length;u++)l=s[u],l.Render(this,t);if(this.m_UsedFootnotes.length>0){for(t.Append('\n<div class="'),t.Append(this.HtmlClassFootnotes),t.Append('">\n'),t.Append("<hr />\n"),t.Append("<ol>\n"),u=0;u<this.m_UsedFootnotes.length;u++)f=this.m_UsedFootnotes[u],t.Append('<li id="#fn:'),t.Append(f.data),t.Append('">\n'),o='<a href="#fnref:'+f.data+'" rev="footnote">&#8617;</a>',i=f.children[f.children.length-1],i.blockType==r?(i.blockType=li,i.data=o):(i=new ai,i.contentLen=0,i.blockType=li,i.data=o,f.children.push(i)),f.Render(this,t),t.Append("</li>\n");t.Append("</ol\n"),t.Append("</div>\n")}return t.ToString()},l.prototype.OnQualifyUrl=function(n){var i,t;if(gi(n))return n;if(pr(n,"/")){i=this.UrlRootLocation;if(!i){if(!this.UrlBaseLocation)return n;t=this.UrlBaseLocation.indexOf("://"),t==-1?t=0:t+=3,t=this.UrlBaseLocation.indexOf("/",t),i=t<0?this.UrlBaseLocation:this.UrlBaseLocation.substr(0,t)}return i+n}return this.UrlBaseLocation?lu(this.UrlBaseLocation,"/")?this.UrlBaseLocation+n:this.UrlBaseLocation+"/"+n:n},l.prototype.OnGetImageSize=function(){return null},l.prototype.OnPrepareLink=function(n){var t=n.attributes.href;this.NoFollowLinks&&(n.attributes.rel="nofollow"),(this.NewWindowForExternalLinks&&gi(t)||this.NewWindowForLocalLinks&&!gi(t))&&(n.attributes.target="_blank"),n.attributes.href=this.OnQualifyUrl(t)},l.prototype.OnPrepareImage=function(n,t){var i=this.OnGetImageSize(n.attributes.src,t);i!=null&&(n.attributes.width=i.width,n.attributes.height=i.height),n.attributes.src=this.OnQualifyUrl(n.attributes.src)},l.prototype.GetLinkDefinition=function(n){var t=this.m_LinkDefinitions[n];return t==undefined?null:t},n.ProcessBlocks=function(n){return this.m_LinkDefinitions=[],this.m_Footnotes=[],this.m_UsedFootnotes=[],this.m_UsedHeaderIDs=[],this.m_Abbreviations=null,new b(this,this.MarkdownInHtml).Process(n)},n.AddLinkDefinition=function(n){this.m_LinkDefinitions[n.id]=n},n.AddFootnote=function(n){this.m_Footnotes[n.data]=n},n.ClaimFootnote=function(n){var t=this.m_Footnotes[n];return t!=undefined?(this.m_UsedFootnotes.push(t),delete this.m_Footnotes[n],this.m_UsedFootnotes.length-1):-1},n.AddAbbreviation=function(n,t){this.m_Abbreviations==null&&(this.m_Abbreviations=[]),this.m_Abbreviations[n]={Abbr:n,Title:t}},n.GetAbbreviations=function(){return this.m_Abbreviations},n.MakeUniqueHeaderID=function(n,t,i){var u,r,f;if(!this.AutoHeadingIDs)return null;u=this.m_SpanFormatter.MakeID(n,t,i),u||(u="section"),r=u,f=1;while(this.m_UsedHeaderIDs[r]!=undefined)r=u+"-"+f.toString(),f++;return this.m_UsedHeaderIDs[r]=!0,r},n.GetStringBuilder=function(){return this.m_StringBuilder.Clear(),this.m_StringBuilder},n=v.prototype,n.Append=function(n){n&&this.m_content.push(n)},n.Clear=function(){this.m_content.length=0},n.ToString=function(){return this.m_content.join("")},n.HtmlRandomize=function(n){for(var r=n.length,i,t=0;t<r;t++)i=Math.random(),i>.9&&n.charAt(t)!="@"?this.Append(n.charAt(t)):i>.45?(this.Append("&#"),this.Append(n.charCodeAt(t).toString()),this.Append(";")):(this.Append("&#x"),this.Append(n.charCodeAt(t).toString(16)),this.Append(";"))},n.HtmlEncode=function(n,t,i){for(var f=t+i,r=t,u=t;u<f;u++)switch(n.charAt(u)){case"&":u>r&&this.Append(n.substr(r,u-r)),this.Append("&amp;"),r=u+1;break;case"<":u>r&&this.Append(n.substr(r,u-r)),this.Append("&lt;"),r=u+1;break;case">":u>r&&this.Append(n.substr(r,u-r)),this.Append("&gt;"),r=u+1;break;case'"':u>r&&this.Append(n.substr(r,u-r)),this.Append("&quot;"),r=u+1}u>r&&this.Append(n.substr(r,u-r))},n.SmartHtmlEncodeAmpsAndAngles=function(n,t,i){for(var e=t+i,u=t,f,r=t;r<e;r++)switch(n.charAt(r)){case"&":f=ui(n,r),f<0?(r>u&&this.Append(n.substr(u,r-u)),this.Append("&amp;"),u=r+1):r=f-1;break;case"<":r>u&&this.Append(n.substr(u,r-u)),this.Append("&lt;"),u=r+1;break;case">":r>u&&this.Append(n.substr(u,r-u)),this.Append("&gt;"),u=r+1;break;case'"':r>u&&this.Append(n.substr(u,r-u)),this.Append("&quot;"),u=r+1}r>u&&this.Append(n.substr(u,r-u))},n.SmartHtmlEncodeAmps=function(n,t,i){for(var e=t+i,u=t,f,r=t;r<e;r++)switch(n.charAt(r)){case"&":f=ui(n,r),f<0?(r>u&&this.Append(n.substr(u,r-u)),this.Append("&amp;"),u=r+1):r=f-1}r>u&&this.Append(n.substr(u,r-u))},n.HtmlEncodeAndConvertTabsToSpaces=function(n,t,i){for(var e=t+i,r=t,f=0,u=t;u<e;u++){switch(n.charAt(u)){case"\t":u>r&&this.Append(n.substr(r,u-r)),r=u+1,this.Append(" "),f++;while(f%4!=0)this.Append(" "),f++;f--;break;case"\r":case"\n":u>r&&this.Append(n.substr(r,u-r)),this.Append("\n"),r=u+1;continue;case"&":u>r&&this.Append(n.substr(r,u-r)),this.Append("&amp;"),r=u+1;break;case"<":u>r&&this.Append(n.substr(r,u-r)),this.Append("&lt;"),r=u+1;break;case">":u>r&&this.Append(n.substr(r,u-r)),this.Append("&gt;"),r=u+1;break;case'"':u>r&&this.Append(n.substr(r,u-r)),this.Append("&quot;"),r=u+1}f++}u>r&&this.Append(n.substr(r,u-r))},n=yt.prototype,n.bof=function(){return this.m_position==this.start},n.eof=function(){return this.m_position>=this.end},n.eol=function(){if(this.m_position>=this.end)return!0;var n=this.buf.charAt(this.m_position);return n=="\r"||n=="\n"||n==undefined||n==""},n.reset=function(){this.buf=arguments.length>0?arguments[0]:null,this.start=arguments.length>1?arguments[1]:0,this.end=arguments.length>2?this.start+arguments[2]:this.buf==null?0:this.buf.length,this.m_position=this.start,this.charset_offsets={}},n.current=function(){return this.m_position>=this.end?"\x00":this.buf.charAt(this.m_position)},n.remainder=function(){return this.buf.substr(this.m_position)},n.SkipToEof=function(){this.m_position=this.end},n.SkipForward=function(n){this.m_position+=n},n.SkipToEol=function(){this.m_position=this.buf.indexOf("\n",this.m_position),this.m_position<0&&(this.m_position=this.end)},n.SkipEol=function(){var n=this.m_position;return this.buf.charAt(this.m_position)=="\r"&&this.m_position++,this.buf.charAt(this.m_position)=="\n"&&this.m_position++,this.m_position!=n},n.SkipToNextLine=function(){this.SkipToEol(),this.SkipEol()},n.CharAtOffset=function(n){return this.m_position+n>=this.end?"\x00":this.buf.charAt(this.m_position+n)},n.SkipChar=function(n){return this.buf.charAt(this.m_position)==n?(this.m_position++,!0):!1},n.SkipString=function(n){return this.buf.substr(this.m_position,n.length)==n?(this.m_position+=n.length,!0):!1},n.SkipWhitespace=function(){for(var t=this.m_position,n;;){n=this.buf.charAt(this.m_position);if(n!=" "&&n!="\t"&&n!="\r"&&n!="\n")break;this.m_position++}return this.m_position!=t},n.SkipLinespace=function(){for(var t=this.m_position,n;;){n=this.buf.charAt(this.m_position);if(n!=" "&&n!="\t")break;this.m_position++}return this.m_position!=t},n.FindRE=function(n){n.lastIndex=this.m_position;var t=n.exec(this.buf);return t==null?(this.m_position=this.end,!1):t.index+t[0].length>this.end?(this.m_position=this.end,!1):(this.m_position=t.index,!0)},n.FindOneOf=function(t){var r=-1,u,i;for(u in t)i=t[u],i==null&&(i={},i.m_searched_from=-1,i.m_found_at=-1,t[u]=i),(i.m_searched_from==-1||this.m_position<i.m_searched_from||this.m_position>=i.m_found_at&&i.m_found_at!=-1)&&(i.m_searched_from=this.m_position,i.m_found_at=this.buf.indexOf(u,this.m_position)),(r==-1||i.m_found_at<r)&&(r=i.m_found_at);return r==-1?(r=this.end,!1):(n.m_position=r,!0)},n.Find=function(n){return this.m_position=this.buf.indexOf(n,this.m_position),this.m_position<0?(this.m_position=this.end,!1):!0},n.Mark=function(){this.mark=this.m_position},n.Extract=function(){return this.mark<this.m_position?this.buf.substr(this.mark,this.m_position-this.mark):""},n.SkipIdentifier=function(){var n=this.buf.charAt(this.m_position);if(n>="a"&&n<="z"||n>="A"&&n<="Z"||n=="_"){this.m_position++;for(;;){n=this.buf.charAt(this.m_position);if((n<"a"||n>"z")&&(n<"A"||n>"Z")&&n!="_"&&(n<"0"||n>"9"))return!0;this.m_position++}}return!1},n.SkipFootnoteID=function(){var i=this.m_position,n,t;this.SkipLinespace(),this.Mark();for(;;){n=this.current();if(d(n)||n=="-"||n=="_"||n==":"||n=="."||n==" ")this.SkipForward(1);else break}if(this.m_position>this.mark){t=p(this.Extract());if(t.length>0)return this.SkipLinespace(),t}return this.m_position=i,null},n.SkipHtmlEntity=function(){if(this.buf.charAt(this.m_position)!="&")return!1;var n=ui(this.buf,this.m_position);return n<0?!1:(this.m_position=n,!0)},n.SkipEscapableChar=function(n){return this.buf.charAt(this.m_position)=="\\"&&ei(this.buf.charAt(this.m_position+1),n)?(this.m_position+=2,!0):(this.m_position<this.end&&this.m_position++,!1)};var cr=1,si=2,ar=4,lr=8;n=g.prototype,n.attributeCount=function(){var n,t;if(!this.attributes)return 0;n=0;for(t in this.attributes)n++;return n},n.get_Flags=function(){return this.flags==0&&(this.flags=nf[this.name.toLowerCase()],this.flags==undefined&&(this.flags=si)),this.flags},n.IsSafe=function(){var i=this.name.toLowerCase(),n,t;if(!bu[i])return!1;n=du[i];if(!n)return this.attributeCount()==0;if(!this.attributes)return!0;for(t in this.attributes)if(!n[t.toLowerCase()])return!1;if(this.attributes.href)if(!vr(this.attributes.href))return!1;if(this.attributes.src)if(!vr(this.attributes.src))return!1;return!0},n.RenderOpening=function(n){n.Append("<"),n.Append(this.name);for(var t in this.attributes)n.Append(" "),n.Append(t),n.Append('="'),n.Append(this.attributes[t]),n.Append('"');this.closed?n.Append(" />"):n.Append(">")},n.RenderClosing=function(n){n.Append("</"),n.Append(this.name),n.Append(">")};var bu={b:1,blockquote:1,code:1,dd:1,dt:1,dl:1,del:1,em:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,i:1,kbd:1,li:1,ol:1,ul:1,p:1,pre:1,s:1,sub:1,sup:1,strong:1,strike:1,img:1,a:1},du={a:{href:1,title:1},img:{src:1,width:1,height:1,alt:1,title:1}},t=cr,w=si,vi=ar,e=lr,nf={p:t|e,div:t,h1:t|e,h2:t|e,h3:t|e,h4:t|e,h5:t|e,h6:t|e,blockquote:t,pre:t,table:t,dl:t,ol:t,ul:t,form:t,fieldset:t,iframe:t,script:t|w,noscript:t|w,math:t|w,ins:t|w,del:t|w,img:t|w,li:e,dd:e,dt:e,td:e,th:e,legend:e,address:e,hr:t|vi,"!":t|vi,head:t};delete t,delete w,delete vi,n=ht.prototype,n.RenderLink=function(n,t,i){if(this.url.substr(0,7).toLowerCase()=="mailto:")t.Append('<a href="'),t.HtmlRandomize(this.url),t.Append('"'),this.title&&(t.Append(' title="'),t.SmartHtmlEncodeAmpsAndAngles(this.title,0,this.title.length),t.Append('"')),t.Append(">"),t.HtmlRandomize(i),t.Append("</a>");else{var u=new g("a"),r=n.GetStringBuilder();r.SmartHtmlEncodeAmpsAndAngles(this.url,0,this.url.length),u.attributes.href=r.ToString(),this.title&&(r.Clear(),r.SmartHtmlEncodeAmpsAndAngles(this.title,0,this.title.length),u.attributes.title=r.ToString()),n.OnPrepareLink(u),u.RenderOpening(t),t.Append(i),t.Append("</a>")}},n.RenderImg=function(n,t,i){var u=new g("img"),r=n.GetStringBuilder();r.SmartHtmlEncodeAmpsAndAngles(this.url,0,this.url.length),u.attributes.src=r.ToString(),i&&(r.Clear(),r.SmartHtmlEncodeAmpsAndAngles(i,0,i.length),u.attributes.alt=r.ToString()),this.title&&(r.Clear(),r.SmartHtmlEncodeAmpsAndAngles(this.title,0,this.title.length),u.attributes.title=r.ToString()),u.closed=!0,n.OnPrepareImage(u,n.RenderingTitledImage),u.RenderOpening(t)};var k=0,er=1,wi=2,sr=3,gr=4,hr=5,wr=6,tu=7,nu=8,rt=9,bt=10,et=11,ot=12,it=13,ru=14,iu=15;n=ri.prototype,n.FormatParagraph=function(n,t,i,r){this.Tokenize(t,i,r);if(this.m_Tokens.length==1&&this.m_Markdown.HtmlClassTitledImages!=null&&this.m_Tokens[0].type==bt){var u=this.m_Tokens[0].data;n.Append('<div class="'),n.Append(this.m_Markdown.HtmlClassTitledImages),n.Append('">\n'),this.m_Markdown.RenderingTitledImage=!0,this.Render(n,t),this.m_Markdown.RenderingTitledImage=!1,n.Append("\n"),u.def.title&&(n.Append("<p>"),n.SmartHtmlEncodeAmpsAndAngles(u.def.title,0,u.def.title.length),n.Append("</p>\n")),n.Append("</div>\n")}else n.Append("<p>"),this.Render(n,t),n.Append("</p>\n")},n.Format2=function(n,t){this.Format(n,t,0,t.length)},n.Format=function(n,t,i,r){this.Tokenize(t,i,r),this.Render(n,t)},n.FormatDirect=function(n){var t=new v;return this.Format(t,n,0,n.length),t.ToString()},n.MakeID=function(n,t,i){var s,u,o,e,r,f;for(this.Tokenize(n,t,i),s=this.m_Tokens,u=new v,o=0;o<s.length;o++){e=s[o];switch(e.type){case k:u.Append(n.substr(e.startOffset,e.length));break;case rt:u.Append(e.data.link_text)}this.FreeToken(e)}r=this.m_Scanner,r.reset(u.ToString());while(!r.eof()){if(br(r.current()))break;r.SkipForward(1)}u.Clear();while(!r.eof()){f=r.current();if(d(f)||f=="_"||f=="-"||f==".")u.Append(f.toLowerCase());else if(f==" ")u.Append("-");else if(ii(f)){u.Append("-"),r.SkipEol();continue}r.SkipForward(1)}return u.ToString()},n.Render=function(n,t){for(var s=this.m_Tokens,h=s.length,i,o,r,f,u,e=0;e<h;e++){i=s[e];switch(i.type){case k:n.HtmlEncode(t,i.startOffset,i.length);break;case er:n.SmartHtmlEncodeAmps(t,i.startOffset,i.length);break;case wi:case et:case ot:case it:n.Append(t.substr(i.startOffset,i.length));break;case nu:n.Append("<br />\n");break;case sr:n.Append("<em>");break;case gr:n.Append("</em>");break;case hr:n.Append("<strong>");break;case wr:n.Append("</strong>");break;case tu:n.Append("<code>"),n.HtmlEncode(t,i.startOffset,i.length),n.Append("</code>");break;case rt:r=i.data,o=new ri(this.m_Markdown),o.m_DisableLinks=!0,r.def.RenderLink(this.m_Markdown,n,o.FormatDirect(r.link_text));break;case bt:r=i.data,r.def.RenderImg(this.m_Markdown,n,r.link_text);break;case ru:f=i.data,n.Append('<sup id="fnref:'),n.Append(f.id),n.Append('"><a href="#fn:'),n.Append(f.id),n.Append('" rel="footnote">'),n.Append(f.index+1),n.Append("</a></sup>");break;case iu:u=i.data,n.Append("<abbr"),u.Title&&(n.Append(' title="'),n.HtmlEncode(u.Title,0,u.Title.length),n.Append('"')),n.Append(">"),n.HtmlEncode(u.Abbr,0,u.Abbr.length),n.Append("</abbr>")}this.FreeToken(i)}},n.Tokenize=function(n,t,i){var r=this.m_Scanner,o,h,u,p,l,f,v,y,a;r.reset(n,t,i),o=this.m_Tokens,o.length=0;var s=null,c=this.m_Markdown.GetAbbreviations(),w=c==null?/[\*\_\`\[\!\<\&\ \\]/g:null,b=this.m_Markdown.ExtraMode,e=r.m_position;while(!r.eof()){if(w!=null&&!r.FindRE(w))break;h=r.m_position,u=null;switch(r.current()){case"*":case"_":u=this.CreateEmphasisMark();if(u!=null)switch(u.type){case it:case et:case ot:s==null&&(s=[]),s.push(u)}break;case"`":u=this.ProcessCodeSpan();break;case"[":case"!":p=r.m_position,u=this.ProcessLinkOrImageOrFootnote(),u==null&&(r.m_position=p);break;case"<":f=r.m_position,l=pt(r),l!=null?!this.m_Markdown.SafeMode||l.IsSafe()?u=this.CreateToken(er,f,r.m_position-f):r.m_position=f:(r.m_position=f,u=this.ProcessAutoLink(),u==null&&(r.m_position=f));break;case"&":f=r.m_position,r.SkipHtmlEntity()&&(u=this.CreateToken(wi,f,r.m_position-f));break;case" ":r.CharAtOffset(1)==" "&&ii(r.CharAtOffset(2))&&(r.SkipForward(2),r.eof()||(r.SkipEol(),u=this.CreateToken(nu,h,0)));break;case"\\":ei(r.CharAtOffset(1),b)&&(u=this.CreateToken(k,r.m_position+1,1),r.SkipForward(2))}if(u==null&&c!=null&&!d(r.CharAtOffset(-1))){v=r.m_position;for(y in c){a=c[y];if(r.SkipString(a.Abbr)&&!d(r.current())){u=this.CreateDataToken(iu,a);break}r.position=v}}u!=null?(h>e&&o.push(this.CreateToken(k,e,h-e)),o.push(u),e=r.m_position):r.SkipForward(1)}r.m_position>e&&o.push(this.CreateToken(k,e,r.m_position-e)),s!=null&&this.ResolveEmphasisMarks(o,s)},n.CreateEmphasisMark=function(){var n=this.m_Scanner,i=n.current(),o=i=="*"?"_":"*",t=n.m_position,e,r,u;if(n.bof()||f(n.CharAtOffset(-1))){while(ti(n.current()))n.SkipForward(1);if(n.eof()||f(n.current()))return this.CreateToken(wi,t,n.m_position-t);n.m_position=t}while(ti(n.CharAtOffset(-1)))n.SkipForward(-1);e=n.bof()||f(n.CharAtOffset(-1)),n.m_position=t;while(n.current()==i)n.SkipForward(1);r=n.m_position-t;while(ti(n.CharAtOffset(1)))n.SkipForward(1);return u=n.eof()||f(n.current()),n.m_position=t+r,e?this.CreateToken(et,t,n.m_position-t):u?this.CreateToken(ot,t,n.m_position-t):this.m_Markdown.ExtraMode&&i=="_"?null:this.CreateToken(it,t,n.m_position-t)},n.SplitMarkToken=function(n,t,i,r){var u=this.CreateToken(i.type,i.startOffset+r,i.length-r);return i.length=r,t.splice(ut(t,i)+1,0,u),n.splice(ut(n,i)+1,0,u),u},n.ResolveEmphasisMarks=function(n,t){var s=this.m_Scanner.buf,o=!0,f,i,e,u,r;while(o)for(o=!1,f=0;f<t.length;f++){i=t[f];if(i.type!=et&&i.type!=it)continue;for(e=f+1;e<t.length;e++){u=t[e];if(u.type!=ot&&u.type!=it)break;if(s.charAt(i.startOffset)!=s.charAt(u.startOffset))continue;r=Math.min(i.length,u.length),r<3||(r=r%2==1?1:2),i.length>r&&(i=this.SplitMarkToken(n,t,i,i.length-r),f--),u.length>r&&this.SplitMarkToken(n,t,u,r),i.type=r==1?sr:hr,u.type=r==1?gr:wr,t.splice(ut(t,i),1),t.splice(ut(t,u),1),o=!0;break}}},n.ProcessAutoLink=function(){var t,u,e,n,i,r;if(this.m_DisableLinks)return null;t=this.m_Scanner,t.SkipForward(1),t.Mark(),u=this.m_Markdown.ExtraMode;while(!t.eof()){e=t.current();if(f(e))break;if(e==">")return n=tt(t.Extract(),u),i=null,su(n)?(n.toLowerCase().substr(0,7)=="mailto:"?r=n.substr(7):(r=n,n="mailto:"+n),i=new ct(new ht("auto",n,null),r)):cu(n)&&(i=new ct(new ht("auto",n,null),n)),i!=null?(t.SkipForward(1),this.CreateDataToken(rt,i)):null;t.SkipEscapableChar(u)}return null},n.ProcessLinkOrImageOrFootnote=function(){var n=this.m_Scanner,a=n.SkipChar("!")?bt:rt,e,s,l,v,h,p,o,y,t,u,r,i,c;if(!n.SkipChar("["))return null;e=this.m_position;if(this.m_Markdown.ExtraMode&&a==rt&&n.SkipChar("^")){n.SkipLinespace(),n.Mark(),s=n.SkipFootnoteID();if(s!=null&&n.SkipChar("]")){l=this.m_Markdown.ClaimFootnote(s);if(l>=0)return this.CreateDataToken(ru,{index:l,id:s})}this.m_position=e}if(this.m_DisableLinks)return null;v=this.m_Markdown.ExtraMode,n.Mark(),h=1;while(!n.eof()){p=n.current();if(p=="[")h++;else if(p=="]"){h--;if(h==0)break}n.SkipEscapableChar(v)}if(n.eof())return null;o=tt(n.Extract(),v),n.SkipForward(1),e=n.m_position;if(n.SkipChar("(")){y=or(n,null,this.m_Markdown.ExtraMode);if(y==null)return null;return n.SkipWhitespace(),n.SkipChar(")")?this.CreateDataToken(a,new ct(y,o)):null}n.SkipChar(" ")||n.SkipChar("\t"),n.eol()&&(n.SkipEol(),n.SkipLinespace()),t=null;if(n.current()=="["){n.SkipForward(1),n.Mark();if(!n.Find("]"))return null;t=n.Extract(),n.SkipForward(1)}else n.m_position=e;if(!t){t=o;for(;;){u=t.indexOf("\n");if(u<0)break;r=u;while(r>0&&f(t.charAt(r-1)))r--;i=u;while(i<t.length&&f(t.charAt(i)))i++;t=t.substr(0,r)+" "+t.substr(i)}}return c=this.m_Markdown.GetLinkDefinition(t),c==null?null:this.CreateDataToken(a,new ct(c,o))},n.ProcessCodeSpan=function(){var n=this.m_Scanner,t=n.m_position,r=0,i,e,u;while(n.SkipChar("`"))r++;n.SkipWhitespace();if(n.eof())return this.CreateToken(k,t,n.m_position-t);i=n.m_position;if(!n.Find(n.buf.substr(t,r)))return this.CreateToken(k,t,n.m_position-t);e=n.m_position+r;while(f(n.CharAtOffset(-1)))n.SkipForward(-1);return u=this.CreateToken(tu,i,n.m_position-i),n.m_position=e,u},n.CreateToken=function(n,t,i){if(this.m_SpareTokens.length!=0){var r=this.m_SpareTokens.pop();return r.type=n,r.startOffset=t,r.length=i,r.data=null,r}return new kr(n,t,i)},n.CreateDataToken=function(n,t){var i;return this.m_SpareTokens.length!=0?(i=this.m_SpareTokens.pop(),i.type=n,i.data=t,i):(i=new kr(n,0,0),i.data=t,i)},n.FreeToken=function(n){n.data=null,this.m_SpareTokens.push(n)};var i=0,nt=1,dr=2,au=3,yu=4,wu=5,pu=6,st=7,tr=8,o=9,a=10,c=11,r=12,h=13,wt=14,y=15,lt=16,ci=17,oi=18,ur=19,pi=20,di=21,yi=22,hi=23,bi=24,u=25,ft=26,nr=27,s=28,li=29;n=ai.prototype,n.buf=null,n.blockType=i,n.contentStart=0,n.contentLen=0,n.lineStart=0,n.lineLen=0,n.children=null,n.data=null,n.get_Content=function(){return this.buf==null?null:this.contentStart==-1?this.buf:this.buf.substr(this.contentStart,this.contentLen)},n.get_CodeContent=function(){for(var t=new v,n=0;n<this.children.length;n++)t.Append(this.children[n].get_Content()),t.Append("\n");return t.ToString()},n.RenderChildren=function(n,t){for(var i=0;i<this.children.length;i++)this.children[i].Render(n,t)},n.ResolveHeaderID=function(n){if(this.data!=null)return this.data;var i=yr(this.buf,this.contentStart,this.get_contentEnd()),t=null;return i!=null?(this.set_contentEnd(i.end),t=i.id):t=n.MakeUniqueHeaderID(this.buf,this.contentStart,this.contentLen),this.data=t,t},n.Render=function(n,t){var k,h,l,e,b,w,f,d;switch(this.blockType){case i:return;case r:n.m_SpanFormatter.FormatParagraph(t,this.buf,this.contentStart,this.contentLen);break;case ci:n.m_SpanFormatter.Format(t,this.buf,this.contentStart,this.contentLen),t.Append("\n");break;case nt:case dr:case au:case yu:case wu:case pu:n.ExtraMode&&!n.SafeMode?(t.Append("<h"+(this.blockType-nt+1).toString()),k=this.ResolveHeaderID(n),k?(t.Append(' id="'),t.Append(k),t.Append('">')):t.Append(">")):t.Append("<h"+(this.blockType-nt+1).toString()+">"),n.m_SpanFormatter.Format(t,this.buf,this.contentStart,this.contentLen),t.Append("</h"+(this.blockType-nt+1).toString()+">\n");break;case wt:t.Append("<hr />\n");return;case a:case c:t.Append("<li>"),n.m_SpanFormatter.Format(t,this.buf,this.contentStart,this.contentLen),t.Append("</li>\n");break;case y:t.Append(this.buf.substr(this.contentStart,this.contentLen));return;case lt:t.HtmlEncode(this.buf,this.contentStart,this.contentLen);return;case oi:for(t.Append("<pre"),n.FormatCodeBlockAttributes!=null&&t.Append(n.FormatCodeBlockAttributes(this.data)),t.Append("><code>"),h=t,n.FormatCodeBlock&&(h=t,t=new v),f=0;f<this.children.length;f++)l=this.children[f],t.HtmlEncodeAndConvertTabsToSpaces(l.buf,l.contentStart,l.contentLen),t.Append("\n");n.FormatCodeBlock&&(h.Append(n.FormatCodeBlock(t.ToString(),this.data)),t=h),t.Append("</code></pre>\n\n");return;case o:t.Append("<blockquote>\n"),this.RenderChildren(n,t),t.Append("</blockquote>\n");return;case ur:t.Append("<li>\n"),this.RenderChildren(n,t),t.Append("</li>\n");return;case pi:t.Append("<ol>\n"),this.RenderChildren(n,t),t.Append("</ol>\n");return;case di:t.Append("<ul>\n"),this.RenderChildren(n,t),t.Append("</ul>\n");return;case yi:e=this.data,b=e.name.toLowerCase(),b=="a"?n.OnPrepareLink(e):b=="img"&&n.OnPrepareImage(e,n.RenderingTitledImage),e.RenderOpening(t),t.Append("\n"),this.RenderChildren(n,t),e.RenderClosing(t),t.Append("\n");return;case hi:case s:this.RenderChildren(n,t);return;case bi:this.data.Render(n,t);return;case u:t.Append("<dd>"),this.children!=null?(t.Append("\n"),this.RenderChildren(n,t)):n.m_SpanFormatter.Format(t,this.buf,this.contentStart,this.contentLen),t.Append("</dd>\n");break;case ft:if(this.children==null)for(w=this.get_Content().split("\n"),f=0;f<w.length;f++)d=w[f],t.Append("<dt>"),n.m_SpanFormatter.Format2(t,p(d)),t.Append("</dt>\n");else t.Append("<dt>\n"),this.RenderChildren(n,t),t.Append("</dt>\n");break;case nr:t.Append("<dl>\n"),this.RenderChildren(n,t),t.Append("</dl>\n");return;case li:t.Append("<p>"),this.contentLen>0&&(n.m_SpanFormatter.Format(t,this.buf,this.contentStart,this.contentLen),t.Append("&nbsp;")),t.Append(this.data),t.Append("</p>\n")}},n.RevertToPlain=function(){this.blockType=r,this.contentStart=this.lineStart,this.contentLen=this.lineLen},n.get_contentEnd=function(){return this.contentStart+this.contentLen},n.set_contentEnd=function(n){this.contentLen=n-this.contentStart},n.get_leadingSpaces=function(){for(var t=0,n=this.lineStart;n<this.lineStart+this.lineLen;n++)if(this.buf.charAt(n)==" ")t++;else break;return t},n.CopyFrom=function(n){return this.blockType=n.blockType,this.buf=n.buf,this.contentStart=n.contentStart,this.contentLen=n.contentLen,this.lineStart=n.lineStart,this.lineLen=n.lineLen,this},n=b.prototype,n.Process=function(n){var t=new yt(n);return this.ScanLines(t)},n.ProcessRange=function(n,t,i){var r=new yt(n,t,i);return this.ScanLines(r)},n.StartTable=function(n,t,i){var r,u;if(i.length>1)return!1;if(i.length==1){r=n.m_position,n.m_position=i[0].lineStart,t.m_Headers=t.ParseRow(n);if(t.m_Headers==null)return!1;n.m_position=r,i.length=0}for(;;){r=n.m_position,u=t.ParseRow(n);if(u!=null){t.m_Rows.push(u);continue}n.m_position=r;break}return!0},n.ScanLines=function(n){var e=[],f=[],w=-1,b,t,v,p,y,l;while(!n.eof()){b=w==i,t=this.EvaluateLine(n),w=t.blockType,t.blockType==u&&(t.data=b);if(t.blockType==st||t.blockType==tr){if(f.length>0){l=f.pop(),this.CollapseLines(e,f);if(l.blockType!=i){l.RevertToPlain(),l.blockType=t.blockType==st?nt:dr,e.push(l);continue}}t.blockType==st?(t.RevertToPlain(),f.push(t)):t.contentLen<3?(t.RevertToPlain(),f.push(t)):(t.blockType=wt,e.push(t));continue}v=f.length>0?f[0].blockType:i;if(t.blockType==bi){p=t.data,y=n.m_position;if(this.StartTable(n,p,f)){e.push(t);continue}else n.m_position=y,t.RevertToPlain()}switch(t.blockType){case i:switch(v){case i:this.FreeBlock(t);break;case r:this.CollapseLines(e,f),this.FreeBlock(t);break;case o:case a:case c:case u:case s:case h:f.push(t)}break;case r:switch(v){case i:case r:f.push(t);break;case o:case a:case c:case u:case s:l=f[f.length-1],l.blockType==i?(this.CollapseLines(e,f),f.push(t)):f.push(t);break;case h:this.CollapseLines(e,f),f.push(t)}break;case h:switch(v){case i:f.push(t);break;case r:case o:l=f[f.length-1],l.blockType==i?(this.CollapseLines(e,f),f.push(t)):(t.RevertToPlain(),f.push(t));break;case a:case c:case h:case u:case s:f.push(t)}break;case o:v!=o&&this.CollapseLines(e,f),f.push(t);break;case a:case c:switch(v){case i:f.push(t);break;case r:case o:l=f[f.length-1],l.blockType==i||this.m_parentType==a||this.m_parentType==c||this.m_parentType==u?(this.CollapseLines(e,f),f.push(t)):(t.RevertToPlain(),f.push(t));break;case a:case c:case u:case s:t.blockType!=v&&this.CollapseLines(e,f),f.push(t);break;case h:this.CollapseLines(e,f),f.push(t)}break;case u:case s:switch(v){case i:case r:case u:case s:this.CollapseLines(e,f),f.push(t);break;default:t.RevertToPlain(),f.push(t)}break;default:this.CollapseLines(e,f),e.push(t)}}return this.CollapseLines(e,f),this.m_Markdown.ExtraMode&&this.BuildDefinitionLists(e),e},n.CreateBlock=function(n){var t;return t=this.m_Markdown.m_SpareBlocks.length>1?this.m_Markdown.m_SpareBlocks.pop():new ai,t.lineStart=n,t},n.FreeBlock=function(n){this.m_Markdown.m_SpareBlocks.push(n)},n.FreeBlocks=function(n){for(var t=0;t<n.length;t++)this.m_Markdown.m_SpareBlocks.push(n[t]);n.length=0},n.RenderLines=function(n){for(var r=this.m_Markdown.GetStringBuilder(),i,t=0;t<n.length;t++)i=n[t],r.Append(i.buf.substr(i.contentStart,i.contentLen)),r.Append("\n");return r.ToString()},n.CollapseLines=function(n,t){var l,d,k,w,v,y,e,f,p;while(t.length>0&&t[t.length-1].blockType==i)this.FreeBlock(t.pop());if(t.length==0)return;switch(t[0].blockType){case r:l=this.CreateBlock(t[0].lineStart),l.blockType=r,l.buf=t[0].buf,l.contentStart=t[0].contentStart,l.set_contentEnd(t[t.length-1].get_contentEnd()),n.push(l),this.FreeBlocks(t);break;case o:d=this.RenderLines(t),k=new b(this.m_Markdown,this.m_bMarkdownInHtml),k.m_parentType=o,w=this.CreateBlock(t[0].lineStart),w.blockType=o,w.children=k.Process(d),this.FreeBlocks(t),n.push(w);break;case a:case c:n.push(this.BuildList(t));break;case u:if(n.length>0){v=n[n.length-1];switch(v.blockType){case r:v.blockType=ft;break;case u:break;default:y=this.CreateBlock(v.lineStart),y.blockType=ft,y.children=[],y.children.push(v),n.pop(),n.push(y)}}n.push(this.BuildDefinition(t));break;case s:this.m_Markdown.AddFootnote(this.BuildFootnote(t));break;case h:for(e=this.CreateBlock(t[0].lineStart),e.blockType=oi,e.children=[],f=t[0].get_Content(),f.substr(0,2)=="{{"&&f.substr(f.length-2,2)=="}}"&&(e.data=f.substr(2,f.length-4),t.splice(0,1)),p=0;p<t.length;p++)e.children.push(t[p]);n.push(e),t.length=0}},n.EvaluateLine=function(n){var t=this.CreateBlock(n.m_position);return t.buf=n.buf,t.contentStart=n.m_position,t.contentLen=-1,t.blockType=this.EvaluateLineInternal(n,t),t.contentLen<0&&(n.SkipToEol(),t.contentLen=n.m_position-t.contentStart),t.lineLen=n.m_position-t.lineStart,n.SkipEol(),t},n.EvaluateLineInternal=function(n,t){var v,e,y,b,tt,l,it,rt,w,k,ft,ut,d,g;if(n.eol())return i;v=n.m_position,e=n.current();if(e=="#"){y=1,n.SkipForward(1);while(n.current()=="#")y++,n.SkipForward(1);y>6&&(y=6),n.SkipLinespace(),t.contentStart=n.m_position,n.SkipToEol(),this.m_Markdown.ExtraMode&&!this.m_Markdown.SafeMode&&(b=yr(n.buf,t.contentStart,n.m_position),b!=null&&(t.data=b.id,n.m_position=b.end));while(n.m_position>t.contentStart&&n.CharAtOffset(-1)=="#")n.SkipForward(-1);while(n.m_position>t.contentStart&&f(n.CharAtOffset(-1)))n.SkipForward(-1);return t.contentLen=n.m_position-t.contentStart,n.SkipToEol(),nt+(y-1)}if(e=="-"||e=="="){w=e;while(n.current()==w)n.SkipForward(1);n.SkipLinespace();if(n.eol())return w=="="?st:tr;n.m_position=v}if(this.m_Markdown.ExtraMode){tt=uu(n);if(tt!=null)return t.data=tt,bi;n.m_position=v;if(e=="~"){if(this.ProcessFencedCodeBlock(n,t))return t.blockType;n.m_position=v}}l=-1,it=0;while(!n.eol()){if(n.current()==" ")l<0&&it++;else if(n.current()=="\t")l<0&&(l=n.m_position);else break;n.SkipForward(1)}if(n.eol())return t.contentLen=0,i;if(it>=4)return t.contentStart=v+4,h;if(l>=0&&l-v<4)return t.contentStart=l+1,h;t.contentStart=n.m_position,e=n.current();if(e=="<"){if(this.ScanHtml(n,t))return t.blockType;n.m_position=t.contentStart}if(e==">")return at(n.CharAtOffset(1))?(n.SkipForward(2),t.contentStart=n.m_position,o):(n.SkipForward(1),t.contentStart=n.m_position,o);if(e=="-"||e=="_"||e=="*"){rt=0;while(!n.eol()){w=n.current();if(n.current()==e){rt++,n.SkipForward(1);continue}if(at(n.current())){n.SkipForward(1);continue}break}if(n.eol()&&rt>=3)return wt;n.m_position=t.contentStart}if(this.m_Markdown.ExtraMode&&e=="*"&&n.CharAtOffset(1)=="["){n.SkipForward(2),n.SkipLinespace(),n.Mark();while(!n.eol()&&n.current()!="]")n.SkipForward(1);k=p(n.Extract());if(n.current()=="]"&&n.CharAtOffset(1)==":"&&k)return n.SkipForward(2),n.SkipLinespace(),n.Mark(),n.SkipToEol(),ft=n.Extract(),this.m_Markdown.AddAbbreviation(k,ft),i;n.m_position=t.contentStart}if((e=="*"||e=="+"||e=="-")&&at(n.CharAtOffset(1)))return n.SkipForward(1),n.SkipLinespace(),t.contentStart=n.m_position,c;if(e==":"&&this.m_Markdown.ExtraMode&&at(n.CharAtOffset(1)))return n.SkipForward(1),n.SkipLinespace(),t.contentStart=n.m_position,u;if(fi(e)){n.SkipForward(1);while(fi(n.current()))n.SkipForward(1);if(n.SkipChar(".")&&n.SkipLinespace())return t.contentStart=n.m_position,a;n.m_position=t.contentStart}if(e=="["){if(this.m_Markdown.ExtraMode&&n.CharAtOffset(1)=="^"){ut=n.m_position,n.SkipForward(2),d=n.SkipFootnoteID();if(d!=null&&n.SkipChar("]")&&n.SkipChar(":"))return n.SkipLinespace(),t.contentStart=n.m_position,t.data=d,s;n.m_position=ut}g=gu(n,this.m_Markdown.ExtraMode);if(g!=null)return this.m_Markdown.AddLinkDefinition(g),i}return r};var ki=0,dt=1,gt=2,vt=3,ni=4;n.GetMarkdownMode=function(n){var t=n.attributes.markdown;if(t==undefined)return this.m_bMarkdownInHtml?vt:ki;return delete n.attributes.markdown,t=="1"?(n.get_Flags()&lr)!=0?gt:dt:t=="block"?dt:t=="deep"?vt:t=="span"?gt:ni},n.ProcessMarkdownEnabledHtml=function(n,t,i,r){var f=n.m_position,s=1,h=!1,o,e,c,u;while(!n.eof()){if(!n.Find("<"))break;o=n.m_position,e=pt(n);if(e==null){n.SkipForward(1);continue}this.m_Markdown.SafeMode&&r==ni&&!h&&(e.IsSafe()||(h=!0));if(e.closed)continue;if(e.name==i.name)if(e.closing){s--;if(s==0){n.SkipLinespace(),n.SkipEol(),t.blockType=yi,t.data=i,t.set_contentEnd(n.m_position);switch(r){case gt:u=this.CreateBlock(f),u.buf=n.buf,u.blockType=ci,u.contentStart=f,u.contentLen=o-f,t.children=[],t.children.push(u);break;case dt:case vt:c=new b(this.m_Markdown,r==vt),t.children=c.ProcessRange(n.buf,f,o-f);break;case ni:h?(t.blockType=lt,t.set_contentEnd(n.m_position)):(u=this.CreateBlock(f),u.buf=n.buf,u.blockType=y,u.contentStart=f,u.contentLen=o-f,t.children=[],t.children.push(u))}return!0}}else s++}return!1},n.ScanHtml=function(n,t){var f=n.m_position,e=pt(n),h,a,v,b,o,w,c,u,s,l,r,k;if(e==null)return!1;if(e.closing)return!1;h=!1,this.m_Markdown.SafeMode&&!e.IsSafe()&&(h=!0),a=e.get_Flags();if((a&cr)==0)return!1;if((a&ar)!=0||e.closed)return n.SkipLinespace(),n.SkipEol(),t.contentLen=n.m_position-t.contentStart,t.blockType=h?lt:y,!0;if((a&si)!=0){n.SkipLinespace();if(!n.eol())return!1}v=this.m_Markdown.ExtractHeadBlocks&&e.name.toLowerCase()=="head",b=n.m_position;if(!v&&this.m_Markdown.ExtraMode){s=this.GetMarkdownMode(e);if(s!=ki)return this.ProcessMarkdownEnabledHtml(n,t,e,s)}o=null,w=1;while(!n.eof()){if(!n.Find("<"))break;c=n.m_position,u=pt(n);if(u==null){n.SkipForward(1);continue}this.m_Markdown.SafeMode&&!u.IsSafe()&&(h=!0);if(u.closed)continue;if(!v&&!u.closing&&this.m_Markdown.ExtraMode&&!h){s=this.GetMarkdownMode(u);if(s!=ki){l=this.CreateBlock(f);if(this.ProcessMarkdownEnabledHtml(n,l,u,s)){o==null&&(o=[]),c>f&&(r=this.CreateBlock(f),r.buf=n.buf,r.blockType=y,r.contentStart=f,r.contentLen=c-f,o.push(r)),o.push(l),f=n.m_position;continue}else this.FreeBlock(l)}}if(u.name==e.name&&!u.closed)if(u.closing){w--;if(w==0)return n.SkipLinespace(),n.SkipEol(),h?(t.blockType=lt,t.set_contentEnd(n.m_position),!0):o!=null?(n.m_position>f&&(r=this.CreateBlock(f),r.buf=n.buf,r.blockType=y,r.contentStart=f,r.contentLen=n.m_position-f,o.push(r)),t.blockType=hi,t.set_contentEnd(n.m_position),t.children=o,!0):v?(k=n.buf.substr(b,c-b),this.m_Markdown.HeadBlockContent=this.m_Markdown.HeadBlockContent+p(k)+"\n",t.blockType=y,t.contentStart=n.position,t.contentEnd=n.position,t.lineStart=n.position,!0):(t.blockType=y,t.contentLen=n.m_position-t.contentStart,!0)}else w++}return i},n.BuildList=function(n){for(var l=n[0].blockType,g=n[0].get_leadingSpaces(),k,d,f,o,e,w,v,a,s,p,u,y,t=1;t<n.length;t++){if(n[t].blockType==r&&(n[t-1].blockType==r||n[t-1].blockType==l)){n[t-1].set_contentEnd(n[t].get_contentEnd()),this.FreeBlock(n[t]),n.splice(t,1),t--;continue}n[t].blockType!=h&&n[t].blockType!=i&&(k=n[t].get_leadingSpaces(),k>g&&(n[t].blockType=h,d=n[t].get_contentEnd(),n[t].contentStart=n[t].lineStart+k,n[t].set_contentEnd(d)))}for(f=this.CreateBlock(0),f.blockType=l==c?di:pi,f.children=[],t=0;t<n.length;t++){o=t;while(o>0&&n[o-1].blockType==i)o--;e=t;while(e<n.length-1&&n[e+1].blockType!=l)e++;if(o==e)f.children.push(this.CreateBlock().CopyFrom(n[t]));else{for(w=!1,v=this.m_Markdown.GetStringBuilder(),u=o;u<=e;u++)a=n[u],v.Append(a.buf.substr(a.contentStart,a.contentLen)),v.Append("\n"),n[u].blockType==i&&(w=!0);s=this.CreateBlock(),s.blockType=ur,s.lineStart=n[o].lineStart,p=new b(this.m_Markdown),p.m_parentType=l,s.children=p.Process(v.ToString());if(!w)for(u=0;u<s.children.length;u++)y=s.children[u],y.blockType==r&&(y.blockType=ci);f.children.push(s)}t=e}return f.lineStart=f.children[0].lineStart,this.FreeBlocks(n),n.length=0,f},n.BuildDefinition=function(n){for(var h,s,i,f,e,o,t=1;t<n.length;t++)if(n[t].blockType==r&&(n[t-1].blockType==r||n[t-1].blockType==u)){n[t-1].set_contentEnd(n[t].get_contentEnd()),this.FreeBlock(n[t]),n.splice(t,1),t--;continue}h=n[0].data;if(n.length==1&&!h)return s=n[0],n.length=0,s;for(i=this.m_Markdown.GetStringBuilder(),t=0;t<n.length;t++)f=n[t],i.Append(f.buf.substr(f.contentStart,f.contentLen)),i.Append("\n");return e=this.CreateBlock(n[0].lineStart),e.blockType=u,o=new b(this.m_Markdown),o.m_parentType=u,e.children=o.Process(i.ToString()),this.FreeBlocks(n),n.length=0,e},n.BuildDefinitionLists=function(n){for(var i=null,t=0;t<n.length;t++)switch(n[t].blockType){case ft:case u:i==null&&(i=this.CreateBlock(n[t].lineStart),i.blockType=nr,i.children=[],n.splice(t,0,i),t++),i.children.push(n[t]),n.splice(t,1),t--;break;default:i=null}},n.BuildFootnote=function(n){for(var u,f,e,i,t=1;t<n.length;t++)if(n[t].blockType==r&&(n[t-1].blockType==r||n[t-1].blockType==s)){n[t-1].set_contentEnd(n[t].get_contentEnd()),this.FreeBlock(n[t]),n.splice(t,1),t--;continue}for(u=this.m_Markdown.GetStringBuilder(),t=0;t<n.length;t++)f=n[t],u.Append(f.buf.substr(f.contentStart,f.contentLen)),u.Append("\n");return e=new b(this.m_Markdown),e.m_parentType=s,i=this.CreateBlock(n[0].lineStart),i.blockType=s,i.data=n[0].data,i.children=e.Process(u.ToString()),this.FreeBlocks(n),n.length=0,i},n.ProcessFencedCodeBlock=function(n,t){var e=n.m_position,r,f,u,i;n.Mark();while(n.current()=="~")n.SkipForward(1);r=n.Extract();if(r.length<3)return!1;n.SkipLinespace();if(!n.eol())return!1;n.SkipEol(),f=n.m_position;if(!n.Find(r))return!1;if(!ii(n.CharAtOffset(-1)))return!1;return u=n.m_position,n.SkipForward(r.length),n.SkipLinespace(),n.eol()?(t.blockType=oi,t.children=[],u--,i=this.CreateBlock(e),i.blockType=h,i.buf=n.buf,i.contentStart=f,i.contentLen=u-f,t.children.push(i),!0):!1};var ou=0,rr=1,fr=2,ir=3;n=kt.prototype,n.LeadingBar=!1,n.TrailingBar=!1,n.ParseRow=function(n){var i,t;n.SkipLinespace();if(n.eol())return null;i=this.LeadingBar;if(this.LeadingBar&&!n.SkipChar("|"))return i=!0,null;t=[];while(!n.eol()){n.Mark();while(!n.eol()&&n.current()!="|")n.SkipForward(1);t.push(p(n.Extract())),i|=n.SkipChar("|")}if(!i)return null;while(t.length<this.m_Columns.length)t.push("&nbsp;");return n.SkipEol(),t},n.RenderRow=function(n,t,i,r){for(var u=0;u<i.length;u++){t.Append("\t<"),t.Append(r);if(u<this.m_Columns.length)switch(this.m_Columns[u]){case rr:t.Append(' align="left"');break;case fr:t.Append(' align="right"');break;case ir:t.Append(' align="center"')}t.Append(">"),n.m_SpanFormatter.Format2(t,i[u]),t.Append("</"),t.Append(r),t.Append(">\n")}},n.Render=function(n,t){var i,r;for(t.Append("<table>\n"),this.m_Headers!=null&&(t.Append("<thead>\n<tr>\n"),this.RenderRow(n,t,this.m_Headers,"th"),t.Append("</tr>\n</thead>\n")),t.Append("<tbody>\n"),i=0;i<this.m_Rows.length;i++)r=this.m_Rows[i],t.Append("<tr>\n"),this.RenderRow(n,t,r,"td"),t.Append("</tr>\n");t.Append("</tbody>\n"),t.Append("</table>\n")},this.Markdown=l,this.HtmlTag=g},function(n){function i(t){n.jqplot.ElemContainer.call(this),this.name=t,this._series=[],this.show=!1,this.tickRenderer=n.jqplot.AxisTickRenderer,this.tickOptions={},this.labelRenderer=n.jqplot.AxisLabelRenderer,this.labelOptions={},this.label=null,this.showLabel=!0,this.min=null,this.max=null,this.autoscale=!1,this.pad=1.2,this.padMax=null,this.padMin=null,this.ticks=[],this.numberTicks,this.tickInterval,this.renderer=n.jqplot.LinearAxisRenderer,this.rendererOptions={},this.showTicks=!0,this.showTickMarks=!0,this.showMinorTicks=!0,this.drawMajorGridlines=!0,this.drawMinorGridlines=!1,this.drawMajorTickMarks=!0,this.drawMinorTickMarks=!0,this.useSeriesColor=!1,this.borderWidth=null,this.borderColor=null,this._dataBounds={min:null,max:null},this._intervalStats=[],this._offsets={min:null,max:null},this._ticks=[],this._label=null,this.syncTicks=null,this.tickSpacing=75,this._min=null,this._max=null,this._tickInterval=null,this._numberTicks=null,this.__ticks=null,this._options={}}function e(t){n.jqplot.ElemContainer.call(this),this.show=!1,this.location="ne",this.labels=[],this.showLabels=!0,this.showSwatches=!0,this.placement="insideGrid",this.xoffset=0,this.yoffset=0,this.border,this.background,this.textColor,this.fontFamily,this.fontSize,this.rowSpacing="0.5em",this.renderer=n.jqplot.TableLegendRenderer,this.rendererOptions={},this.preDraw=!1,this.marginTop=null,this.marginRight=null,this.marginBottom=null,this.marginLeft=null,this.escapeHtml=!1,this._series=[],n.extend(!0,this,t)}function h(t){n.jqplot.ElemContainer.call(this),this.text=t,this.show=!0,this.fontFamily,this.fontSize,this.textAlign,this.textColor,this.renderer=n.jqplot.DivTitleRenderer,this.rendererOptions={},this.escapeHtml=!1}function o(){n.jqplot.ElemContainer.call(this),this.show=!0,this.xaxis="xaxis",this._xaxis,this.yaxis="yaxis",this._yaxis,this.gridBorderWidth=2,this.renderer=n.jqplot.LineRenderer,this.rendererOptions={},this.data=[],this.gridData=[],this.label="",this.showLabel=!0,this.color,this.negativeColor,this.lineWidth=2.5,this.lineJoin="round",this.lineCap="round",this.linePattern="solid",this.shadow=!0,this.shadowAngle=45,this.shadowOffset=1.25,this.shadowDepth=3,this.shadowAlpha="0.1",this.breakOnNull=!1,this.markerRenderer=n.jqplot.MarkerRenderer,this.markerOptions={},this.showLine=!0,this.showMarker=!0,this.index,this.fill=!1,this.fillColor,this.fillAlpha,this.fillAndStroke=!1,this.disableStack=!1,this._stack=!1,this.neighborThreshold=4,this.fillToZero=!1,this.fillToValue=0,this.fillAxis="y",this.useNegativeColors=!0,this._stackData=[],this._plotData=[],this._plotValues={x:[],y:[]},this._intervals={x:{},y:{}},this._prevPlotData=[],this._prevGridData=[],this._stackAxis="y",this._primaryAxis="_xaxis",this.canvas=new n.jqplot.GenericCanvas,this.shadowCanvas=new n.jqplot.GenericCanvas,this.plugins={},this._sumy=0,this._sumx=0,this._type=""}function s(){n.jqplot.ElemContainer.call(this),this.drawGridlines=!0,this.gridLineColor="#cccccc",this.gridLineWidth=1,this.background="#fffdf6",this.borderColor="#999999",this.borderWidth=2,this.drawBorder=!0,this.shadow=!0,this.shadowAngle=45,this.shadowOffset=1.5,this.shadowWidth=3,this.shadowDepth=3,this.shadowColor=null,this.shadowAlpha="0.07",this._left,this._top,this._right,this._bottom,this._width,this._height,this._axes=[],this.renderer=n.jqplot.CanvasGridRenderer,this.rendererOptions={},this._offsets={top:null,bottom:null,left:null,right:null}}function et(){function f(n){for(var r,h,c,s,o,u,e,f,t,i=0;i<n.length;i++)for(e=[n[i].data,n[i]._stackData,n[i]._plotData,n[i]._prevPlotData],f=0;f<4;f++){u=!0,r=e[f];if(n[i]._stackAxis=="x"){for(t=0;t<r.length;t++)if(typeof r[t][1]!="number"){u=!1;break}u&&r.sort(function(n,t){return n[1]-t[1]})}else{for(t=0;t<r.length;t++)if(typeof r[t][0]!="number"){u=!1;break}u&&r.sort(function(n,t){return n[0]-t[0]})}}}function t(n){for(var o=n.data.plot,r=o.eventCanvas._elem.offset(),e={x:n.pageX-r.left,y:n.pageY-r.top},f={xaxis:null,yaxis:null,x2axis:null,y2axis:null,y3axis:null,y4axis:null,y5axis:null,y6axis:null,y7axis:null,y8axis:null,y9axis:null,yMidAxis:null},s=["xaxis","yaxis","x2axis","y2axis","y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis","yMidAxis"],u=o.axes,t,i=11;i>0;i--)t=s[i-1],u[t].show&&(f[t]=u[t].series_p2u(e[t.charAt(0)]));return{offsets:r,gridPos:e,dataPos:f}}function u(t,i){for(var yt=i.series,l,r,h,e,f,s,w,b,rt,ut,v,a,o,pt,g,wt,ft,p,it,tt,st,k,y,nt,u,c,et=i.seriesStack.length-1;et>=0;et--){l=i.seriesStack[et],r=yt[l];switch(r.renderer.constructor){case n.jqplot.BarRenderer:case n.jqplot.PyramidRenderer:for(e=t.x,f=t.y,u=0;u<r._barPoints.length;u++){g=r._barPoints[u],o=r.gridData[u];if(e>g[0][0]&&e<g[2][0]&&f>g[2][1]&&f<g[0][1])return{seriesIndex:r.index,pointIndex:u,gridData:o,data:r.data[u],points:r._barPoints[u]}}break;case n.jqplot.DonutRenderer:b=r.startAngle/180*Math.PI,e=t.x-r._center[0],f=t.y-r._center[1],h=Math.sqrt(Math.pow(e,2)+Math.pow(f,2)),e>0&&-f>=0?s=2*Math.PI-Math.atan(-f/e):e>0&&-f<0?s=-Math.atan(-f/e):e<0?s=Math.PI-Math.atan(-f/e):e==0&&-f>0?s=3*Math.PI/2:e==0&&-f<0?s=Math.PI/2:e==0&&f==0&&(s=0),b&&(s-=b,s<0?s+=2*Math.PI:s>2*Math.PI&&(s-=2*Math.PI)),w=r.sliceMargin/180*Math.PI;if(h<r._radius&&h>r._innerRadius)for(u=0;u<r.gridData.length;u++){rt=u>0?r.gridData[u-1][1]+w:w,ut=r.gridData[u][1];if(s>rt&&s<ut)return{seriesIndex:r.index,pointIndex:u,gridData:r.gridData[u],data:r.data[u]}}break;case n.jqplot.PieRenderer:b=r.startAngle/180*Math.PI,e=t.x-r._center[0],f=t.y-r._center[1],h=Math.sqrt(Math.pow(e,2)+Math.pow(f,2)),e>0&&-f>=0?s=2*Math.PI-Math.atan(-f/e):e>0&&-f<0?s=-Math.atan(-f/e):e<0?s=Math.PI-Math.atan(-f/e):e==0&&-f>0?s=3*Math.PI/2:e==0&&-f<0?s=Math.PI/2:e==0&&f==0&&(s=0),b&&(s-=b,s<0?s+=2*Math.PI:s>2*Math.PI&&(s-=2*Math.PI)),w=r.sliceMargin/180*Math.PI;if(h<r._radius)for(u=0;u<r.gridData.length;u++){rt=u>0?r.gridData[u-1][1]+w:w,ut=r.gridData[u][1];if(s>rt&&s<ut)return{seriesIndex:r.index,pointIndex:u,gridData:r.gridData[u],data:r.data[u]}}break;case n.jqplot.BubbleRenderer:e=t.x,f=t.y,it=null;if(r.show){for(u=0;u<r.gridData.length;u++)o=r.gridData[u],a=Math.sqrt((e-o[0])*(e-o[0])+(f-o[1])*(f-o[1])),a>o[2]||a>v&&v!=null||(v=a,it={seriesIndex:l,pointIndex:u,gridData:o,data:r.data[u]});if(it!=null)return it}break;case n.jqplot.FunnelRenderer:e=t.x,f=t.y;var d=r._vertices,lt=d[0],ct=d[d.length-1],ht,vt,ot;function at(n,t,i){var u=(t[1]-i[1])/(t[0]-i[0]),f=t[1]-u*t[0],r=n+t[1];return[(r-f)/u,r]}for(ht=at(f,lt[0],ct[3]),vt=at(f,lt[1],ct[2]),u=0;u<d.length;u++){ot=d[u];if(f>=ot[0][1]&&f<=ot[3][1]&&e>=ht[0]&&e<=vt[0])return{seriesIndex:r.index,pointIndex:u,gridData:null,data:r.data[u]}}break;case n.jqplot.LineRenderer:e=t.x,f=t.y,h=r.renderer;if(r.show)if((r.fill||r.renderer.bands.show&&r.renderer.bands.fill)&&(!i.plugins.highlighter||!i.plugins.highlighter.show)){tt=!1;if(e>r._boundingBox[0][0]&&e<r._boundingBox[1][0]&&f>r._boundingBox[1][1]&&f<r._boundingBox[0][1])for(st=r._areaPoints.length,u=st-1,k=0;k<st;k++)y=[r._areaPoints[k][0],r._areaPoints[k][1]],nt=[r._areaPoints[u][0],r._areaPoints[u][1]],(y[1]<f&&nt[1]>=f||nt[1]<f&&y[1]>=f)&&y[0]+(f-y[1])/(nt[1]-y[1])*(nt[0]-y[0])<e&&(tt=!tt),u=k;if(tt)return{seriesIndex:l,pointIndex:null,gridData:r.gridData,data:r.data,points:r._areaPoints};break}else for(p=r.markerRenderer.size/2+r.neighborThreshold,ft=p>0?p:0,u=0;u<r.gridData.length;u++){o=r.gridData[u];if(h.constructor==n.jqplot.OHLCRenderer)if(h.candleStick){c=r._yaxis.series_u2p;if(e>=o[0]-h._bodyWidth/2&&e<=o[0]+h._bodyWidth/2&&f>=c(r.data[u][2])&&f<=c(r.data[u][3]))return{seriesIndex:l,pointIndex:u,gridData:o,data:r.data[u]}}else if(h.hlc){c=r._yaxis.series_u2p;if(e>=o[0]-h._tickLength&&e<=o[0]+h._tickLength&&f>=c(r.data[u][1])&&f<=c(r.data[u][2]))return{seriesIndex:l,pointIndex:u,gridData:o,data:r.data[u]}}else{c=r._yaxis.series_u2p;if(e>=o[0]-h._tickLength&&e<=o[0]+h._tickLength&&f>=c(r.data[u][2])&&f<=c(r.data[u][3]))return{seriesIndex:l,pointIndex:u,gridData:o,data:r.data[u]}}else if(o[0]!=null&&o[1]!=null){a=Math.sqrt((e-o[0])*(e-o[0])+(f-o[1])*(f-o[1]));if(a<=ft&&(a<=v||v==null))return v=a,{seriesIndex:l,pointIndex:u,gridData:o,data:r.data[u]}}}break;default:e=t.x,f=t.y,h=r.renderer;if(r.show)for(p=r.markerRenderer.size/2+r.neighborThreshold,ft=p>0?p:0,u=0;u<r.gridData.length;u++){o=r.gridData[u];if(h.constructor==n.jqplot.OHLCRenderer)if(h.candleStick){c=r._yaxis.series_u2p;if(e>=o[0]-h._bodyWidth/2&&e<=o[0]+h._bodyWidth/2&&f>=c(r.data[u][2])&&f<=c(r.data[u][3]))return{seriesIndex:l,pointIndex:u,gridData:o,data:r.data[u]}}else if(h.hlc){c=r._yaxis.series_u2p;if(e>=o[0]-h._tickLength&&e<=o[0]+h._tickLength&&f>=c(r.data[u][1])&&f<=c(r.data[u][2]))return{seriesIndex:l,pointIndex:u,gridData:o,data:r.data[u]}}else{c=r._yaxis.series_u2p;if(e>=o[0]-h._tickLength&&e<=o[0]+h._tickLength&&f>=c(r.data[u][2])&&f<=c(r.data[u][3]))return{seriesIndex:l,pointIndex:u,gridData:o,data:r.data[u]}}else{a=Math.sqrt((e-o[0])*(e-o[0])+(f-o[1])*(f-o[1]));if(a<=ft&&(a<=v||v==null))return v=a,{seriesIndex:l,pointIndex:u,gridData:o,data:r.data[u]}}}}}return null}this.animate=!1,this.animateReplot=!1,this.axes={xaxis:new i("xaxis"),yaxis:new i("yaxis"),x2axis:new i("x2axis"),y2axis:new i("y2axis"),y3axis:new i("y3axis"),y4axis:new i("y4axis"),y5axis:new i("y5axis"),y6axis:new i("y6axis"),y7axis:new i("y7axis"),y8axis:new i("y8axis"),y9axis:new i("y9axis"),yMidAxis:new i("yMidAxis")},this.baseCanvas=new n.jqplot.GenericCanvas,this.captureRightClick=!1,this.data=[],this.dataRenderer,this.dataRendererOptions,this.defaults={axesDefaults:{},axes:{xaxis:{},yaxis:{},x2axis:{},y2axis:{},y3axis:{},y4axis:{},y5axis:{},y6axis:{},y7axis:{},y8axis:{},y9axis:{},yMidAxis:{}},seriesDefaults:{},series:[]},this.defaultAxisStart=1,this.drawIfHidden=!1,this.eventCanvas=new n.jqplot.GenericCanvas,this.fillBetween={series1:null,series2:null,color:null,baseSeries:0,fill:!0},this.fontFamily,this.fontSize,this.grid=new s,this.legend=new e,this.negativeSeriesColors=n.jqplot.config.defaultNegativeColors,this.noDataIndicator={show:!1,indicator:"Loading Data...",axes:{xaxis:{min:0,max:10,tickInterval:2,show:!0},yaxis:{min:0,max:12,tickInterval:3,show:!0}}},this.options={},this.previousSeriesStack=[],this.plugins={},this.series=[],this.seriesStack=[],this.seriesColors=n.jqplot.config.defaultColors,this.sortData=!0,this.stackSeries=!1,this.syncXTicks=!0,this.syncYTicks=!0,this.target=null,this.targetId=null,this.textColor,this.title=new h,this._drawCount=0,this._sumy=0,this._sumx=0,this._stackData=[],this._plotData=[],this._width=null,this._height=null,this._plotDimensions={height:null,width:null},this._gridPadding={top:null,right:null,bottom:null,left:null},this._defaultGridPadding={top:10,right:10,bottom:23,left:10},this._addDomReference=n.jqplot.config.addDomReference,this.preInitHooks=new n.jqplot.HooksManager,this.postInitHooks=new n.jqplot.HooksManager,this.preParseOptionsHooks=new n.jqplot.HooksManager,this.postParseOptionsHooks=new n.jqplot.HooksManager,this.preDrawHooks=new n.jqplot.HooksManager,this.postDrawHooks=new n.jqplot.HooksManager,this.preDrawSeriesHooks=new n.jqplot.HooksManager,this.postDrawSeriesHooks=new n.jqplot.HooksManager,this.preDrawLegendHooks=new n.jqplot.HooksManager,this.addLegendRowHooks=new n.jqplot.HooksManager,this.preSeriesInitHooks=new n.jqplot.HooksManager,this.postSeriesInitHooks=new n.jqplot.HooksManager,this.preParseSeriesOptionsHooks=new n.jqplot.HooksManager,this.postParseSeriesOptionsHooks=new n.jqplot.HooksManager,this.eventListenerHooks=new n.jqplot.EventListenerManager,this.preDrawSeriesShadowHooks=new n.jqplot.HooksManager,this.postDrawSeriesShadowHooks=new n.jqplot.HooksManager,this.colorGenerator=new n.jqplot.ColorGenerator,this.negativeColorGenerator=new n.jqplot.ColorGenerator,this.canvasManager=new n.jqplot.CanvasManager,this.themeEngine=new n.jqplot.ThemeEngine;var c=0;this.init=function(t,i,r){var s,h,c,l,e,o,u;for(r=r||{},u=0;u<n.jqplot.preInitHooks.length;u++)n.jqplot.preInitHooks[u].call(this,t,i,r);for(u=0;u<this.preInitHooks.hooks.length;u++)this.preInitHooks.hooks[u].call(this,t,i,r);this.targetId="#"+t,this.target=n("#"+t),this._addDomReference&&this.target.data("jqplot_plot",this),this.target.removeClass("jqplot-error");if(!this.target.get(0))throw"No plot target specified";this.target.css("position")=="static"&&this.target.css("position","relative"),this.target.hasClass("jqplot-target")||this.target.addClass("jqplot-target"),this.target.height()?this._height=s=this.target.height():(s=r&&r.height?parseInt(r.height,10):this.target.attr("data-height")?parseInt(this.target.attr("data-height"),10):parseInt(n.jqplot.config.defaultHeight,10),this._height=s,this.target.css("height",s+"px")),this.target.width()?this._width=h=this.target.width():(h=r&&r.width?parseInt(r.width,10):this.target.attr("data-width")?parseInt(this.target.attr("data-width"),10):parseInt(n.jqplot.config.defaultWidth,10),this._width=h,this.target.css("width",h+"px")),this._plotDimensions.height=this._height,this._plotDimensions.width=this._width,this.grid._plotDimensions=this._plotDimensions,this.title._plotDimensions=this._plotDimensions,this.baseCanvas._plotDimensions=this._plotDimensions,this.eventCanvas._plotDimensions=this._plotDimensions,this.legend._plotDimensions=this._plotDimensions;if(this._height<=0||this._width<=0||!this._height||!this._width)throw"Canvas dimension not set";r.dataRenderer&&jQuery.isFunction(r.dataRenderer)&&(r.dataRendererOptions&&(this.dataRendererOptions=r.dataRendererOptions),this.dataRenderer=r.dataRenderer,i=this.dataRenderer(i,this,this.dataRendererOptions)),r.noDataIndicator&&jQuery.isPlainObject(r.noDataIndicator)&&n.extend(!0,this.noDataIndicator,r.noDataIndicator);if(i==null||jQuery.isArray(i)==!1||i.length==0||jQuery.isArray(i[0])==!1||i[0].length==0)if(this.noDataIndicator.show==!1)throw{name:"DataError",message:"No data to plot."};else{for(c in this.noDataIndicator.axes)for(l in this.noDataIndicator.axes[c])this.axes[c][l]=this.noDataIndicator.axes[c][l];this.postDrawHooks.add(function(){var f=this.eventCanvas.getHeight(),e=this.eventCanvas.getWidth(),i=n('<div class="jqplot-noData-container" style="position:absolute;"></div>'),t,r,u;this.target.append(i),i.height(f),i.width(e),i.css("top",this.eventCanvas._offsets.top),i.css("left",this.eventCanvas._offsets.left),t=n('<div class="jqplot-noData-contents" style="text-align:center; position:relative; margin-left:auto; margin-right:auto;"></div>'),i.append(t),t.html(this.noDataIndicator.indicator),r=t.height(),u=t.width(),t.height(r),t.width(u),t.css("top",(f-r)/2+"px")})}for(this.data=i,this.parseOptions(r),this.textColor&&this.target.css("color",this.textColor),this.fontFamily&&this.target.css("font-family",this.fontFamily),this.fontSize&&this.target.css("font-size",this.fontSize),this.title.init(),this.legend.init(),this._sumy=0,this._sumx=0,u=0;u<this.series.length;u++){for(this.seriesStack.push(u),this.previousSeriesStack.push(u),this.series[u].shadowCanvas._plotDimensions=this._plotDimensions,this.series[u].canvas._plotDimensions=this._plotDimensions,e=0;e<n.jqplot.preSeriesInitHooks.length;e++)n.jqplot.preSeriesInitHooks[e].call(this.series[u],t,i,this.options.seriesDefaults,this.options.series[u],this);for(e=0;e<this.preSeriesInitHooks.hooks.length;e++)this.preSeriesInitHooks.hooks[e].call(this.series[u],t,i,this.options.seriesDefaults,this.options.series[u],this);for(this.populatePlotData(this.series[u],u),this.series[u]._plotDimensions=this._plotDimensions,this.series[u].init(u,this.grid.borderWidth,this),e=0;e<n.jqplot.postSeriesInitHooks.length;e++)n.jqplot.postSeriesInitHooks[e].call(this.series[u],t,i,this.options.seriesDefaults,this.options.series[u],this);for(e=0;e<this.postSeriesInitHooks.hooks.length;e++)this.postSeriesInitHooks.hooks[e].call(this.series[u],t,i,this.options.seriesDefaults,this.options.series[u],this);this._sumy+=this.series[u]._sumy,this._sumx+=this.series[u]._sumx}for(u=0;u<12;u++)o=a[u],this.axes[o]._plotDimensions=this._plotDimensions,this.axes[o].init(),this.axes[o].borderColor==null&&(this.axes[o].borderColor=o.charAt(0)!=="x"&&this.axes[o].useSeriesColor===!0&&this.axes[o].show?this.axes[o]._series[0].color:this.grid.borderColor);for(this.sortData&&f(this.series),this.grid.init(),this.grid._axes=this.axes,this.legend._series=this.series,u=0;u<n.jqplot.postInitHooks.length;u++)n.jqplot.postInitHooks[u].call(this,t,i,r);for(u=0;u<this.postInitHooks.hooks.length;u++)this.postInitHooks.hooks[u].call(this,t,i,r)},this.resetAxesScale=function(n,t){var f=t||{},i=n||this.axes,r,u;i===!0&&(i=this.axes);if(jQuery.isArray(i))for(r=0;r<i.length;r++)this.axes[i[r]].resetScale(f[i[r]]);else if(typeof i=="object")for(u in i)this.axes[u].resetScale(f[u])},this.reInitialize=function(){var s,o,e,i,t,u;this._height=this.target.height(),this._width=this.target.width();if(this._height<=0||this._width<=0||!this._height||!this._width)throw"Target dimension not set";this._plotDimensions.height=this._height,this._plotDimensions.width=this._width,this.grid._plotDimensions=this._plotDimensions,this.title._plotDimensions=this._plotDimensions,this.baseCanvas._plotDimensions=this._plotDimensions,this.eventCanvas._plotDimensions=this._plotDimensions,this.legend._plotDimensions=this._plotDimensions;for(s in this.axes)this.axes[s]._plotWidth=this._width,this.axes[s]._plotHeight=this._height;for(this.title._plotWidth=this._width,this.textColor&&this.target.css("color",this.textColor),this.fontFamily&&this.target.css("font-family",this.fontFamily),this.fontSize&&this.target.css("font-size",this.fontSize),this._sumy=0,this._sumx=0,t=0;t<this.series.length;t++)this.populatePlotData(this.series[t],t),this.series[t]._type==="line"&&this.series[t].renderer.bands.show&&this.series[t].renderer.initBands.call(this.series[t],this.series[t].renderer.options,this),this.series[t]._plotDimensions=this._plotDimensions,this.series[t].canvas._plotDimensions=this._plotDimensions,this._sumy+=this.series[t]._sumy,this._sumx+=this.series[t]._sumx;for(e=0;e<12;e++){for(o=a[e],i=this.axes[o]._ticks,t=0;t<i.length;t++)u=i[t]._elem,u&&(n.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==r&&window.G_vmlCanvasManager.uninitElement(u.get(0)),u.emptyForce(),u=null,i._elem=null);i=null,this.axes[o]._plotDimensions=this._plotDimensions,this.axes[o]._ticks=[]}this.sortData&&f(this.series),this.grid._axes=this.axes,this.legend._series=this.series},this.populatePlotData=function(t,i){var f,s,o,u,r;this._plotData=[],this._stackData=[],t._stackData=[],t._plotData=[],f={x:[],y:[]};if(this.stackSeries&&!t.disableStack){t._stack=!0;var c=t._stackAxis=="x"?0:1,l=c?0:1,h=n.extend(!0,[],t.data),e=n.extend(!0,[],t.data);for(s=0;s<i;s++)for(o=this.series[s].data,u=0;u<o.length;u++)h[u][0]+=o[u][0],h[u][1]+=o[u][1],e[u][c]+=o[u][c];for(r=0;r<e.length;r++)f.x.push(e[r][0]),f.y.push(e[r][1]);this._plotData.push(e),this._stackData.push(h),t._stackData=h,t._plotData=e,t._plotValues=f}else{for(r=0;r<t.data.length;r++)f.x.push(t.data[r][0]),f.y.push(t.data[r][1]);this._stackData.push(t.data),this.series[i]._stackData=t.data,this._plotData.push(t.data),t._plotData=t.data,t._plotValues=f}for(i>0&&(t._prevPlotData=this.series[i-1]._plotData),t._sumy=0,t._sumx=0,r=t.data.length-1;r>-1;r--)t._sumy+=t.data[r][1],t._sumx+=t.data[r][0]},this.getNextSeriesColor=function(n){var t=0,i=n.seriesColors;return function(){return t<i.length?i[t++]:(t=0,i[t++])}}(this),this.parseOptions=function(t){for(var u,h,l,v,y,r,c,f,s,e,i=0;i<this.preParseOptionsHooks.hooks.length;i++)this.preParseOptionsHooks.hooks[i].call(this,t);for(i=0;i<n.jqplot.preParseOptionsHooks.length;i++)n.jqplot.preParseOptionsHooks[i].call(this,t);this.options=n.extend(!0,{},this.defaults,t),u=this.options,this.animate=u.animate,this.animateReplot=u.animateReplot,this.stackSeries=u.stackSeries;if(n.isPlainObject(u.fillBetween))for(r=["series1","series2","color","baseSeries","fill"],i=0,l=r.length;i<l;i++)h=r[i],u.fillBetween[h]!=null&&(this.fillBetween[h]=u.fillBetween[h]);for(u.seriesColors&&(this.seriesColors=u.seriesColors),u.negativeSeriesColors&&(this.negativeSeriesColors=u.negativeSeriesColors),u.captureRightClick&&(this.captureRightClick=u.captureRightClick),this.defaultAxisStart=t&&t.defaultAxisStart!=null?t.defaultAxisStart:this.defaultAxisStart,this.colorGenerator.setColors(this.seriesColors),this.negativeColorGenerator.setColors(this.negativeSeriesColors),n.extend(!0,this._gridPadding,u.gridPadding),this.sortData=u.sortData!=null?u.sortData:this.sortData,i=0;i<12;i++)s=a[i],e=this.axes[s],e._options=n.extend(!0,{},u.axesDefaults,u.axes[s]),n.extend(!0,e,u.axesDefaults,u.axes[s]),e._plotWidth=this._width,e._plotHeight=this._height;for(v=function(t,i,r){var f=[],u;i=i||"vertical";if(jQuery.isArray(t[0]))n.extend(!0,f,t);else for(u=0;u<t.length;u++)i=="vertical"?f.push([r+u,t[u]]):f.push([t[u],r+u]);return f},y=0,i=0;i<this.data.length;i++){for(r=new o,f=0;f<n.jqplot.preParseSeriesOptionsHooks.length;f++)n.jqplot.preParseSeriesOptionsHooks[f].call(r,this.options.seriesDefaults,this.options.series[i]);for(f=0;f<this.preParseSeriesOptionsHooks.hooks.length;f++)this.preParseSeriesOptionsHooks.hooks[f].call(r,this.options.seriesDefaults,this.options.series[i]);n.extend(!0,r,{seriesColors:this.seriesColors,negativeSeriesColors:this.negativeSeriesColors},this.options.seriesDefaults,this.options.series[i],{rendererOptions:{animation:{show:this.animate}}}),c="vertical",r.renderer===n.jqplot.BarRenderer&&r.rendererOptions&&r.rendererOptions.barDirection=="horizontal"&&r.transposeData===!0&&(c="horizontal"),r.data=v(this.data[i],c,this.defaultAxisStart);switch(r.xaxis){case"xaxis":r._xaxis=this.axes.xaxis;break;case"x2axis":r._xaxis=this.axes.x2axis}for(r._yaxis=this.axes[r.yaxis],r._xaxis._series.push(r),r._yaxis._series.push(r),r.show&&(r._xaxis.show=!0,r._yaxis.show=!0),r.label||(r.label="Series "+(i+1).toString()),this.series.push(r),f=0;f<n.jqplot.postParseSeriesOptionsHooks.length;f++)n.jqplot.postParseSeriesOptionsHooks[f].call(this.series[i],this.options.seriesDefaults,this.options.series[i]);for(f=0;f<this.postParseSeriesOptionsHooks.hooks.length;f++)this.postParseSeriesOptionsHooks.hooks[f].call(this.series[i],this.options.seriesDefaults,this.options.series[i])}for(n.extend(!0,this.grid,this.options.grid),i=0;i<12;i++)s=a[i],e=this.axes[s],e.borderWidth==null&&(e.borderWidth=this.grid.borderWidth);for(typeof this.options.title=="string"?this.title.text=this.options.title:typeof this.options.title=="object"&&n.extend(!0,this.title,this.options.title),this.title._plotWidth=this._width,this.legend.setOptions(this.options.legend),i=0;i<n.jqplot.postParseOptionsHooks.length;i++)n.jqplot.postParseOptionsHooks[i].call(this,t);for(i=0;i<this.postParseOptionsHooks.hooks.length;i++)this.postParseOptionsHooks.hooks[i].call(this,t)},this.destroy=function(){this.canvasManager.freeAllCanvases(),this.eventCanvas&&this.eventCanvas._elem&&this.eventCanvas._elem.unbind(),this.target.empty(),this.target[0].innerHTML=""},this.replot=function(n){var t=n||{},r=t.clear===!1?!1:!0,i=t.resetAxes||!1;this.target.trigger("jqplotPreReplot"),r&&this.destroy(),this.reInitialize(),i&&this.resetAxesScale(i,t.axes),this.draw(),this.target.trigger("jqplotPostReplot")},this.redraw=function(n){var i,t;n=n!=null?n:!0,this.target.trigger("jqplotPreRedraw"),n&&(this.canvasManager.freeAllCanvases(),this.eventCanvas._elem.unbind(),this.target.empty());for(i in this.axes)this.axes[i]._ticks=[];for(t=0;t<this.series.length;t++)this.populatePlotData(this.series[t],t);for(this._sumy=0,this._sumx=0,t=0;t<this.series.length;t++)this._sumy+=this.series[t]._sumy,this._sumx+=this.series[t]._sumx;this.draw(),this.target.trigger("jqplotPostRedraw")},this.draw=function(){var o,et,y,i,r,b,s,f,w,it,e,l,c,t,u,v,h,tt,p;if(this.drawIfHidden||this.target.is(":visible")){for(this.target.trigger("jqplotPreDraw"),t=0,u=n.jqplot.preDrawHooks.length;t<u;t++)n.jqplot.preDrawHooks[t].call(this);for(t=0,u=this.preDrawHooks.length;t<u;t++)this.preDrawHooks.hooks[t].apply(this,this.preDrawSeriesHooks.args[t]);this.target.append(this.baseCanvas.createElement({left:0,right:0,top:0,bottom:0},"jqplot-base-canvas",null,this)),this.baseCanvas.setContext(),this.target.append(this.title.draw()),this.title.pack({top:0,left:0}),y=this.legend.draw(),i={top:0,left:0,bottom:0,right:0};if(this.legend.placement=="outsideGrid"){this.target.append(y);switch(this.legend.location){case"n":i.top+=this.legend.getHeight();break;case"s":i.bottom+=this.legend.getHeight();break;case"ne":case"e":case"se":i.right+=this.legend.getWidth();break;case"nw":case"w":case"sw":i.left+=this.legend.getWidth();break;default:i.right+=this.legend.getWidth()}y=y.detach()}for(r=this.axes,t=0;t<12;t++)b=a[t],this.target.append(r[b].draw(this.baseCanvas._ctx,this)),r[b].set();r.yaxis.show&&(i.left+=r.yaxis.getWidth());for(var k=["y2axis","y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis"],rt=[0,0,0,0,0,0,0,0],nt=0,f=0;f<8;f++)r[k[f]].show&&(nt+=r[k[f]].getWidth(),rt[f]=nt);i.right+=nt,r.x2axis.show&&(i.top+=r.x2axis.getHeight()),this.title.show&&(i.top+=this.title.getHeight()),r.xaxis.show&&(i.bottom+=r.xaxis.getHeight());if(this.options.gridDimensions&&n.isPlainObject(this.options.gridDimensions)){var ut=parseInt(this.options.gridDimensions.width,10)||0,ft=parseInt(this.options.gridDimensions.height,10)||0,g=(this._width-i.left-i.right-ut)/2,d=(this._height-i.top-i.bottom-ft)/2;d<0||g<0||(i.top+=d,i.bottom+=d,i.left+=g,i.right+=g)}s=["top","bottom","left","right"];for(f in s)this._gridPadding[s[f]]==null&&i[s[f]]>0?this._gridPadding[s[f]]=i[s[f]]:this._gridPadding[s[f]]==null&&(this._gridPadding[s[f]]=this._defaultGridPadding[s[f]]);for(w=this.legend.placement=="outsideGrid"?{top:this.title.getHeight(),left:0,right:0,bottom:0}:this._gridPadding,r.xaxis.pack({position:"absolute",bottom:this._gridPadding.bottom-r.xaxis.getHeight(),left:0,width:this._width},{min:this._gridPadding.left,max:this._width-this._gridPadding.right}),r.yaxis.pack({position:"absolute",top:0,left:this._gridPadding.left-r.yaxis.getWidth(),height:this._height},{min:this._height-this._gridPadding.bottom,max:this._gridPadding.top}),r.x2axis.pack({position:"absolute",top:this._gridPadding.top-r.x2axis.getHeight(),left:0,width:this._width},{min:this._gridPadding.left,max:this._width-this._gridPadding.right}),t=8;t>0;t--)r[k[t-1]].pack({position:"absolute",top:0,right:this._gridPadding.right-rt[t-1]},{min:this._height-this._gridPadding.bottom,max:this._gridPadding.top});for(it=(this._width-this._gridPadding.left-this._gridPadding.right)/2+this._gridPadding.left-r.yMidAxis.getWidth()/2,r.yMidAxis.pack({position:"absolute",top:0,left:it,zIndex:9,textAlign:"center"},{min:this._height-this._gridPadding.bottom,max:this._gridPadding.top}),this.target.append(this.grid.createElement(this._gridPadding,this)),this.grid.draw(),e=this.series,l=e.length,t=0,u=l;t<u;t++)o=this.seriesStack[t],this.target.append(e[o].shadowCanvas.createElement(this._gridPadding,"jqplot-series-shadowCanvas",null,this)),e[o].shadowCanvas.setContext(),e[o].shadowCanvas._elem.data("seriesIndex",o);for(t=0,u=l;t<u;t++)o=this.seriesStack[t],this.target.append(e[o].canvas.createElement(this._gridPadding,"jqplot-series-canvas",null,this)),e[o].canvas.setContext(),e[o].canvas._elem.data("seriesIndex",o);for(this.target.append(this.eventCanvas.createElement(this._gridPadding,"jqplot-event-canvas",null,this)),this.eventCanvas.setContext(),this.eventCanvas._ctx.fillStyle="rgba(0,0,0,0)",this.eventCanvas._ctx.fillRect(0,0,this.eventCanvas._ctx.canvas.width,this.eventCanvas._ctx.canvas.height),this.bindCustomEvents(),this.legend.preDraw?(this.eventCanvas._elem.before(y),this.legend.pack(w),this.legend._elem?this.drawSeries({legendInfo:{location:this.legend.location,placement:this.legend.placement,width:this.legend.getWidth(),height:this.legend.getHeight(),xoffset:this.legend.xoffset,yoffset:this.legend.yoffset}}):this.drawSeries()):(this.drawSeries(),l&&n(e[l-1].canvas._elem).after(y),this.legend.pack(w)),t=0,u=n.jqplot.eventListenerHooks.length;t<u;t++)this.eventCanvas._elem.bind(n.jqplot.eventListenerHooks[t][0],{plot:this},n.jqplot.eventListenerHooks[t][1]);for(t=0,u=this.eventListenerHooks.hooks.length;t<u;t++)this.eventCanvas._elem.bind(this.eventListenerHooks.hooks[t][0],{plot:this},this.eventListenerHooks.hooks[t][1]);for(c=this.fillBetween,c.fill&&c.series1!==c.series2&&c.series1<l&&c.series2<l&&e[c.series1]._type==="line"&&e[c.series2]._type==="line"&&this.doFillBetweenLines(),t=0,u=n.jqplot.postDrawHooks.length;t<u;t++)n.jqplot.postDrawHooks[t].call(this);for(t=0,u=this.postDrawHooks.hooks.length;t<u;t++)this.postDrawHooks.hooks[t].apply(this,this.postDrawHooks.args[t]);for(this.target.is(":visible")&&(this._drawCount+=1),t=0,u=l;t<u;t++)v=e[t],h=v.renderer,tt=".jqplot-point-label.jqplot-series-"+t,h.animation&&h.animation._supported&&h.animation.show&&(this._drawCount<2||this.animateReplot)&&(p=this.target.find(tt),p.stop(!0,!0).hide(),v.canvas._elem.stop(!0,!0).hide(),v.shadowCanvas._elem.stop(!0,!0).hide(),v.canvas._elem.jqplotEffect("blind",{mode:"show",direction:h.animation.direction},h.animation.speed),v.shadowCanvas._elem.jqplotEffect("blind",{mode:"show",direction:h.animation.direction},h.animation.speed),p.fadeIn(h.animation.speed*.8));p=null,this.target.trigger("jqplotPostDraw",[this])}},et.prototype.doFillBetweenLines=function(){var n=this.fillBetween,t=n.series1,u=n.series2,o=t<u?t:u,l=u>t?u:t,r=this.series[o],e=this.series[l],i,f;i=e.renderer.smooth?e.renderer._smoothedData.slice(0).reverse():e.gridData.slice(0).reverse(),f=r.renderer.smooth?r.renderer._smoothedData.concat(i):r.gridData.concat(i);var a=n.color!==null?n.color:this.series[t].fillColor,c=n.baseSeries!==null?n.baseSeries:o,s=this.series[c].renderer.shapeRenderer,h={fillStyle:a,fill:!0,closePath:!0};s.draw(r.shadowCanvas._ctx,f,h)},this.bindCustomEvents=function(){this.eventCanvas._elem.bind("click",{plot:this},this.onClick),this.eventCanvas._elem.bind("dblclick",{plot:this},this.onDblClick),this.eventCanvas._elem.bind("mousedown",{plot:this},this.onMouseDown),this.eventCanvas._elem.bind("mousemove",{plot:this},this.onMouseMove),this.eventCanvas._elem.bind("mouseenter",{plot:this},this.onMouseEnter),this.eventCanvas._elem.bind("mouseleave",{plot:this},this.onMouseLeave),this.captureRightClick?(this.eventCanvas._elem.bind("mouseup",{plot:this},this.onRightClick),this.eventCanvas._elem.get(0).oncontextmenu=function(){return!1}):this.eventCanvas._elem.bind("mouseup",{plot:this},this.onMouseUp)},this.onClick=function(i){var f=t(i),e=i.data.plot,o=u(f.gridPos,e),r=jQuery.Event("jqplotClick");r.pageX=i.pageX,r.pageY=i.pageY,n(this).trigger(r,[f.gridPos,f.dataPos,o,e])},this.onDblClick=function(i){var f=t(i),e=i.data.plot,o=u(f.gridPos,e),r=jQuery.Event("jqplotDblClick");r.pageX=i.pageX,r.pageY=i.pageY,n(this).trigger(r,[f.gridPos,f.dataPos,o,e])},this.onMouseDown=function(i){var f=t(i),e=i.data.plot,o=u(f.gridPos,e),r=jQuery.Event("jqplotMouseDown");r.pageX=i.pageX,r.pageY=i.pageY,n(this).trigger(r,[f.gridPos,f.dataPos,o,e])},this.onMouseUp=function(i){var u=t(i),r=jQuery.Event("jqplotMouseUp");r.pageX=i.pageX,r.pageY=i.pageY,n(this).trigger(r,[u.gridPos,u.dataPos,null,i.data.plot])},this.onRightClick=function(i){var f=t(i),e=i.data.plot,o=u(f.gridPos,e),r;e.captureRightClick&&(i.which==3?(r=jQuery.Event("jqplotRightClick"),r.pageX=i.pageX,r.pageY=i.pageY,n(this).trigger(r,[f.gridPos,f.dataPos,o,e])):(r=jQuery.Event("jqplotMouseUp"),r.pageX=i.pageX,r.pageY=i.pageY,n(this).trigger(r,[f.gridPos,f.dataPos,o,e])))},this.onMouseMove=function(i){var f=t(i),e=i.data.plot,o=u(f.gridPos,e),r=jQuery.Event("jqplotMouseMove");r.pageX=i.pageX,r.pageY=i.pageY,n(this).trigger(r,[f.gridPos,f.dataPos,o,e])},this.onMouseEnter=function(i){var u=t(i),f=i.data.plot,r=jQuery.Event("jqplotMouseEnter");r.pageX=i.pageX,r.pageY=i.pageY,r.relatedTarget=i.relatedTarget,n(this).trigger(r,[u.gridPos,u.dataPos,null,f])},this.onMouseLeave=function(i){var u=t(i),f=i.data.plot,r=jQuery.Event("jqplotMouseLeave");r.pageX=i.pageX,r.pageY=i.pageY,r.relatedTarget=i.relatedTarget,n(this).trigger(r,[u.gridPos,u.dataPos,null,f])},this.drawSeries=function(t,i){var e,f,u;i=typeof t=="number"&&i==null?t:i,t=typeof t=="object"?t:{};if(i!=r)f=this.series[i],u=f.shadowCanvas._ctx,u.clearRect(0,0,u.canvas.width,u.canvas.height),f.drawShadow(u,t,this),u=f.canvas._ctx,u.clearRect(0,0,u.canvas.width,u.canvas.height),f.draw(u,t,this),f.renderer.constructor==n.jqplot.BezierCurveRenderer&&i<this.series.length-1&&this.drawSeries(i+1);else for(e=0;e<this.series.length;e++)f=this.series[e],u=f.shadowCanvas._ctx,u.clearRect(0,0,u.canvas.width,u.canvas.height),f.drawShadow(u,t,this),u=f.canvas._ctx,u.clearRect(0,0,u.canvas.width,u.canvas.height),f.draw(u,t,this);t=i=e=f=u=null},this.moveSeriesToFront=function(t){var i;t=parseInt(t,10),i=n.inArray(t,this.seriesStack);if(i==-1)return;if(i==this.seriesStack.length-1){this.previousSeriesStack=this.seriesStack.slice(0);return}var r=this.seriesStack[this.seriesStack.length-1],f=this.series[t].canvas._elem.detach(),u=this.series[t].shadowCanvas._elem.detach();this.series[r].shadowCanvas._elem.after(u),this.series[r].canvas._elem.after(f),this.previousSeriesStack=this.seriesStack.slice(0),this.seriesStack.splice(i,1),this.seriesStack.push(t)},this.moveSeriesToBack=function(t){var i;t=parseInt(t,10),i=n.inArray(t,this.seriesStack);if(i==0||i==-1)return;var r=this.seriesStack[0],f=this.series[t].canvas._elem.detach(),u=this.series[t].shadowCanvas._elem.detach();this.series[r].shadowCanvas._elem.before(u),this.series[r].canvas._elem.before(f),this.previousSeriesStack=this.seriesStack.slice(0),this.seriesStack.splice(i,1),this.seriesStack.unshift(t)},this.restorePreviousSeriesOrder=function(){var n,e,f,r,u,i,t;if(this.seriesStack==this.previousSeriesStack)return;for(n=1;n<this.previousSeriesStack.length;n++)i=this.previousSeriesStack[n],t=this.previousSeriesStack[n-1],f=this.series[i].canvas._elem.detach(),r=this.series[i].shadowCanvas._elem.detach(),this.series[t].shadowCanvas._elem.after(r),this.series[t].canvas._elem.after(f);u=this.seriesStack.slice(0),this.seriesStack=this.previousSeriesStack.slice(0),this.previousSeriesStack=u},this.restoreOriginalSeriesOrder=function(){for(var u,t=[],r,i,n=0;n<this.series.length;n++)t.push(n);if(this.seriesStack==t)return;for(this.previousSeriesStack=this.seriesStack.slice(0),this.seriesStack=t,n=1;n<this.seriesStack.length;n++)r=this.series[n].canvas._elem.detach(),i=this.series[n].shadowCanvas._elem.detach(),this.series[n-1].shadowCanvas._elem.after(i),this.series[n-1].canvas._elem.after(r)},this.activateTheme=function(n){this.themeEngine.activate(this,n)}}function ht(n,t){return(3.4182054+t)*Math.pow(n,-.3534992)}function b(n){return(Math.exp(2*n)-1)/(Math.exp(2*n)+1)}function l(n){function o(n,t){return n-t==0?Math.pow(10,10):n-t}for(var g=this.renderer.smooth,ft=this.canvas.getWidth(),d=this._xaxis.series_p2u,tt=this._yaxis.series_p2u,p=null,et=null,ut=n.length/ft,b=[],w=[],it,k,a,v,h,i,rt,f,s,nt,c,l,e,p=isNaN(parseFloat(g))?ht(ut,.5):parseFloat(g),u=[],t=[],r=0,y=n.length;r<y;r++)u.push(n[r][1]),t.push(n[r][0]);for(h=n.length-1,i=1,rt=n.length;i<rt;i++){for(f=[],s=[],e=0;e<2;e++)r=i-1+e,f[e]=r==0||r==h?Math.pow(10,10):u[r+1]-u[r]==0||u[r]-u[r-1]==0?0:(t[r+1]-t[r])/(u[r+1]-u[r])+(t[r]-t[r-1])/(u[r]-u[r-1])==0?0:(u[r+1]-u[r])*(u[r]-u[r-1])<0?0:2/(o(t[r+1],t[r])/(u[r+1]-u[r])+o(t[r],t[r-1])/(u[r]-u[r-1]));for(i==1?f[0]=3/2*(u[1]-u[0])/o(t[1],t[0])-f[1]/2:i==h&&(f[1]=3/2*(u[h]-u[h-1])/o(t[h],t[h-1])-f[0]/2),s[0]=-2*(f[1]+2*f[0])/o(t[i],t[i-1])+6*(u[i]-u[i-1])/Math.pow(o(t[i],t[i-1]),2),s[1]=2*(2*f[1]+f[0])/o(t[i],t[i-1])-6*(u[i]-u[i-1])/Math.pow(o(t[i],t[i-1]),2),v=1/6*(s[1]-s[0])/o(t[i],t[i-1]),a=1/2*(t[i]*s[0]-t[i-1]*s[1])/o(t[i],t[i-1]),k=(u[i]-u[i-1]-a*(Math.pow(t[i],2)-Math.pow(t[i-1],2))-v*(Math.pow(t[i],3)-Math.pow(t[i-1],3)))/o(t[i],t[i-1]),it=u[i-1]-k*t[i-1]-a*Math.pow(t[i-1],2)-v*Math.pow(t[i-1],3),nt=(t[i]-t[i-1])/p,e=0,y=p;e<y;e++)c=[],l=t[i-1]+e*nt,c.push(l),c.push(it+k*l+a*Math.pow(l,2)+v*Math.pow(l,3)),b.push(c),w.push([d(c[0]),tt(c[1])])}return b.push(n[r]),w.push([d(n[r][0]),tt(n[r][1])]),[b,w]}function c(n){var vt=this.renderer.smooth,o=this.renderer.tension,wt=this.canvas.getWidth(),at=this._xaxis.series_p2u,lt=this._yaxis.series_p2u,l=null,bt=null,i=null,ct=null,ot=null,et=null,ft=null,c=null,s,r,rt,tt,ut,p,nt,y,it,v,a,d,yt,kt=[],dt=[],pt=n.length/wt,h,st,u,w,f,k=[],g=[],t,e;for(l=isNaN(parseFloat(vt))?ht(pt,.5):parseFloat(vt),isNaN(parseFloat(o))||(o=parseFloat(o)),t=0,e=n.length-1;t<e;t++)for(o===null?(et=Math.abs((n[t+1][1]-n[t][1])/(n[t+1][0]-n[t][0])),h=.3,st=.6,u=(st-h)/2,w=2.5,f=-1.4,c=et/w+f,ct=u*b(c)-u*b(f)+h,t>0&&(ft=Math.abs((n[t][1]-n[t-1][1])/(n[t][0]-n[t-1][0]))),c=ft/w+f,ot=u*b(c)-u*b(f)+h,i=(ct+ot)/2):i=o,s=0;s<l;s++)r=s/l,rt=(1+2*r)*Math.pow(1-r,2),tt=r*Math.pow(1-r,2),ut=Math.pow(r,2)*(3-2*r),p=Math.pow(r,2)*(r-1),n[t-1]?(nt=i*(n[t+1][0]-n[t-1][0]),y=i*(n[t+1][1]-n[t-1][1])):(nt=i*(n[t+1][0]-n[t][0]),y=i*(n[t+1][1]-n[t][1])),n[t+2]?(it=i*(n[t+2][0]-n[t][0]),v=i*(n[t+2][1]-n[t][1])):(it=i*(n[t+1][0]-n[t][0]),v=i*(n[t+1][1]-n[t][1])),a=rt*n[t][0]+ut*n[t+1][0]+tt*nt+p*it,d=rt*n[t][1]+ut*n[t+1][1]+tt*y+p*v,yt=[a,d],k.push(yt),g.push([at(a),lt(d)]);return k.push(n[e]),g.push([at(n[e][0]),lt(n[e][1])]),[k,g]}function pt(){for(var u=0;u<this.series.length;u++)this.series[u].renderer.constructor==n.jqplot.LineRenderer&&this.series[u].highlightMouseOver&&(this.series[u].highlightMouseDown=!1)}function oi(){this.plugins.lineRenderer&&this.plugins.lineRenderer.highlightCanvas&&(this.plugins.lineRenderer.highlightCanvas.resetCanvas(),this.plugins.lineRenderer.highlightCanvas=null),this.plugins.lineRenderer.highlightedSeriesIndex=null,this.plugins.lineRenderer.highlightCanvas=new n.jqplot.GenericCanvas,this.eventCanvas._elem.before(this.plugins.lineRenderer.highlightCanvas.createElement(this._gridPadding,"jqplot-lineRenderer-highlight-canvas",this._plotDimensions,this)),this.plugins.lineRenderer.highlightCanvas.setContext(),this.eventCanvas._elem.bind("mouseleave",{plot:this},function(n){y(n.data.plot)})}function rt(n,t,i,r){var f=n.series[t],u=n.plugins.lineRenderer.highlightCanvas,e;u._ctx.clearRect(0,0,u._ctx.canvas.width,u._ctx.canvas.height),f._highlightedPoint=i,n.plugins.lineRenderer.highlightedSeriesIndex=t,e={fillStyle:f.highlightColor},f.type==="line"&&f.renderer.bands.show&&(e.fill=!0,e.closePath=!0),f.renderer.shapeRenderer.draw(u._ctx,r,e),u=null}function y(n){var i=n.plugins.lineRenderer.highlightCanvas,t;for(i._ctx.clearRect(0,0,i._ctx.canvas.width,i._ctx.canvas.height),t=0;t<n.series.length;t++)n.series[t]._highlightedPoint=null;n.plugins.lineRenderer.highlightedSeriesIndex=null,n.target.trigger("jqplotDataUnhighlight"),i=null}function kt(n,t,i,r,u){var f,o,e;r?(f=[r.seriesIndex,r.pointIndex,r.data],o=jQuery.Event("jqplotDataMouseOver"),o.pageX=n.pageX,o.pageY=n.pageY,u.target.trigger(o,f),!u.series[f[0]].highlightMouseOver||f[0]==u.plugins.lineRenderer.highlightedSeriesIndex||(e=jQuery.Event("jqplotDataHighlight"),e.pageX=n.pageX,e.pageY=n.pageY,u.target.trigger(e,f),rt(u,r.seriesIndex,r.pointIndex,r.points))):r==null&&y(u)}function bt(n,t,i,r,u){var e,f;r?(e=[r.seriesIndex,r.pointIndex,r.data],!u.series[e[0]].highlightMouseDown||e[0]==u.plugins.lineRenderer.highlightedSeriesIndex||(f=jQuery.Event("jqplotDataHighlight"),f.pageX=n.pageX,f.pageY=n.pageY,u.target.trigger(f,e),rt(u,r.seriesIndex,r.pointIndex,r.points))):r==null&&y(u)}function ti(n,t,i,r,u){var f=u.plugins.lineRenderer.highlightedSeriesIndex;f!=null&&u.series[f].highlightMouseDown&&y(u)}function gt(n,t,i,r,u){if(r){var e=[r.seriesIndex,r.pointIndex,r.data],f=jQuery.Event("jqplotDataClick");f.pageX=n.pageX,f.pageY=n.pageY,u.target.trigger(f,e)}}function ni(n,t,i,r,u){var o,e,f;r&&(o=[r.seriesIndex,r.pointIndex,r.data],e=u.plugins.lineRenderer.highlightedSeriesIndex,e!=null&&u.series[e].highlightMouseDown&&y(u),f=jQuery.Event("jqplotDataRightClick"),f.pageX=n.pageX,f.pageY=n.pageY,u.target.trigger(f,o))}function k(n){var t,i;return n=Math.abs(n),n<10?n>1?t=n===parseInt(n,10)?"%d":"%.1f":(i=-Math.floor(Math.log(n)/Math.LN10),t="%."+i+"f"):t="%d",t}function dt(t,i,r){for(var w=Math.floor(r/2),b=Math.ceil(r*1.5),v=Number.MAX_VALUE,p=i-t,u,e,h,a,l,c=n.jqplot.getSignificantFigures,f,o,s=0,y=b-w+1;s<y;s++)f=w+s,u=p/(f-1),e=c(u),u=Math.abs(r-f)+e.digitsRight,u<v?(v=u,h=f,o=e.digitsRight):u===v&&e.digitsRight<o&&(h=f,o=e.digitsRight);return a=Math.max(o,Math.max(c(t).digitsRight,c(i).digitsRight)),l=a===0?"%d":"%."+a+"f",u=p/(h-1),[t,i,h,l,u]}function tt(n,t){t=t||7;var f=n/(t-1),i=Math.pow(10,Math.floor(Math.log(f)/Math.LN10)),u=f/i,r;return r=i<1?u>5?10*i:u>2?5*i:u>1?2*i:i:u>5?10*i:u>4?5*i:u>3?4*i:u>2?3*i:u>1?2*i:i}function it(n,t){t=t||1;var f=Math.floor(Math.log(n)/Math.LN10),u=Math.pow(10,f),i=n/u,r;return i=i/t,r=i>.38?i>1.6?i>4?i>8?i>16?5:2:1:.5:.2:.1,r*u}function ei(n,t){var e=Math.floor(Math.log(n)/Math.LN10),u=Math.pow(10,e),r=n/u,f,i;return r=r/t,i=r>.38?r>1.6?r>4?r>8?r>16?5:2:1:.5:.2:.1,f=i*u,[f,i,u]}function ut(n,t){return n-t}function p(n){var i,t;if(n==null||typeof n!="object")return n;i=new n.constructor;for(t in n)i[t]=p(n[t]);return i}function w(n,t){if(t==null||typeof t!="object")return;for(var i in t)i=="highlightColors"&&(n[i]=p(t[i])),t[i]!=null&&typeof t[i]=="object"?(n.hasOwnProperty(i)||(n[i]={}),w(n[i],t[i])):n[i]=t[i]}function st(n,t){if(t.indexOf)return t.indexOf(n);for(var i=0,r=t.length;i<r;i++)if(t[i]===n)return i;return-1}function g(n){return n===null?"[object Null]":Object.prototype.toString.call(n)}var r,a,nt,t,v,ot;n.fn.emptyForce=function(){for(var i=0,t;(t=n(this)[i])!=null;i++){t.nodeType===1&&jQuery.cleanData(t.getElementsByTagName("*"));if(n.jqplot_use_excanvas)t.outerHTML="";else while(t.firstChild)t.removeChild(t.firstChild);t=null}return n(this)},n.fn.removeChildForce=function(n){while(n.firstChild)this.removeChildForce(n.firstChild),n.removeChild(n.firstChild)},n.jqplot=function(t,i,r){var e,f,u,o;r==null?jQuery.isArray(i)?(e=i,f=null):typeof i=="object"&&(e=null,f=i):(e=i,f=r),u=new et,n("#"+t).removeClass("jqplot-error");if(n.jqplot.config.catchErrors)try{return u.init(t,e,f),u.draw(),u.themeEngine.init.call(u),u}catch(s){o=n.jqplot.config.errorMessage||s.message,n("#"+t).append('<div class="jqplot-error-message">'+o+"</div>"),n("#"+t).addClass("jqplot-error"),document.getElementById(t).style.background=n.jqplot.config.errorBackground,document.getElementById(t).style.border=n.jqplot.config.errorBorder,document.getElementById(t).style.fontFamily=n.jqplot.config.errorFontFamily,document.getElementById(t).style.fontSize=n.jqplot.config.errorFontSize,document.getElementById(t).style.fontStyle=n.jqplot.config.errorFontStyle,document.getElementById(t).style.fontWeight=n.jqplot.config.errorFontWeight}else return u.init(t,e,f),u.draw(),u.themeEngine.init.call(u),u},n.jqplot.version="1.0.0b2_r1012",n.jqplot.CanvasManager=function(){typeof n.jqplot.CanvasManager.canvases=="undefined"&&(n.jqplot.CanvasManager.canvases=[],n.jqplot.CanvasManager.free=[]);var t=[];this.getCanvas=function(){var r,f=!0,i,u;if(!n.jqplot.use_excanvas)for(i=0,u=n.jqplot.CanvasManager.canvases.length;i<u;i++)if(n.jqplot.CanvasManager.free[i]===!0){f=!1,r=n.jqplot.CanvasManager.canvases[i],n.jqplot.CanvasManager.free[i]=!1,t.push(i);break}return f&&(r=document.createElement("canvas"),t.push(n.jqplot.CanvasManager.canvases.length),n.jqplot.CanvasManager.canvases.push(r),n.jqplot.CanvasManager.free.push(!1)),r},this.initCanvas=function(t){return n.jqplot.use_excanvas?window.G_vmlCanvasManager.initElement(t):t},this.freeAllCanvases=function(){for(var n=0,i=t.length;n<i;n++)this.freeCanvas(t[n]);t=[]},this.freeCanvas=function(t){if(n.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==r)window.G_vmlCanvasManager.uninitElement(n.jqplot.CanvasManager.canvases[t]),n.jqplot.CanvasManager.canvases[t]=null;else{var i=n.jqplot.CanvasManager.canvases[t];i.getContext("2d").clearRect(0,0,i.width,i.height),n(i).unbind().removeAttr("class").removeAttr("style"),n(i).css({left:"",top:"",position:""}),i.width=0,i.height=0,n.jqplot.CanvasManager.free[t]=!0}}},n.jqplot.log=function(){window.console&&window.console.log.apply(window.console,arguments)},n.jqplot.config={addDomReference:!1,enablePlugins:!1,defaultHeight:300,defaultWidth:400,UTCAdjust:!1,timezoneOffset:new Date((new Date).getTimezoneOffset()*6e4),errorMessage:"",errorBackground:"",errorBorder:"",errorFontFamily:"",errorFontSize:"",errorFontStyle:"",errorFontWeight:"",catchErrors:!1,defaultTickFormatString:"%.1f",defaultColors:["#4bb2c5","#EAA228","#c5b47f","#579575","#839557","#958c12","#953579","#4b5de4","#d8b83f","#ff5800","#0085cc","#c747a3","#cddf54","#FBD178","#26B4E3","#bd70c7"],defaultNegativeColors:["#498991","#C08840","#9F9274","#546D61","#646C4A","#6F6621","#6E3F5F","#4F64B0","#A89050","#C45923","#187399","#945381","#959E5C","#C7AF7B","#478396","#907294"],dashLength:4,gapLength:4,dotGapLength:2.5,srcLocation:"jqplot/src/",pluginLocation:"jqplot/src/plugins/"},n.jqplot.arrayMax=function(n){return Math.max.apply(Math,n)},n.jqplot.arrayMin=function(n){return Math.min.apply(Math,n)},n.jqplot.enablePlugins=n.jqplot.config.enablePlugins,n.jqplot.support_canvas=function(){return typeof n.jqplot.support_canvas.result=="undefined"&&(n.jqplot.support_canvas.result=!!document.createElement("canvas").getContext),n.jqplot.support_canvas.result},n.jqplot.support_canvas_text=function(){return typeof n.jqplot.support_canvas_text.result=="undefined"&&(n.jqplot.support_canvas_text.result=window.G_vmlCanvasManager!==r&&window.G_vmlCanvasManager._version>887?!0:!!(document.createElement("canvas").getContext&&typeof document.createElement("canvas").getContext("2d").fillText=="function")),n.jqplot.support_canvas_text.result},n.jqplot.use_excanvas=n.browser.msie&&!n.jqplot.support_canvas()?!0:!1,n.jqplot.preInitHooks=[],n.jqplot.postInitHooks=[],n.jqplot.preParseOptionsHooks=[],n.jqplot.postParseOptionsHooks=[],n.jqplot.preDrawHooks=[],n.jqplot.postDrawHooks=[],n.jqplot.preDrawSeriesHooks=[],n.jqplot.postDrawSeriesHooks=[],n.jqplot.preDrawLegendHooks=[],n.jqplot.addLegendRowHooks=[],n.jqplot.preSeriesInitHooks=[],n.jqplot.postSeriesInitHooks=[],n.jqplot.preParseSeriesOptionsHooks=[],n.jqplot.postParseSeriesOptionsHooks=[],n.jqplot.eventListenerHooks=[],n.jqplot.preDrawSeriesShadowHooks=[],n.jqplot.postDrawSeriesShadowHooks=[],n.jqplot.ElemContainer=function(){this._elem,this._plotWidth,this._plotHeight,this._plotDimensions={height:null,width:null}},n.jqplot.ElemContainer.prototype.createElement=function(t,i,r,u,f){this._offsets=i;var o=r||"jqplot",e=document.createElement(t);return this._elem=n(e),this._elem.addClass(o),this._elem.css(u),this._elem.attr(f),e=null,this._elem},n.jqplot.ElemContainer.prototype.getWidth=function(){return this._elem?this._elem.outerWidth(!0):null},n.jqplot.ElemContainer.prototype.getHeight=function(){return this._elem?this._elem.outerHeight(!0):null},n.jqplot.ElemContainer.prototype.getPosition=function(){return this._elem?this._elem.position():{top:null,left:null,bottom:null,right:null}},n.jqplot.ElemContainer.prototype.getTop=function(){return this.getPosition().top},n.jqplot.ElemContainer.prototype.getLeft=function(){return this.getPosition().left},n.jqplot.ElemContainer.prototype.getBottom=function(){return this._elem.css("bottom")},n.jqplot.ElemContainer.prototype.getRight=function(){return this._elem.css("right")},i.prototype=new n.jqplot.ElemContainer,i.prototype.constructor=i,i.prototype.init=function(){this.renderer=new this.renderer,this.tickOptions.axis=this.name,this.tickOptions.showMark==null&&(this.tickOptions.showMark=this.showTicks),this.tickOptions.showMark==null&&(this.tickOptions.showMark=this.showTickMarks),this.tickOptions.showLabel==null&&(this.tickOptions.showLabel=this.showTicks),this.label==null||this.label==""?this.showLabel=!1:this.labelOptions.label=this.label,this.showLabel==!1&&(this.labelOptions.show=!1),this.pad==0&&(this.pad=1),this.padMax==0&&(this.padMax=1),this.padMin==0&&(this.padMin=1),this.padMax==null&&(this.padMax=(this.pad-1)/2+1),this.padMin==null&&(this.padMin=(this.pad-1)/2+1),this.pad=this.padMax+this.padMin-1,(this.min!=null||this.max!=null)&&(this.autoscale=!1),this.syncTicks==null&&this.name.indexOf("y")>-1?this.syncTicks=!0:this.syncTicks==null&&(this.syncTicks=!1),this.renderer.init.call(this,this.rendererOptions)},i.prototype.draw=function(n,t){return this.__ticks&&(this.__ticks=null),this.renderer.draw.call(this,n,t)},i.prototype.set=function(){this.renderer.set.call(this)},i.prototype.pack=function(n,t){this.show&&this.renderer.pack.call(this,n,t),this._min==null&&(this._min=this.min,this._max=this.max,this._tickInterval=this.tickInterval,this._numberTicks=this.numberTicks,this.__ticks=this._ticks)},i.prototype.reset=function(){this.renderer.reset.call(this)},i.prototype.resetScale=function(t){n.extend(!0,this,{min:null,max:null,numberTicks:null,tickInterval:null,_ticks:[],ticks:[]},t),this.resetDataBounds()},i.prototype.resetDataBounds=function(){var r=this._dataBounds,u,t,f,s,o,e,i,h;for(r.min=null,r.max=null,f=this.show?!0:!1,s=0;s<this._series.length;s++){u=this._series[s];if(u.show){for(t=u._plotData,u._type==="line"&&u.renderer.bands.show&&this.name.charAt(0)!=="x"&&(t=[[0,u.renderer.bands._min],[1,u.renderer.bands._max]]),o=1,e=1,u._type!=null&&u._type=="ohlc"&&(o=3,e=2),i=0,h=t.length;i<h;i++)this.name=="xaxis"||this.name=="x2axis"?((t[i][0]!=null&&t[i][0]<r.min||r.min==null)&&(r.min=t[i][0]),(t[i][0]!=null&&t[i][0]>r.max||r.max==null)&&(r.max=t[i][0])):((t[i][o]!=null&&t[i][o]<r.min||r.min==null)&&(r.min=t[i][o]),(t[i][e]!=null&&t[i][e]>r.max||r.max==null)&&(r.max=t[i][e]));f&&u.renderer.constructor!==n.jqplot.BarRenderer?f=!1:f&&this._options.hasOwnProperty("forceTickAt0")&&this._options.forceTickAt0==!1?f=!1:f&&u.renderer.constructor===n.jqplot.BarRenderer&&(u.barDirection=="vertical"&&this.name!="xaxis"&&this.name!="x2axis"?(this._options.pad!=null||this._options.padMin!=null)&&(f=!1):u.barDirection=="horizontal"&&(this.name=="xaxis"||this.name=="x2axis")&&(this._options.pad!=null||this._options.padMin!=null)&&(f=!1))}}f&&this.renderer.constructor===n.jqplot.LinearAxisRenderer&&r.min>=0&&(this.padMin=1,this.forceTickAt0=!0)},e.prototype=new n.jqplot.ElemContainer,e.prototype.constructor=e,e.prototype.setOptions=function(t){n.extend(!0,this,t),this.placement=="inside"&&(this.placement="insideGrid");if(this.xoffset>0){if(this.placement=="insideGrid")switch(this.location){case"nw":case"w":case"sw":this.marginLeft==null&&(this.marginLeft=this.xoffset+"px"),this.marginRight="0px";break;case"ne":case"e":case"se":default:this.marginRight==null&&(this.marginRight=this.xoffset+"px"),this.marginLeft="0px"}else if(this.placement=="outside")switch(this.location){case"nw":case"w":case"sw":this.marginRight==null&&(this.marginRight=this.xoffset+"px"),this.marginLeft="0px";break;case"ne":case"e":case"se":default:this.marginLeft==null&&(this.marginLeft=this.xoffset+"px"),this.marginRight="0px"}this.xoffset=0}if(this.yoffset>0){if(this.placement=="outside")switch(this.location){case"sw":case"s":case"se":this.marginTop==null&&(this.marginTop=this.yoffset+"px"),this.marginBottom="0px";break;case"ne":case"n":case"nw":default:this.marginBottom==null&&(this.marginBottom=this.yoffset+"px"),this.marginTop="0px"}else if(this.placement=="insideGrid")switch(this.location){case"sw":case"s":case"se":this.marginBottom==null&&(this.marginBottom=this.yoffset+"px"),this.marginTop="0px";break;case"ne":case"n":case"nw":default:this.marginTop==null&&(this.marginTop=this.yoffset+"px"),this.marginBottom="0px"}this.yoffset=0}},e.prototype.init=function(){this.renderer=new this.renderer,this.renderer.init.call(this,this.rendererOptions)},e.prototype.draw=function(t){for(var i=0;i<n.jqplot.preDrawLegendHooks.length;i++)n.jqplot.preDrawLegendHooks[i].call(this,t);return this.renderer.draw.call(this,t)},e.prototype.pack=function(n){this.renderer.pack.call(this,n)},h.prototype=new n.jqplot.ElemContainer,h.prototype.constructor=h,h.prototype.init=function(){this.renderer=new this.renderer,this.renderer.init.call(this,this.rendererOptions)},h.prototype.draw=function(n){return this.renderer.draw.call(this,n)},h.prototype.pack=function(){this.renderer.pack.call(this)},o.prototype=new n.jqplot.ElemContainer,o.prototype.constructor=o,o.prototype.init=function(t,i,r){var f,o,u,e;for(this.index=t,this.gridBorderWidth=i,f=this.data,o=[],u=0;u<f.length;u++)if(this.breakOnNull)o.push(f[u]);else if(f[u]==null||f[u][0]==null||f[u][1]==null)continue;else o.push(f[u]);this.data=o,!this.color&&this.show&&(this.color=r.colorGenerator.get(this.index)),!this.negativeColor&&this.show&&(this.negativeColor=r.negativeColorGenerator.get(this.index)),this.fillColor||(this.fillColor=this.color),this.fillAlpha&&(e=n.jqplot.normalize2rgb(this.fillColor),e=n.jqplot.getColorComponents(e),this.fillColor="rgba("+e[0]+","+e[1]+","+e[2]+","+this.fillAlpha+")"),this.renderer=new this.renderer,this.renderer.init.call(this,this.rendererOptions,r),this.markerRenderer=new this.markerRenderer,this.markerOptions.color||(this.markerOptions.color=this.color),this.markerOptions.show==null&&(this.markerOptions.show=this.showMarker),this.showMarker=this.markerOptions.show,this.markerRenderer.init(this.markerOptions)},o.prototype.draw=function(t,i,u){var e=i==r?{}:i,f,o,s;for(t=t==r?this.canvas._ctx:t,f=0;f<n.jqplot.preDrawSeriesHooks.length;f++)n.jqplot.preDrawSeriesHooks[f].call(this,t,e);for(this.show&&(this.renderer.setGridData.call(this,u),e.preventJqPlotSeriesDrawTrigger||n(t.canvas).trigger("jqplotSeriesDraw",[this.data,this.gridData]),o=[],o=e.data?e.data:this._stack?this._plotData:this.data,s=e.gridData||this.renderer.makeGridData.call(this,o,u),this._type==="line"&&this.renderer.smooth&&this.renderer._smoothedData.length&&(s=this.renderer._smoothedData),this.renderer.draw.call(this,t,s,e,u)),f=0;f<n.jqplot.postDrawSeriesHooks.length;f++)n.jqplot.postDrawSeriesHooks[f].call(this,t,e,u);t=i=u=f=o=s=null},o.prototype.drawShadow=function(t,i,u){var o=i==r?{}:i,f,e,s;for(t=t==r?this.shadowCanvas._ctx:t,f=0;f<n.jqplot.preDrawSeriesShadowHooks.length;f++)n.jqplot.preDrawSeriesShadowHooks[f].call(this,t,o);for(this.shadow&&(this.renderer.setGridData.call(this,u),e=[],e=o.data?o.data:this._stack?this._plotData:this.data,s=o.gridData||this.renderer.makeGridData.call(this,e,u),this.renderer.drawShadow.call(this,t,s,o)),f=0;f<n.jqplot.postDrawSeriesShadowHooks.length;f++)n.jqplot.postDrawSeriesShadowHooks[f].call(this,t,o);t=i=u=f=e=s=null},o.prototype.toggleDisplay=function(n){var t,i;t=n.data.series?n.data.series:this,n.data.speed&&(i=n.data.speed),i?t.canvas._elem.is(":hidden")?(t.canvas._elem.removeClass("jqplot-series-hidden"),t.shadowCanvas._elem&&t.shadowCanvas._elem.fadeIn(i),t.canvas._elem.fadeIn(i),t.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-"+t.index).fadeIn(i)):(t.canvas._elem.addClass("jqplot-series-hidden"),t.shadowCanvas._elem&&t.shadowCanvas._elem.fadeOut(i),t.canvas._elem.fadeOut(i),t.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-"+t.index).fadeOut(i)):t.canvas._elem.is(":hidden")?(t.canvas._elem.removeClass("jqplot-series-hidden"),t.shadowCanvas._elem&&t.shadowCanvas._elem.show(),t.canvas._elem.show(),t.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-"+t.index).show()):(t.canvas._elem.addClass("jqplot-series-hidden"),t.shadowCanvas._elem&&t.shadowCanvas._elem.hide(),t.canvas._elem.hide(),t.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-"+t.index).hide())},s.prototype=new n.jqplot.ElemContainer,s.prototype.constructor=s,s.prototype.init=function(){this.renderer=new this.renderer,this.renderer.init.call(this,this.rendererOptions)},s.prototype.createElement=function(n,t){return this._offsets=n,this.renderer.createElement.call(this,t)},s.prototype.draw=function(){this.renderer.draw.call(this)},n.jqplot.GenericCanvas=function(){n.jqplot.ElemContainer.call(this),this._ctx},n.jqplot.GenericCanvas.prototype=new n.jqplot.ElemContainer,n.jqplot.GenericCanvas.prototype.constructor=n.jqplot.GenericCanvas,n.jqplot.GenericCanvas.prototype.createElement=function(t,i,u,f){var o,e;return this._offsets=t,o="jqplot",i!=r&&(o=i),e=f.canvasManager.getCanvas(),u!=null&&(this._plotDimensions=u),e.width=this._plotDimensions.width-this._offsets.left-this._offsets.right,e.height=this._plotDimensions.height-this._offsets.top-this._offsets.bottom,this._elem=n(e),this._elem.css({position:"absolute",left:this._offsets.left,top:this._offsets.top}),this._elem.addClass(o),e=f.canvasManager.initCanvas(e),e=null,this._elem},n.jqplot.GenericCanvas.prototype.setContext=function(){return this._ctx=this._elem.get(0).getContext("2d")},n.jqplot.GenericCanvas.prototype.resetCanvas=function(){this._elem&&(n.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==r&&window.G_vmlCanvasManager.uninitElement(this._elem.get(0)),this._elem.emptyForce()),this._ctx=null},n.jqplot.HooksManager=function(){this.hooks=[],this.args=[]},n.jqplot.HooksManager.prototype.addOnce=function(n,t){var r,i,u;for(t=t||[],r=!1,i=0,u=this.hooks.length;i<u;i++)this.hooks[i][0]==n&&(r=!0);r||(this.hooks.push(n),this.args.push(t))},n.jqplot.HooksManager.prototype.add=function(n,t){t=t||[],this.hooks.push(n),this.args.push(t)},n.jqplot.EventListenerManager=function(){this.hooks=[]},n.jqplot.EventListenerManager.prototype.addOnce=function(n,t){for(var f=!1,r,i=0,u=this.hooks.length;i<u;i++)r=this.hooks[i],r[0]==n&&r[1]==t&&(f=!0);f||this.hooks.push([n,t])},n.jqplot.EventListenerManager.prototype.add=function(n,t){this.hooks.push([n,t])},a=["yMidAxis","xaxis","yaxis","x2axis","y2axis","y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis"],n.jqplot.computeHighlightColors=function(t){var e,f,r;if(jQuery.isArray(t))for(e=[],f=0;f<t.length;f++){var u=n.jqplot.getColorComponents(t[f]),i=[u[0],u[1],u[2]],o=i[0]+i[1]+i[2];for(r=0;r<3;r++)i[r]=o>660?i[r]*.85:.73*i[r]+90,i[r]=parseInt(i[r],10),i[r]>255?255:i[r];i[3]=.3+.35*u[3],e.push("rgba("+i[0]+","+i[1]+","+i[2]+","+i[3]+")")}else{var u=n.jqplot.getColorComponents(t),i=[u[0],u[1],u[2]],o=i[0]+i[1]+i[2];for(r=0;r<3;r++)i[r]=o>660?i[r]*.85:.73*i[r]+90,i[r]=parseInt(i[r],10),i[r]>255?255:i[r];i[3]=.3+.35*u[3],e="rgba("+i[0]+","+i[1]+","+i[2]+","+i[3]+")"}return e},n.jqplot.ColorGenerator=function(t){t=t||n.jqplot.config.defaultColors;var i=0;this.next=function(){return i<t.length?t[i++]:(i=0,t[i++])},this.previous=function(){return i>0?t[i--]:(i=t.length-1,t[i])},this.get=function(n){var i=n-t.length*Math.floor(n/t.length);return t[i]},this.setColors=function(n){t=n},this.reset=function(){i=0},this.getIndex=function(){return i},this.setIndex=function(n){i=n}},n.jqplot.hex2rgb=function(n,t){n=n.replace("#",""),n.length==3&&(n=n.charAt(0)+n.charAt(0)+n.charAt(1)+n.charAt(1)+n.charAt(2)+n.charAt(2));var i;return i="rgba("+parseInt(n.slice(0,2),16)+", "+parseInt(n.slice(2,4),16)+", "+parseInt(n.slice(4,6),16),t&&(i+=", "+t),i+=")"},n.jqplot.rgb2hex=function(n){for(var f=/rgba?\( *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *(?:, *[0-9.]*)?\)/,r=n.match(f),u="#",t,i=1;i<4;i++)r[i].search(/%/)!=-1?(t=parseInt(255*r[i]/100,10).toString(16),t.length==1&&(t="0"+t)):(t=parseInt(r[i],10).toString(16),t.length==1&&(t="0"+t)),u+=t;return u},n.jqplot.normalize2rgb=function(t,i){if(t.search(/^ *rgba?\(/)!=-1)return t;if(t.search(/^ *#?[0-9a-fA-F]?[0-9a-fA-F]/)!=-1)return n.jqplot.hex2rgb(t,i);throw"invalid color spec";},n.jqplot.getColorComponents=function(t){var i;t=n.jqplot.colorKeywordMap[t]||t;var e=n.jqplot.normalize2rgb(t),f=/rgba?\( *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *,? *([0-9.]* *)?\)/,r=e.match(f),u=[];for(i=1;i<4;i++)u[i-1]=r[i].search(/%/)!=-1?parseInt(255*r[i]/100,10):parseInt(r[i],10);return u[3]=parseFloat(r[4])?parseFloat(r[4]):1,u},n.jqplot.colorKeywordMap={aliceblue:"rgb(240, 248, 255)",antiquewhite:"rgb(250, 235, 215)",aqua:"rgb( 0, 255, 255)",aquamarine:"rgb(127, 255, 212)",azure:"rgb(240, 255, 255)",beige:"rgb(245, 245, 220)",bisque:"rgb(255, 228, 196)",black:"rgb( 0, 0, 0)",blanchedalmond:"rgb(255, 235, 205)",blue:"rgb( 0, 0, 255)",blueviolet:"rgb(138, 43, 226)",brown:"rgb(165, 42, 42)",burlywood:"rgb(222, 184, 135)",cadetblue:"rgb( 95, 158, 160)",chartreuse:"rgb(127, 255, 0)",chocolate:"rgb(210, 105, 30)",coral:"rgb(255, 127, 80)",cornflowerblue:"rgb(100, 149, 237)",cornsilk:"rgb(255, 248, 220)",crimson:"rgb(220, 20, 60)",cyan:"rgb( 0, 255, 255)",darkblue:"rgb( 0, 0, 139)",darkcyan:"rgb( 0, 139, 139)",darkgoldenrod:"rgb(184, 134, 11)",darkgray:"rgb(169, 169, 169)",darkgreen:"rgb( 0, 100, 0)",darkgrey:"rgb(169, 169, 169)",darkkhaki:"rgb(189, 183, 107)",darkmagenta:"rgb(139, 0, 139)",darkolivegreen:"rgb( 85, 107, 47)",darkorange:"rgb(255, 140, 0)",darkorchid:"rgb(153, 50, 204)",darkred:"rgb(139, 0, 0)",darksalmon:"rgb(233, 150, 122)",darkseagreen:"rgb(143, 188, 143)",darkslateblue:"rgb( 72, 61, 139)",darkslategray:"rgb( 47, 79, 79)",darkslategrey:"rgb( 47, 79, 79)",darkturquoise:"rgb( 0, 206, 209)",darkviolet:"rgb(148, 0, 211)",deeppink:"rgb(255, 20, 147)",deepskyblue:"rgb( 0, 191, 255)",dimgray:"rgb(105, 105, 105)",dimgrey:"rgb(105, 105, 105)",dodgerblue:"rgb( 30, 144, 255)",firebrick:"rgb(178, 34, 34)",floralwhite:"rgb(255, 250, 240)",forestgreen:"rgb( 34, 139, 34)",fuchsia:"rgb(255, 0, 255)",gainsboro:"rgb(220, 220, 220)",ghostwhite:"rgb(248, 248, 255)",gold:"rgb(255, 215, 0)",goldenrod:"rgb(218, 165, 32)",gray:"rgb(128, 128, 128)",grey:"rgb(128, 128, 128)",green:"rgb( 0, 128, 0)",greenyellow:"rgb(173, 255, 47)",honeydew:"rgb(240, 255, 240)",hotpink:"rgb(255, 105, 180)",indianred:"rgb(205, 92, 92)",indigo:"rgb( 75, 0, 130)",ivory:"rgb(255, 255, 240)",khaki:"rgb(240, 230, 140)",lavender:"rgb(230, 230, 250)",lavenderblush:"rgb(255, 240, 245)",lawngreen:"rgb(124, 252, 0)",lemonchiffon:"rgb(255, 250, 205)",lightblue:"rgb(173, 216, 230)",lightcoral:"rgb(240, 128, 128)",lightcyan:"rgb(224, 255, 255)",lightgoldenrodyellow:"rgb(250, 250, 210)",lightgray:"rgb(211, 211, 211)",lightgreen:"rgb(144, 238, 144)",lightgrey:"rgb(211, 211, 211)",lightpink:"rgb(255, 182, 193)",lightsalmon:"rgb(255, 160, 122)",lightseagreen:"rgb( 32, 178, 170)",lightskyblue:"rgb(135, 206, 250)",lightslategray:"rgb(119, 136, 153)",lightslategrey:"rgb(119, 136, 153)",lightsteelblue:"rgb(176, 196, 222)",lightyellow:"rgb(255, 255, 224)",lime:"rgb( 0, 255, 0)",limegreen:"rgb( 50, 205, 50)",linen:"rgb(250, 240, 230)",magenta:"rgb(255, 0, 255)",maroon:"rgb(128, 0, 0)",mediumaquamarine:"rgb(102, 205, 170)",mediumblue:"rgb( 0, 0, 205)",mediumorchid:"rgb(186, 85, 211)",mediumpurple:"rgb(147, 112, 219)",mediumseagreen:"rgb( 60, 179, 113)",mediumslateblue:"rgb(123, 104, 238)",mediumspringgreen:"rgb( 0, 250, 154)",mediumturquoise:"rgb( 72, 209, 204)",mediumvioletred:"rgb(199, 21, 133)",midnightblue:"rgb( 25, 25, 112)",mintcream:"rgb(245, 255, 250)",mistyrose:"rgb(255, 228, 225)",moccasin:"rgb(255, 228, 181)",navajowhite:"rgb(255, 222, 173)",navy:"rgb( 0, 0, 128)",oldlace:"rgb(253, 245, 230)",olive:"rgb(128, 128, 0)",olivedrab:"rgb(107, 142, 35)",orange:"rgb(255, 165, 0)",orangered:"rgb(255, 69, 0)",orchid:"rgb(218, 112, 214)",palegoldenrod:"rgb(238, 232, 170)",palegreen:"rgb(152, 251, 152)",paleturquoise:"rgb(175, 238, 238)",palevioletred:"rgb(219, 112, 147)",papayawhip:"rgb(255, 239, 213)",peachpuff:"rgb(255, 218, 185)",peru:"rgb(205, 133, 63)",pink:"rgb(255, 192, 203)",plum:"rgb(221, 160, 221)",powderblue:"rgb(176, 224, 230)",purple:"rgb(128, 0, 128)",red:"rgb(255, 0, 0)",rosybrown:"rgb(188, 143, 143)",royalblue:"rgb( 65, 105, 225)",saddlebrown:"rgb(139, 69, 19)",salmon:"rgb(250, 128, 114)",sandybrown:"rgb(244, 164, 96)",seagreen:"rgb( 46, 139, 87)",seashell:"rgb(255, 245, 238)",sienna:"rgb(160, 82, 45)",silver:"rgb(192, 192, 192)",skyblue:"rgb(135, 206, 235)",slateblue:"rgb(106, 90, 205)",slategray:"rgb(112, 128, 144)",slategrey:"rgb(112, 128, 144)",snow:"rgb(255, 250, 250)",springgreen:"rgb( 0, 255, 127)",steelblue:"rgb( 70, 130, 180)",tan:"rgb(210, 180, 140)",teal:"rgb( 0, 128, 128)",thistle:"rgb(216, 191, 216)",tomato:"rgb(255, 99, 71)",turquoise:"rgb( 64, 224, 208)",violet:"rgb(238, 130, 238)",wheat:"rgb(245, 222, 179)",white:"rgb(255, 255, 255)",whitesmoke:"rgb(245, 245, 245)",yellow:"rgb(255, 255, 0)",yellowgreen:"rgb(154, 205, 50)"},n.jqplot.AxisLabelRenderer=function(t){n.jqplot.ElemContainer.call(this),this.axis,this.show=!0,this.label="",this.fontFamily=null,this.fontSize=null,this.textColor=null,this._elem,this.escapeHTML=!1,n.extend(!0,this,t)},n.jqplot.AxisLabelRenderer.prototype=new n.jqplot.ElemContainer,n.jqplot.AxisLabelRenderer.prototype.constructor=n.jqplot.AxisLabelRenderer,n.jqplot.AxisLabelRenderer.prototype.init=function(t){n.extend(!0,this,t)},n.jqplot.AxisLabelRenderer.prototype.draw=function(){return this._elem&&(this._elem.emptyForce(),this._elem=null),this._elem=n('<div style="position:absolute;" class="jqplot-'+this.axis+'-label"></div>'),Number(this.label)&&this._elem.css("white-space","nowrap"),this.escapeHTML?this._elem.text(this.label):this._elem.html(this.label),this.fontFamily&&this._elem.css("font-family",this.fontFamily),this.fontSize&&this._elem.css("font-size",this.fontSize),this.textColor&&this._elem.css("color",this.textColor),this._elem},n.jqplot.AxisLabelRenderer.prototype.pack=function(){},n.jqplot.AxisTickRenderer=function(t){n.jqplot.ElemContainer.call(this),this.mark="outside",this.axis,this.showMark=!0,this.showGridline=!0,this.isMinorTick=!1,this.size=4,this.markSize=6,this.show=!0,this.showLabel=!0,this.label=null,this.value=null,this._styles={},this.formatter=n.jqplot.DefaultTickFormatter,this.prefix="",this.formatString="",this.fontFamily,this.fontSize,this.textColor,this.escapeHTML=!1,this._elem,this._breakTick=!1,n.extend(!0,this,t)},n.jqplot.AxisTickRenderer.prototype.init=function(t){n.extend(!0,this,t)},n.jqplot.AxisTickRenderer.prototype=new n.jqplot.ElemContainer,n.jqplot.AxisTickRenderer.prototype.constructor=n.jqplot.AxisTickRenderer,n.jqplot.AxisTickRenderer.prototype.setTick=function(n,t,i){return this.value=n,this.axis=t,i&&(this.isMinorTick=!0),this},n.jqplot.AxisTickRenderer.prototype.draw=function(){var i,t;this.label===null&&(this.label=this.prefix+this.formatter(this.formatString,this.value)),i={position:"absolute"},Number(this.label)&&(i.whitSpace="nowrap"),this._elem&&(this._elem.emptyForce(),this._elem=null),this._elem=n(document.createElement("div")),this._elem.addClass("jqplot-"+this.axis+"-tick"),this.escapeHTML?this._elem.text(this.label):this._elem.html(this.label),this._elem.css(i);for(t in this._styles)this._elem.css(t,this._styles[t]);return this.fontFamily&&this._elem.css("font-family",this.fontFamily),this.fontSize&&this._elem.css("font-size",this.fontSize),this.textColor&&this._elem.css("color",this.textColor),this._breakTick&&this._elem.addClass("jqplot-breakTick"),this._elem},n.jqplot.DefaultTickFormatter=function(t,i){return typeof i=="number"?(t||(t=n.jqplot.config.defaultTickFormatString),n.jqplot.sprintf(t,i)):String(i)},n.jqplot.AxisTickRenderer.prototype.pack=function(){},n.jqplot.CanvasGridRenderer=function(){this.shadowRenderer=new n.jqplot.ShadowRenderer},n.jqplot.CanvasGridRenderer.prototype.init=function(t){this._ctx,n.extend(!0,this,t);var i={lineJoin:"miter",lineCap:"round",fill:!1,isarc:!1,angle:this.shadowAngle,offset:this.shadowOffset,alpha:this.shadowAlpha,depth:this.shadowDepth,lineWidth:this.shadowWidth,closePath:!1,strokeStyle:this.shadowColor};this.renderer.shadowRenderer.init(i)},n.jqplot.CanvasGridRenderer.prototype.createElement=function(t){var i,f,u;return this._elem&&(n.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==r&&(i=this._elem.get(0),window.G_vmlCanvasManager.uninitElement(i),i=null),this._elem.emptyForce(),this._elem=null),i=t.canvasManager.getCanvas(),f=this._plotDimensions.width,u=this._plotDimensions.height,i.width=f,i.height=u,this._elem=n(i),this._elem.addClass("jqplot-grid-canvas"),this._elem.css({position:"absolute",left:0,top:0}),i=t.canvasManager.initCanvas(i),this._top=this._offsets.top,this._bottom=u-this._offsets.bottom,this._left=this._offsets.left,this._right=f-this._offsets.right,this._width=this._right-this._left,this._height=this._bottom-this._top,i=null,this._elem},n.jqplot.CanvasGridRenderer.prototype.draw=function(){function s(t,i,r,u,f){o.save(),f=f||{},(f.lineWidth==null||f.lineWidth!=0)&&(n.extend(!0,o,f),o.beginPath(),o.moveTo(t,i),o.lineTo(r,u),o.stroke(),o.restore())}var o,h,f,e,u,l,b,w,y,i,a,p,t,r,v;for(this._ctx=this._elem.get(0).getContext("2d"),o=this._ctx,h=this._axes,o.save(),o.clearRect(0,0,this._plotDimensions.width,this._plotDimensions.height),o.fillStyle=this.backgroundColor||this.background,o.fillRect(this._left,this._top,this._width,this._height),o.save(),o.lineJoin="miter",o.lineCap="butt",o.lineWidth=this.gridLineWidth,o.strokeStyle=this.gridLineColor,b=["xaxis","yaxis","x2axis","y2axis"],y=4;y>0;y--){var d=b[y-1],i=h[d],a=i._ticks,nt=a.length;if(i.show){if(i.drawBaseline){w={},i.baselineWidth!==null&&(w.lineWidth=i.baselineWidth),i.baselineColor!==null&&(w.strokeStyle=i.baselineColor);switch(d){case"xaxis":s(this._left,this._bottom,this._right,this._bottom,w);break;case"yaxis":s(this._left,this._bottom,this._left,this._top,w);break;case"x2axis":s(this._left,this._bottom,this._right,this._bottom,w);break;case"y2axis":s(this._right,this._bottom,this._right,this._top,w)}}for(p=nt;p>0;p--){t=a[p-1];if(t.show){r=Math.round(i.u2p(t.value))+.5;switch(d){case"xaxis":t.showGridline&&this.drawGridlines&&(!t.isMinorTick&&i.drawMajorGridlines||t.isMinorTick&&i.drawMinorGridlines)&&s(r,this._top,r,this._bottom);if(t.showMark&&t.mark&&(!t.isMinorTick&&i.drawMajorTickMarks||t.isMinorTick&&i.drawMinorTickMarks)){u=t.markSize,l=t.mark,r=Math.round(i.u2p(t.value))+.5;switch(l){case"outside":f=this._bottom,e=this._bottom+u;break;case"inside":f=this._bottom-u,e=this._bottom;break;case"cross":f=this._bottom-u,e=this._bottom+u;break;default:f=this._bottom,e=this._bottom+u}this.shadow&&this.renderer.shadowRenderer.draw(o,[[r,f],[r,e]],{lineCap:"butt",lineWidth:this.gridLineWidth,offset:this.gridLineWidth*.75,depth:2,fill:!1,closePath:!1}),s(r,f,r,e)}break;case"yaxis":t.showGridline&&this.drawGridlines&&(!t.isMinorTick&&i.drawMajorGridlines||t.isMinorTick&&i.drawMinorGridlines)&&s(this._right,r,this._left,r);if(t.showMark&&t.mark&&(!t.isMinorTick&&i.drawMajorTickMarks||t.isMinorTick&&i.drawMinorTickMarks)){u=t.markSize,l=t.mark,r=Math.round(i.u2p(t.value))+.5;switch(l){case"outside":f=this._left-u,e=this._left;break;case"inside":f=this._left,e=this._left+u;break;case"cross":f=this._left-u,e=this._left+u;break;default:f=this._left-u,e=this._left}this.shadow&&this.renderer.shadowRenderer.draw(o,[[f,r],[e,r]],{lineCap:"butt",lineWidth:this.gridLineWidth*1.5,offset:this.gridLineWidth*.75,fill:!1,closePath:!1}),s(f,r,e,r,{strokeStyle:i.borderColor})}break;case"x2axis":t.showGridline&&this.drawGridlines&&(!t.isMinorTick&&i.drawMajorGridlines||t.isMinorTick&&i.drawMinorGridlines)&&s(r,this._bottom,r,this._top);if(t.showMark&&t.mark&&(!t.isMinorTick&&i.drawMajorTickMarks||t.isMinorTick&&i.drawMinorTickMarks)){u=t.markSize,l=t.mark,r=Math.round(i.u2p(t.value))+.5;switch(l){case"outside":f=this._top-u,e=this._top;break;case"inside":f=this._top,e=this._top+u;break;case"cross":f=this._top-u,e=this._top+u;break;default:f=this._top-u,e=this._top}this.shadow&&this.renderer.shadowRenderer.draw(o,[[r,f],[r,e]],{lineCap:"butt",lineWidth:this.gridLineWidth,offset:this.gridLineWidth*.75,depth:2,fill:!1,closePath:!1}),s(r,f,r,e)}break;case"y2axis":t.showGridline&&this.drawGridlines&&(!t.isMinorTick&&i.drawMajorGridlines||t.isMinorTick&&i.drawMinorGridlines)&&s(this._left,r,this._right,r);if(t.showMark&&t.mark&&(!t.isMinorTick&&i.drawMajorTickMarks||t.isMinorTick&&i.drawMinorTickMarks)){u=t.markSize,l=t.mark,r=Math.round(i.u2p(t.value))+.5;switch(l){case"outside":f=this._right,e=this._right+u;break;case"inside":f=this._right-u,e=this._right;break;case"cross":f=this._right-u,e=this._right+u;break;default:f=this._right,e=this._right+u}this.shadow&&this.renderer.shadowRenderer.draw(o,[[f,r],[e,r]],{lineCap:"butt",lineWidth:this.gridLineWidth*1.5,offset:this.gridLineWidth*.75,fill:!1,closePath:!1}),s(f,r,e,r,{strokeStyle:i.borderColor})}}}}t=null}i=null,a=null}for(b=["y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis","yMidAxis"],y=7;y>0;y--){i=h[b[y-1]],a=i._ticks;if(i.show){var g=a[i.numberTicks-1],k=a[0],c=i.getLeft(),v=[[c,g.getTop()+g.getHeight()/2],[c,k.getTop()+k.getHeight()/2+1]];for(this.shadow&&this.renderer.shadowRenderer.draw(o,v,{lineCap:"butt",fill:!1,closePath:!1}),s(v[0][0],v[0][1],v[1][0],v[1][1],{lineCap:"butt",strokeStyle:i.borderColor,lineWidth:i.borderWidth}),p=a.length;p>0;p--){t=a[p-1],u=t.markSize,l=t.mark,r=Math.round(i.u2p(t.value))+.5;if(t.showMark&&t.mark){switch(l){case"outside":f=c,e=c+u;break;case"inside":f=c-u,e=c;break;case"cross":f=c-u,e=c+u;break;default:f=c,e=c+u}v=[[f,r],[e,r]],this.shadow&&this.renderer.shadowRenderer.draw(o,v,{lineCap:"butt",lineWidth:this.gridLineWidth*1.5,offset:this.gridLineWidth*.75,fill:!1,closePath:!1}),s(f,r,e,r,{strokeStyle:i.borderColor})}t=null}k=null}i=null,a=null}o.restore(),this.shadow&&(v=[[this._left,this._bottom],[this._right,this._bottom],[this._right,this._top]],this.renderer.shadowRenderer.draw(o,v)),this.borderWidth!=0&&this.drawBorder&&(s(this._left,this._top,this._right,this._top,{lineCap:"round",strokeStyle:h.x2axis.borderColor,lineWidth:h.x2axis.borderWidth}),s(this._right,this._top,this._right,this._bottom,{lineCap:"round",strokeStyle:h.y2axis.borderColor,lineWidth:h.y2axis.borderWidth}),s(this._right,this._bottom,this._left,this._bottom,{lineCap:"round",strokeStyle:h.xaxis.borderColor,lineWidth:h.xaxis.borderWidth}),s(this._left,this._bottom,this._left,this._top,{lineCap:"round",strokeStyle:h.yaxis.borderColor,lineWidth:h.yaxis.borderWidth})),o.restore(),o=null,h=null},n.jqplot.DivTitleRenderer=function(){},n.jqplot.DivTitleRenderer.prototype.init=function(t){n.extend(!0,this,t)},n.jqplot.DivTitleRenderer.prototype.draw=function(){var u,r,i,t;return this._elem&&(this._elem.emptyForce(),this._elem=null),u=this.renderer,r=document.createElement("div"),this._elem=n(r),this._elem.addClass("jqplot-title"),this.text?this.text&&(this.color?i=this.color:this.textColor&&(i=this.textColor),t={position:"absolute",top:"0px",left:"0px"},this._plotWidth&&(t.width=this._plotWidth+"px"),this.fontSize&&(t.fontSize=this.fontSize),t.textAlign=typeof this.textAlign=="string"?this.textAlign:"center",i&&(t.color=i),this.paddingBottom&&(t.paddingBottom=this.paddingBottom),this.fontFamily&&(t.fontFamily=this.fontFamily),this._elem.css(t),this.escapeHtml?this._elem.text(this.text):this._elem.html(this.text)):(this.show=!1,this._elem.height(0),this._elem.width(0)),r=null,this._elem},n.jqplot.DivTitleRenderer.prototype.pack=function(){},nt=.1,n.jqplot.LinePattern=function(t,i){var w={dotted:[nt,n.jqplot.config.dotGapLength],dashed:[n.jqplot.config.dashLength,n.jqplot.config.gapLength],solid:null},o,e,a;if(typeof i=="string")if(i[0]==="."||i[0]==="-")for(o=i,i=[],e=0,a=o.length;e<a;e++){if(o[e]===".")i.push(nt);else if(o[e]==="-")i.push(n.jqplot.config.dashLength);else continue;i.push(n.jqplot.config.gapLength)}else i=w[i];if(!(i&&i.length))return t;var f=0,s=i[0],r=0,u=0,l=0,h=0,p=function(n,i){t.moveTo(n,i),r=n,u=i,l=n,h=i},c=function(n,e){var a=t.lineWidth,c=n-r,l=e-u,o=Math.sqrt(c*c+l*l),h;if(o>0&&a>0){c/=o,l/=o;for(;;){h=a*s;if(h<o)r+=h*c,u+=h*l,(f&1)==0?t.lineTo(r,u):t.moveTo(r,u),o-=h,f++,f<i.length||(f=0),s=i[f];else{r=n,u=e,(f&1)==0?t.lineTo(r,u):t.moveTo(r,u),s-=o/a;break}}}},v=function(){t.beginPath()},y=function(){c(l,h)};return{moveTo:p,lineTo:c,beginPath:v,closePath:y}},n.jqplot.LineRenderer=function(){this.shapeRenderer=new n.jqplot.ShapeRenderer,this.shadowRenderer=new n.jqplot.ShadowRenderer},n.jqplot.LineRenderer.prototype.init=function(t,i){var r,o,u,e,f;t=t||{},this._type="line",this.renderer.animation={show:!1,direction:"left",speed:2500,_supported:!0},this.renderer.smooth=!1,this.renderer.tension=null,this.renderer.constrainSmoothing=!0,this.renderer._smoothedData=[],this.renderer._smoothedPlotData=[],this.renderer._hiBandGridData=[],this.renderer._lowBandGridData=[],this.renderer._hiBandSmoothedData=[],this.renderer._lowBandSmoothedData=[],this.renderer.bandData=[],this.renderer.bands={show:!1,hiData:[],lowData:[],color:this.color,showLines:!1,fill:!0,fillColor:null,_min:null,_max:null,interval:"3%"},r={highlightMouseOver:t.highlightMouseOver,highlightMouseDown:t.highlightMouseDown,highlightColor:t.highlightColor},delete t.highlightMouseOver,delete t.highlightMouseDown,delete t.highlightColor,n.extend(!0,this.renderer,t),this.renderer.options=t,this.renderer.bandData.length>1&&(!t.bands||t.bands.show==null)?this.renderer.bands.show=!0:t.bands&&t.bands.show==null&&t.bands.interval!=null&&(this.renderer.bands.show=!0),this.fill&&(this.renderer.bands.show=!1),this.renderer.bands.show&&this.renderer.initBands.call(this,this.renderer.options,i),this._stack&&(this.renderer.smooth=!1),o={lineJoin:this.lineJoin,lineCap:this.lineCap,fill:this.fill,isarc:!1,strokeStyle:this.color,fillStyle:this.fillColor,lineWidth:this.lineWidth,linePattern:this.linePattern,closePath:this.fill},this.renderer.shapeRenderer.init(o),u=t.shadowOffset,u==null&&(u=this.lineWidth>2.5?1.25*(1+(Math.atan(this.lineWidth/2.5)/.785398163-1)*.6):1.25*Math.atan(this.lineWidth/2.5)/.785398163),e={lineJoin:this.lineJoin,lineCap:this.lineCap,fill:this.fill,isarc:!1,angle:this.shadowAngle,offset:u,alpha:this.shadowAlpha,depth:this.shadowDepth,lineWidth:this.lineWidth,linePattern:this.linePattern,closePath:this.fill},this.renderer.shadowRenderer.init(e),this._areaPoints=[],this._boundingBox=[[],[]],(!this.isTrendline&&this.fill||this.renderer.bands.show)&&(this.highlightMouseOver=!0,this.highlightMouseDown=!1,this.highlightColor=null,r.highlightMouseDown&&r.highlightMouseOver==null&&(r.highlightMouseOver=!1),n.extend(!0,this,{highlightMouseOver:r.highlightMouseOver,highlightMouseDown:r.highlightMouseDown,highlightColor:r.highlightColor}),this.highlightColor||(f=this.renderer.bands.show?this.renderer.bands.fillColor:this.fillColor,this.highlightColor=n.jqplot.computeHighlightColors(f)),this.highlighter&&(this.highlighter.show=!1)),!this.isTrendline&&i&&(i.plugins.lineRenderer={},i.postInitHooks.addOnce(pt),i.postDrawHooks.addOnce(oi),i.eventListenerHooks.addOnce("jqplotMouseMove",kt),i.eventListenerHooks.addOnce("jqplotMouseDown",bt),i.eventListenerHooks.addOnce("jqplotMouseUp",ti),i.eventListenerHooks.addOnce("jqplotClick",gt),i.eventListenerHooks.addOnce("jqplotRightClick",ni))},n.jqplot.LineRenderer.prototype.initBands=function(t){var f=t.bandData||[],u=this.renderer.bands,o,c,nt,g,v,b,k,p,w,r,h,a;u.hiData=[],u.lowData=[],o=this.data,u._max=null,u._min=null;if(f.length==2)if(n.isArray(f[0][0])){for(nt=0,g=0,r=0,h=f[0].length;r<h;r++)c=f[0][r],(c[1]!=null&&c[1]>u._max||u._max==null)&&(u._max=c[1]),(c[1]!=null&&c[1]<u._min||u._min==null)&&(u._min=c[1]);for(r=0,h=f[1].length;r<h;r++)c=f[1][r],(c[1]!=null&&c[1]>u._max||u._max==null)&&(u._max=c[1],g=1),(c[1]!=null&&c[1]<u._min||u._min==null)&&(u._min=c[1],nt=1);g===nt&&(u.show=!1),u.hiData=f[g],u.lowData=f[nt]}else if(f[0].length===o.length&&f[1].length===o.length)for(v=f[0][0]>f[1][0]?0:1,b=v?0:1,r=0,h=o.length;r<h;r++)u.hiData.push([o[r][0],f[v][r]]),u.lowData.push([o[r][0],f[b][r]]);else u.show=!1;else if(f.length>2&&!n.isArray(f[0][0]))for(v=f[0][0]>f[0][1]?0:1,b=v?0:1,r=0,h=f.length;r<h;r++)u.hiData.push([o[r][0],f[r][v]]),u.lowData.push([o[r][0],f[r][b]]);else{var d=u.interval,s=null,e=null,y=null,l=null;n.isArray(d)?(s=d[0],e=d[1]):s=d,isNaN(s)?s.charAt(s.length-1)==="%"&&(y="multiply",s=parseFloat(s)/100+1):(s=parseFloat(s),y="add"),e!==null&&isNaN(e)?e.charAt(e.length-1)==="%"&&(l="multiply",e=parseFloat(e)/100+1):e!==null&&(e=parseFloat(e),l="add");if(s!==null)for(e===null&&(e=-s,l=y,l==="multiply"&&(e+=2)),s<e&&(k=s,s=e,e=k,k=y,y=l,l=k),r=0,h=o.length;r<h;r++){switch(y){case"add":u.hiData.push([o[r][0],o[r][1]+s]);break;case"multiply":u.hiData.push([o[r][0],o[r][1]*s])}switch(l){case"add":u.lowData.push([o[r][0],o[r][1]+e]);break;case"multiply":u.lowData.push([o[r][0],o[r][1]*e])}}else u.show=!1}for(p=u.hiData,w=u.lowData,r=0,h=p.length;r<h;r++)(p[r][1]!=null&&p[r][1]>u._max||u._max==null)&&(u._max=p[r][1]);for(r=0,h=w.length;r<h;r++)(w[r][1]!=null&&w[r][1]<u._min||u._min==null)&&(u._min=w[r][1]);u.fillColor===null&&(a=n.jqplot.getColorComponents(u.color),a[3]=a[3]*.5,u.fillColor="rgba("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")")},n.jqplot.LineRenderer.prototype.setGridData=function(){var o=this._xaxis.series_u2p,s=this._yaxis.series_u2p,f=this._plotData,r=this._prevPlotData,u,h,t,e,i;for(this.gridData=[],this._prevGridData=[],this.renderer._smoothedData=[],this.renderer._smoothedPlotData=[],this.renderer._hiBandGridData=[],this.renderer._lowBandGridData=[],this.renderer._hiBandSmoothedData=[],this.renderer._lowBandSmoothedData=[],u=this.renderer.bands,h=!1,t=0,e=this.data.length;t<e;t++)f[t][0]!=null&&f[t][1]!=null?this.gridData.push([o.call(this._xaxis,f[t][0]),s.call(this._yaxis,f[t][1])]):f[t][0]==null?(h=!0,this.gridData.push([null,s.call(this._yaxis,f[t][1])])):f[t][1]==null&&(h=!0,this.gridData.push([o.call(this._xaxis,f[t][0]),null])),r[t]!=null&&r[t][0]!=null&&r[t][1]!=null?this._prevGridData.push([o.call(this._xaxis,r[t][0]),s.call(this._yaxis,r[t][1])]):r[t]!=null&&r[t][0]==null?this._prevGridData.push([null,s.call(this._yaxis,r[t][1])]):r[t]!=null&&r[t][0]!=null&&r[t][1]==null&&this._prevGridData.push([o.call(this._xaxis,r[t][0]),null]);h&&(this.renderer.smooth=!1,this._type==="line"&&(u.show=!1));if(this._type==="line"&&u.show){for(t=0,e=u.hiData.length;t<e;t++)this.renderer._hiBandGridData.push([o.call(this._xaxis,u.hiData[t][0]),s.call(this._yaxis,u.hiData[t][1])]);for(t=0,e=u.lowData.length;t<e;t++)this.renderer._lowBandGridData.push([o.call(this._xaxis,u.lowData[t][0]),s.call(this._yaxis,u.lowData[t][1])])}this._type==="line"&&this.renderer.smooth&&this.gridData.length>2&&(this.renderer.constrainSmoothing?(i=l.call(this,this.gridData),this.renderer._smoothedData=i[0],this.renderer._smoothedPlotData=i[1],u.show&&(i=l.call(this,this.renderer._hiBandGridData),this.renderer._hiBandSmoothedData=i[0],i=l.call(this,this.renderer._lowBandGridData),this.renderer._lowBandSmoothedData=i[0]),i=null):(i=c.call(this,this.gridData),this.renderer._smoothedData=i[0],this.renderer._smoothedPlotData=i[1],u.show&&(i=c.call(this,this.renderer._hiBandGridData),this.renderer._hiBandSmoothedData=i[0],i=c.call(this,this.renderer._lowBandGridData),this.renderer._lowBandSmoothedData=i[0]),i=null))},n.jqplot.LineRenderer.prototype.makeGridData=function(n){var e=this._xaxis.series_u2p,s=this._yaxis.series_u2p,f=[],a=[],u,h,i,o,r;for(this.renderer._smoothedData=[],this.renderer._smoothedPlotData=[],this.renderer._hiBandGridData=[],this.renderer._lowBandGridData=[],this.renderer._hiBandSmoothedData=[],this.renderer._lowBandSmoothedData=[],u=this.renderer.bands,h=!1,i=0;i<n.length;i++)n[i][0]!=null&&n[i][1]!=null?f.push([e.call(this._xaxis,n[i][0]),s.call(this._yaxis,n[i][1])]):n[i][0]==null?(h=!0,f.push([null,s.call(this._yaxis,n[i][1])])):n[i][1]==null&&(h=!0,f.push([e.call(this._xaxis,n[i][0]),null]));h&&(this.renderer.smooth=!1,this._type==="line"&&(u.show=!1));if(this._type==="line"&&u.show){for(i=0,o=u.hiData.length;i<o;i++)this.renderer._hiBandGridData.push([e.call(this._xaxis,u.hiData[i][0]),s.call(this._yaxis,u.hiData[i][1])]);for(i=0,o=u.lowData.length;i<o;i++)this.renderer._lowBandGridData.push([e.call(this._xaxis,u.lowData[i][0]),s.call(this._yaxis,u.lowData[i][1])])}return this._type==="line"&&this.renderer.smooth&&f.length>2&&(this.renderer.constrainSmoothing?(r=l.call(this,f),this.renderer._smoothedData=r[0],this.renderer._smoothedPlotData=r[1],u.show&&(r=l.call(this,this.renderer._hiBandGridData),this.renderer._hiBandSmoothedData=r[0],r=l.call(this,this.renderer._lowBandGridData),this.renderer._lowBandSmoothedData=r[0]),r=null):(r=c.call(this,f),this.renderer._smoothedData=r[0],this.renderer._smoothedPlotData=r[1],u.show&&(r=c.call(this,this.renderer._hiBandGridData),this.renderer._hiBandSmoothedData=r[0],r=c.call(this,this.renderer._lowBandGridData),this.renderer._lowBandSmoothedData=r[0]),r=null)),f},n.jqplot.LineRenderer.prototype.draw=function(t,i,u){var o=n.extend(!0,{},u),b=o.shadow!=r?o.shadow:this.shadow,ct=o.showLine!=r?o.showLine:this.showLine,et=o.fill!=r?o.fill:this.fill,ft=o.fillAndStroke!=r?o.fillAndStroke:this.fillAndStroke,p,k,v,it,g,ut,s,nt,c,ht,tt,a,rt,st,w,e,ot,l,y,d,h;t.save();if(i.length){if(ct)if(et){if(this.fillToZero){it=this.negativeColor,this.useNegativeColors||(it=o.fillStyle),g=!1,ut=o.fillStyle,ft&&(a=i.slice(0));if(this.index!=0&&this._stack){for(w=this._prevGridData,e=w.length;e>0;e--)i.push(w[e-1]);b&&this.renderer.shadowRenderer.draw(t,i,o),this._areaPoints=i,this.renderer.shapeRenderer.draw(t,i,o)}else{s=[],nt=this.renderer.smooth?this.renderer._smoothedPlotData:this._plotData,this._areaPoints=[],c=this._yaxis.series_u2p(this.fillToValue),ht=this._xaxis.series_u2p(this.fillToValue),o.closePath=!0;if(this.fillAxis=="y"){for(s.push([i[0][0],c]),this._areaPoints.push([i[0][0],c]),e=0;e<i.length-1;e++)s.push(i[e]),this._areaPoints.push(i[e]),nt[e][1]*nt[e+1][1]<0&&(nt[e][1]<0?(g=!0,o.fillStyle=it):(g=!1,o.fillStyle=ut),tt=i[e][0]+(i[e+1][0]-i[e][0])*(c-i[e][1])/(i[e+1][1]-i[e][1]),s.push([tt,c]),this._areaPoints.push([tt,c]),b&&this.renderer.shadowRenderer.draw(t,s,o),this.renderer.shapeRenderer.draw(t,s,o),s=[[tt,c]]);nt[i.length-1][1]<0?(g=!0,o.fillStyle=it):(g=!1,o.fillStyle=ut),s.push(i[i.length-1]),this._areaPoints.push(i[i.length-1]),s.push([i[i.length-1][0],c]),this._areaPoints.push([i[i.length-1][0],c])}b&&this.renderer.shadowRenderer.draw(t,s,o),this.renderer.shapeRenderer.draw(t,s,o)}}else{ft&&(a=i.slice(0));if(this.index!=0&&this._stack)for(w=this._prevGridData,e=w.length;e>0;e--)i.push(w[e-1]);else rt=t.canvas.height,i.unshift([i[0][0],rt]),st=i.length,i.push([i[st-1][0],rt]);this._areaPoints=i,b&&this.renderer.shadowRenderer.draw(t,i,o),this.renderer.shapeRenderer.draw(t,i,o)}if(ft){ot=n.extend(!0,{},o,{fill:!1,closePath:!1}),this.renderer.shapeRenderer.draw(t,a,ot);if(this.markerRenderer.show)for(this.renderer.smooth&&(a=this.gridData),e=0;e<a.length;e++)this.markerRenderer.draw(a[e][0],a[e][1],t,o.markerOptions)}}else this.renderer.bands.show&&(y=n.extend(!0,{},o),this.renderer.bands.showLines&&(l=this.renderer.smooth?this.renderer._hiBandSmoothedData:this.renderer._hiBandGridData,this.renderer.shapeRenderer.draw(t,l,o),l=this.renderer.smooth?this.renderer._lowBandSmoothedData:this.renderer._lowBandGridData,this.renderer.shapeRenderer.draw(t,l,y)),this.renderer.bands.fill&&(l=this.renderer.smooth?this.renderer._hiBandSmoothedData.concat(this.renderer._lowBandSmoothedData.reverse()):this.renderer._hiBandGridData.concat(this.renderer._lowBandGridData.reverse()),this._areaPoints=l,y.closePath=!0,y.fill=!0,y.fillStyle=this.renderer.bands.fillColor,this.renderer.shapeRenderer.draw(t,l,y))),b&&this.renderer.shadowRenderer.draw(t,i,o),this.renderer.shapeRenderer.draw(t,i,o);for(d=k=p=v=null,e=0;e<this._areaPoints.length;e++)h=this._areaPoints[e],(d>h[0]||d==null)&&(d=h[0]),(v<h[1]||v==null)&&(v=h[1]),(k<h[0]||k==null)&&(k=h[0]),(p>h[1]||p==null)&&(p=h[1]);this.type==="line"&&this.renderer.bands.show&&(v=this._yaxis.series_u2p(this.renderer.bands._min),p=this._yaxis.series_u2p(this.renderer.bands._max)),this._boundingBox=[[d,v],[k,p]];if(this.markerRenderer.show&&!et)for(this.renderer.smooth&&(i=this.gridData),e=0;e<i.length;e++)i[e][0]!=null&&i[e][1]!=null&&this.markerRenderer.draw(i[e][0],i[e][1],t,o.markerOptions)}t.restore()},n.jqplot.LineRenderer.prototype.drawShadow=function(){},n.jqplot.LinearAxisRenderer=function(){},n.jqplot.LinearAxisRenderer.prototype.init=function(t){this.breakPoints=null,this.breakTickLabel="&asymp;",this.drawBaseline=!0,this.baselineWidth=null,this.baselineColor=null,this.forceTickAt0=!1,this.forceTickAt100=!1,this.tickInset=0,this.minorTicks=0,this.alignTicks=!1,this._autoFormatString="",this._overrideFormatString=!1,this._scalefact=1,n.extend(!0,this,t),this.breakPoints&&(n.isArray(this.breakPoints)?(this.breakPoints.length<2||this.breakPoints[1]<=this.breakPoints[0])&&(this.breakPoints=null):this.breakPoints=null),this.numberTicks!=null&&this.numberTicks<2&&(this.numberTicks=2),this.resetDataBounds()},n.jqplot.LinearAxisRenderer.prototype.draw=function(t,i){var o,s,e,u,r,f;if(this.show){for(this.renderer.createTicks.call(this,i),o=0,this._elem&&(this._elem.emptyForce(),this._elem=null),this._elem=n(document.createElement("div")),this._elem.addClass("jqplot-axis jqplot-"+this.name),this._elem.css("position","absolute"),this.name=="xaxis"||this.name=="x2axis"?this._elem.width(this._plotDimensions.width):this._elem.height(this._plotDimensions.height),this.labelOptions.axis=this.name,this._label=new this.labelRenderer(this.labelOptions),this._label.show&&(e=this._label.draw(t,i),e.appendTo(this._elem),e=null),u=this._ticks,f=0;f<u.length;f++)r=u[f],r.show&&r.showLabel&&(!r.isMinorTick||this.showMinorTicks)&&this._elem.append(r.draw(t,i));r=null,u=null}return this._elem},n.jqplot.LinearAxisRenderer.prototype.reset=function(){this.min=this._options.min,this.max=this._options.max,this.tickInterval=this._options.tickInterval,this.numberTicks=this._options.numberTicks,this._autoFormatString="",this._overrideFormatString&&this.tickOptions&&this.tickOptions.formatString&&(this.tickOptions.formatString="")},n.jqplot.LinearAxisRenderer.prototype.set=function(){var t=0,f,r=0,o=0,s=this._label==null?!1:this._label.show,u,i,e;if(this.show){for(u=this._ticks,e=0;e<u.length;e++)i=u[e],!i._breakTick&&i.show&&i.showLabel&&(!i.isMinorTick||this.showMinorTicks)&&(f=this.name=="xaxis"||this.name=="x2axis"?i._elem.outerHeight(!0):i._elem.outerWidth(!0),f>t&&(t=f));i=null,u=null,s&&(r=this._label._elem.outerWidth(!0),o=this._label._elem.outerHeight(!0)),this.name=="xaxis"?(t=t+o,this._elem.css({height:t+"px",left:"0px",bottom:"0px"})):this.name=="x2axis"?(t=t+o,this._elem.css({height:t+"px",left:"0px",top:"0px"})):this.name=="yaxis"?(t=t+r,this._elem.css({width:t+"px",left:"0px",top:"0px"}),s&&this._label.constructor==n.jqplot.AxisLabelRenderer&&this._label._elem.css("width",r+"px")):(t=t+r,this._elem.css({width:t+"px",right:"0px",top:"0px"}),s&&this._label.constructor==n.jqplot.AxisLabelRenderer&&this._label._elem.css("width",r+"px"))}},n.jqplot.LinearAxisRenderer.prototype.createTicks=function(t){var fi=this._ticks,ht=this.ticks,dt=this.name,gt=this._dataBounds,w=this.name.charAt(0)==="x"?this._plotDimensions.width:this._plotDimensions.height,ci,u,e,si,hi,ct,ft=this.min,lt=this.max,ui=this.numberTicks,ei=this.tickInterval,ti=30,f,ut,s,g,tt,at,c,ii,vt,st,yt,a,it,r,pt,k,o,i,ni,h,v;this._scalefact=(Math.max(w,ti+1)-ti)/300;if(ht.length){for(h=0;h<ht.length;h++)f=ht[h],i=new this.tickRenderer(this.tickOptions),n.isArray(f)?(i.value=f[0],this.breakPoints?f[0]==this.breakPoints[0]?(i.label=this.breakTickLabel,i._breakTick=!0,i.showGridline=!1,i.showMark=!1):f[0]>this.breakPoints[0]&&f[0]<=this.breakPoints[1]?(i.show=!1,i.showGridline=!1,i.label=f[1]):i.label=f[1]:i.label=f[1],i.setTick(f[0],this.name),this._ticks.push(i)):n.isPlainObject(f)?(n.extend(!0,i,f),i.axis=this.name,this._ticks.push(i)):(i.value=f,this.breakPoints&&(f==this.breakPoints[0]?(i.label=this.breakTickLabel,i._breakTick=!0,i.showGridline=!1,i.showMark=!1):f>this.breakPoints[0]&&f<=this.breakPoints[1]&&(i.show=!1,i.showGridline=!1)),i.setTick(f,this.name),this._ticks.push(i));this.numberTicks=ht.length,this.min=this._ticks[0].value,this.max=this._ticks[this.numberTicks-1].value,this.tickInterval=(this.max-this.min)/(this.numberTicks-1)}else{w=dt=="xaxis"||dt=="x2axis"?this._plotDimensions.width:this._plotDimensions.height,ut=this.numberTicks,this.alignTicks&&(this.name==="x2axis"&&t.axes.xaxis.show?ut=t.axes.xaxis.numberTicks:this.name.charAt(0)==="y"&&this.name!=="yaxis"&&this.name!=="yMidAxis"&&t.axes.yaxis.show&&(ut=t.axes.yaxis.numberTicks)),u=this.min!=null?this.min:gt.min,e=this.max!=null?this.max:gt.max,s=e-u,this.tickOptions!=null&&this.tickOptions.formatString||(this._overrideFormatString=!0);if(this.min!=null||this.max!=null||this.tickInterval!=null||this.autoscale){u==e&&(at=.05,u>0&&(at=Math.max(Math.log(u)/Math.LN10,.05)),u-=at,e+=at);if(this.autoscale&&this.min==null&&this.max==null){var bt,l,ri,b=!1,et=!1,li={min:null,max:null,average:null,stddev:null};for(h=0;h<this._series.length;h++){c=this._series[h],ii=c.fillAxis=="x"?c._xaxis.name:c._yaxis.name;if(this.name==ii){var d=c._plotValues[c.fillAxis],p=d[0],rt=d[0];for(v=1;v<d.length;v++)d[v]<p?p=d[v]:d[v]>rt&&(rt=d[v]);vt=(rt-p)/rt,c.renderer.constructor==n.jqplot.BarRenderer?p>=0&&(c.fillToZero||vt>.1)?b=!0:(b=!1,et=c.fill&&c.fillToZero&&p<0&&rt>0?!0:!1):c.fill?p>=0&&(c.fillToZero||vt>.1)?b=!0:p<0&&rt>0&&c.fillToZero?(b=!1,et=!0):(b=!1,et=!1):p<0&&(b=!1)}}b?(this.numberTicks=2+Math.ceil((w-(this.tickSpacing-1))/this.tickSpacing),this.min=0,ft=0,l=e/(this.numberTicks-1),r=Math.pow(10,Math.abs(Math.floor(Math.log(l)/Math.LN10))),l/r==parseInt(l/r,10)&&(l+=r),this.tickInterval=Math.ceil(l/r)*r,this.max=this.tickInterval*(this.numberTicks-1)):et?(this.numberTicks=2+Math.ceil((w-(this.tickSpacing-1))/this.tickSpacing),st=Math.ceil(Math.abs(u)/s*(this.numberTicks-1)),yt=this.numberTicks-1-st,l=Math.max(Math.abs(u/st),Math.abs(e/yt)),r=Math.pow(10,Math.abs(Math.floor(Math.log(l)/Math.LN10))),this.tickInterval=Math.ceil(l/r)*r,this.max=this.tickInterval*yt,this.min=-this.tickInterval*st):(this.numberTicks==null&&(this.numberTicks=this.tickInterval?3+Math.ceil(s/this.tickInterval):2+Math.ceil((w-(this.tickSpacing-1))/this.tickSpacing)),this.tickInterval==null?(l=s/(this.numberTicks-1),r=l<1?Math.pow(10,Math.abs(Math.floor(Math.log(l)/Math.LN10))):1,this.tickInterval=Math.ceil(l*r*this.pad)/r):r=1/this.tickInterval,bt=this.tickInterval*(this.numberTicks-1),ri=(bt-s)/2,this.min==null&&(this.min=Math.floor(r*(u-ri))/r),this.max==null&&(this.max=this.min+bt)),a=n.jqplot.getSignificantFigures(this.tickInterval),a.digitsLeft<a.significantDigits?(r=Math.max(0,5-a.digitsLeft),r=Math.min(r,a.digitsRight),it="%."+r+"f"):it="%d",this._autoFormatString=it}else g=this.min!=null?this.min:u-s*(this.padMin-1),tt=this.max!=null?this.max:e+s*(this.padMax-1),s=tt-g,this.numberTicks==null&&(this.numberTicks=this.tickInterval!=null?Math.ceil((tt-g)/this.tickInterval)+1:w>100?parseInt(3+(w-100)/75,10):2),this.tickInterval==null&&(this.tickInterval=s/(this.numberTicks-1)),this.max==null&&(tt=g+this.tickInterval*(this.numberTicks-1)),this.min==null&&(g=tt-this.tickInterval*(this.numberTicks-1)),a=n.jqplot.getSignificantFigures(this.tickInterval),a.digitsLeft<a.significantDigits?(r=Math.max(0,5-a.digitsLeft),r=Math.min(r,a.digitsRight),it="%."+r+"f"):it="%d",this._autoFormatString=it,this.min=g,this.max=tt;if(this.renderer.constructor==n.jqplot.LinearAxisRenderer&&this._autoFormatString==""){s=this.max-this.min;var oi=new this.tickRenderer(this.tickOptions),ot=oi.formatString||n.jqplot.config.defaultTickFormatString,ot=ot.match(n.jqplot.sprintf.regex)[0],y=0;ot&&(ot.search(/[fFeEgGpP]/)>-1?(pt=ot.match(/\%\.(\d{0,})?[eEfFgGpP]/),y=pt?parseInt(pt[1],10):6):ot.search(/[di]/)>-1&&(y=0),k=Math.pow(10,-y),this.tickInterval<k&&ui==null&&ei==null&&(this.tickInterval=k,lt==null&&ft==null?(this.min=Math.floor(this._dataBounds.min/k)*k,this.min==this._dataBounds.min&&(this.min=this._dataBounds.min-this.tickInterval),this.max=Math.ceil(this._dataBounds.max/k)*k,this.max==this._dataBounds.max&&(this.max=this._dataBounds.max+this.tickInterval),o=(this.max-this.min)/this.tickInterval,o=o.toFixed(11),o=Math.ceil(o),this.numberTicks=o+1):lt==null?(o=(this._dataBounds.max-this.min)/this.tickInterval,o=o.toFixed(11),this.numberTicks=Math.ceil(o)+2,this.max=this.min+this.tickInterval*(this.numberTicks-1)):ft==null?(o=(this.max-this._dataBounds.min)/this.tickInterval,o=o.toFixed(11),this.numberTicks=Math.ceil(o)+2,this.min=this.max-this.tickInterval*(this.numberTicks-1)):(this.numberTicks=Math.ceil((lt-ft)/this.tickInterval)+1,this.min=Math.floor(ft*Math.pow(10,y))/Math.pow(10,y),this.max=Math.ceil(lt*Math.pow(10,y))/Math.pow(10,y),this.numberTicks=Math.ceil((this.max-this.min)/this.tickInterval)+1)))}}else{this.forceTickAt0&&(u>0&&(u=0),e<0&&(e=0)),this.forceTickAt100&&(u>100&&(u=100),e<100&&(e=100));var nt=n.jqplot.LinearTickGenerator(u,e,this._scalefact,ut),kt=u+s*(this.padMin-1),wt=e-s*(this.padMax-1);(u<kt||e>wt)&&(kt=u-s*(this.padMin-1),wt=e+s*(this.padMax-1),nt=n.jqplot.LinearTickGenerator(kt,wt,this._scalefact,ut)),this.min=nt[0],this.max=nt[1],this.numberTicks=nt[2],this._autoFormatString=nt[3],this.tickInterval=nt[4]}for(this._overrideFormatString&&this._autoFormatString!=""&&(this.tickOptions=this.tickOptions||{},this.tickOptions.formatString=this._autoFormatString),h=0;h<this.numberTicks;h++){ct=this.min+h*this.tickInterval,i=new this.tickRenderer(this.tickOptions),i.setTick(ct,this.name),this._ticks.push(i);if(h<this.numberTicks-1)for(v=0;v<this.minorTicks;v++)ct+=this.tickInterval/(this.minorTicks+1),ni=n.extend(!0,{},this.tickOptions,{name:this.name,value:ct,label:"",isMinorTick:!0}),i=new this.tickRenderer(ni),this._ticks.push(i);i=null}}this.tickInset&&(this.min=this.min-this.tickInset*this.tickInterval,this.max=this.max+this.tickInset*this.tickInterval),fi=null},n.jqplot.LinearAxisRenderer.prototype.resetTickValues=function(t){var i,r;if(n.isArray(t)&&t.length==this._ticks.length){for(r=0;r<t.length;r++)i=this._ticks[r],i.value=t[r],i.label=i.formatter(i.formatString,t[r]),i.label=i.prefix+i.label,i._elem.html(i.label);i=null,this.min=n.jqplot.arrayMin(t),this.max=n.jqplot.arrayMax(t),this.pack()}},n.jqplot.LinearAxisRenderer.prototype.pack=function(t,i){var y,u,f,p,s,r,e,a,v,w;t=t||{},i=i||this._offsets;var l=this._ticks,c=this.max,o=this.min,k=i.max,h=i.min,b=this._label==null?!1:this._label.show;for(y in t)this._elem.css(y,t[y]);this._offsets=i,u=k-h,f=c-o,this.breakPoints?(f=f-this.breakPoints[1]+this.breakPoints[0],this.p2u=function(n){return(n-h)*f/u+o},this.u2p=function(n){return n>this.breakPoints[0]&&n<this.breakPoints[1]&&(n=this.breakPoints[0]),n>this.breakPoints[0]?(n-this.breakPoints[1]+this.breakPoints[0]-o)*u/f+h:(n-o)*u/f+h},this.name.charAt(0)=="x"?(this.series_u2p=function(n){return n>this.breakPoints[0]&&n<this.breakPoints[1]&&(n=this.breakPoints[0]),n>this.breakPoints[0]?(n-this.breakPoints[1]+this.breakPoints[0]-o)*u/f:(n-o)*u/f},this.series_p2u=function(n){return n*f/u+o}):(this.series_u2p=function(n){return n>this.breakPoints[0]&&n<this.breakPoints[1]&&(n=this.breakPoints[0]),n<this.breakPoints[1]?(n+this.breakPoints[1]-this.breakPoints[0]-c)*u/f:(n-c)*u/f},this.series_p2u=function(n){return n*f/u+c})):(this.p2u=function(n){return(n-h)*f/u+o},this.u2p=function(n){return(n-o)*u/f+h},this.name=="xaxis"||this.name=="x2axis"?(this.series_u2p=function(n){return(n-o)*u/f},this.series_p2u=function(n){return n*f/u+o}):(this.series_u2p=function(n){return(n-c)*u/f},this.series_p2u=function(n){return n*f/u+c}));if(this.show)if(this.name=="xaxis"||this.name=="x2axis"){for(s=0;s<l.length;s++){r=l[s];if(r.show&&r.showLabel){if(r.constructor==n.jqplot.CanvasAxisTickRenderer&&r.angle){a=this.name=="xaxis"?1:-1;switch(r.labelPosition){case"auto":e=a*r.angle<0?-r.getWidth()+r._textRenderer.height*Math.sin(-r._textRenderer.angle)/2:-r._textRenderer.height*Math.sin(r._textRenderer.angle)/2;break;case"end":e=-r.getWidth()+r._textRenderer.height*Math.sin(-r._textRenderer.angle)/2;break;case"start":e=-r._textRenderer.height*Math.sin(r._textRenderer.angle)/2;break;case"middle":e=-r.getWidth()/2+r._textRenderer.height*Math.sin(-r._textRenderer.angle)/2;break;default:e=-r.getWidth()/2+r._textRenderer.height*Math.sin(-r._textRenderer.angle)/2}}else e=-r.getWidth()/2;v=this.u2p(r.value)+e+"px",r._elem.css("left",v),r.pack()}}b&&(p=this._label._elem.outerWidth(!0),this._label._elem.css("left",h+u/2-p/2+"px"),this.name=="xaxis"?this._label._elem.css("bottom","0px"):this._label._elem.css("top","0px"),this._label.pack())}else{for(s=0;s<l.length;s++){r=l[s];if(r.show&&r.showLabel){if(r.constructor==n.jqplot.CanvasAxisTickRenderer&&r.angle){a=this.name=="yaxis"?1:-1;switch(r.labelPosition){case"auto":case"end":e=a*r.angle<0?-r._textRenderer.height*Math.cos(-r._textRenderer.angle)/2:-r.getHeight()+r._textRenderer.height*Math.cos(r._textRenderer.angle)/2;break;case"start":e=r.angle>0?-r._textRenderer.height*Math.cos(-r._textRenderer.angle)/2:-r.getHeight()+r._textRenderer.height*Math.cos(r._textRenderer.angle)/2;break;case"middle":e=-r.getHeight()/2;break;default:e=-r.getHeight()/2}}else e=-r.getHeight()/2;v=this.u2p(r.value)+e+"px",r._elem.css("top",v),r.pack()}}b&&(w=this._label._elem.outerHeight(!0),this._label._elem.css("top",k-u/2-w/2+"px"),this.name=="yaxis"?this._label._elem.css("left","0px"):this._label._elem.css("right","0px"),this._label.pack())}l=null};var f=[.1,.2,.3,.4,.5,.8,1,2,3,4,5],si=function(n){var t=f.indexOf(n);return t>0?f[t-1]:f[f.length-1]/100},hi=function(n){var t=f.indexOf(n);return t<f.length-1?f[t+1]:f[0]*100};n.jqplot.LinearTickGenerator=function(n,t,i,r){var s,u,f,e,o;return n===t&&(t=t?0:1),i=i||1,t<n&&(s=t,t=n,n=s),u=[],f=it(t-n,i),r==null?(u[0]=Math.floor(n/f)*f,u[1]=Math.ceil(t/f)*f,u[2]=Math.round((u[1]-u[0])/f+1),u[3]=k(f),u[4]=f):(e=[],e[0]=Math.floor(n/f)*f,e[1]=Math.ceil(t/f)*f,e[2]=Math.round((e[1]-e[0])/f+1),e[3]=k(f),e[4]=f,e[2]===r?u=e:(o=tt(e[1]-e[0],r),u[0]=e[0],u[2]=r,u[4]=o,u[3]=k(o),u[1]=u[0]+(u[2]-1)*u[4])),u},n.jqplot.LinearTickGenerator.bestLinearInterval=it,n.jqplot.LinearTickGenerator.bestInterval=tt,n.jqplot.LinearTickGenerator.bestLinearComponents=ei,n.jqplot.LinearTickGenerator.bestConstrainedInterval=dt,n.jqplot.MarkerRenderer=function(t){this.show=!0,this.style="filledCircle",this.lineWidth=2,this.size=9,this.color="#666666",this.shadow=!0,this.shadowAngle=45,this.shadowOffset=1,this.shadowDepth=3,this.shadowAlpha="0.07",this.shadowRenderer=new n.jqplot.ShadowRenderer,this.shapeRenderer=new n.jqplot.ShapeRenderer,n.extend(!0,this,t)},n.jqplot.MarkerRenderer.prototype.init=function(t){var r,i;n.extend(!0,this,t),r={angle:this.shadowAngle,offset:this.shadowOffset,alpha:this.shadowAlpha,lineWidth:this.lineWidth,depth:this.shadowDepth,closePath:!0},this.style.indexOf("filled")!=-1&&(r.fill=!0),this.style.indexOf("ircle")!=-1&&(r.isarc=!0,r.closePath=!1),this.shadowRenderer.init(r),i={fill:!1,isarc:!1,strokeStyle:this.color,fillStyle:this.color,lineWidth:this.lineWidth,closePath:!0},this.style.indexOf("filled")!=-1&&(i.fill=!0),this.style.indexOf("ircle")!=-1&&(i.isarc=!0,i.closePath=!1),this.shapeRenderer.init(i)},n.jqplot.MarkerRenderer.prototype.drawDiamond=function(n,t,i,r,u){var o=1.2,s=this.size/2/o,f=this.size/2*o,e=[[n-s,t],[n,t+f],[n+s,t],[n,t-f]];this.shadow&&this.shadowRenderer.draw(i,e),this.shapeRenderer.draw(i,e,u)},n.jqplot.MarkerRenderer.prototype.drawPlus=function(t,i,r){var h=1,c=this.size/2*h,l=this.size/2*h,e=[[t,i-l],[t,i+l]],o=[[t+c,i],[t-c,i]],s=n.extend(!0,{},this.options,{closePath:!1});this.shadow&&(this.shadowRenderer.draw(r,e,{closePath:!1}),this.shadowRenderer.draw(r,o,{closePath:!1})),this.shapeRenderer.draw(r,e,s),this.shapeRenderer.draw(r,o,s)},n.jqplot.MarkerRenderer.prototype.drawX=function(t,i,r){var c=1,o=this.size/2*c,e=this.size/2*c,l=n.extend(!0,{},this.options,{closePath:!1}),s=[[t-o,i-e],[t+o,i+e]],h=[[t-o,i+e],[t+o,i-e]];this.shadow&&(this.shadowRenderer.draw(r,s,{closePath:!1}),this.shadowRenderer.draw(r,h,{closePath:!1})),this.shapeRenderer.draw(r,s,l),this.shapeRenderer.draw(r,h,l)},n.jqplot.MarkerRenderer.prototype.drawDash=function(n,t,i,r,u){var o=1,e=this.size/2*o,s=this.size/2*o,f=[[n-e,t],[n+e,t]];this.shadow&&this.shadowRenderer.draw(i,f),this.shapeRenderer.draw(i,f,u)},n.jqplot.MarkerRenderer.prototype.drawLine=function(n,t,i,r,u){var f=[n,t];this.shadow&&this.shadowRenderer.draw(i,f),this.shapeRenderer.draw(i,f,u)},n.jqplot.MarkerRenderer.prototype.drawSquare=function(n,t,i,r,u){var s=1,e=this.size/2/s,f=this.size/2*s,o=[[n-e,t-f],[n-e,t+f],[n+e,t+f],[n+e,t-f]];this.shadow&&this.shadowRenderer.draw(i,o),this.shapeRenderer.draw(i,o,u)},n.jqplot.MarkerRenderer.prototype.drawCircle=function(n,t,i,r,u){var e=this.size/2,o=2*Math.PI,f=[n,t,e,0,o,!0];this.shadow&&this.shadowRenderer.draw(i,f),this.shapeRenderer.draw(i,f,u)},n.jqplot.MarkerRenderer.prototype.draw=function(n,t,i,r){r=r||{};if(r.show==null||r.show!=!1){r.color&&!r.fillStyle&&(r.fillStyle=r.color),r.color&&!r.strokeStyle&&(r.strokeStyle=r.color);switch(this.style){case"diamond":this.drawDiamond(n,t,i,!1,r);break;case"filledDiamond":this.drawDiamond(n,t,i,!0,r);break;case"circle":this.drawCircle(n,t,i,!1,r);break;case"filledCircle":this.drawCircle(n,t,i,!0,r);break;case"square":this.drawSquare(n,t,i,!1,r);break;case"filledSquare":this.drawSquare(n,t,i,!0,r);break;case"x":this.drawX(n,t,i,!0,r);break;case"plus":this.drawPlus(n,t,i,!0,r);break;case"dash":this.drawDash(n,t,i,!0,r);break;case"line":this.drawLine(n,t,i,!1,r);break;default:this.drawDiamond(n,t,i,!1,r)}}},n.jqplot.ShadowRenderer=function(t){this.angle=45,this.offset=1,this.alpha=.07,this.lineWidth=1.5,this.lineJoin="miter",this.lineCap="round",this.closePath=!1,this.fill=!1,this.depth=3,this.strokeStyle="rgba(0,0,0,0.1)",this.isarc=!1,n.extend(!0,this,t)},n.jqplot.ShadowRenderer.prototype.init=function(t){n.extend(!0,this,t)},n.jqplot.ShadowRenderer.prototype.draw=function(t,i,r){var s,e,o,f;t.save();var u=r!=null?r:{},w=u.fill!=null?u.fill:this.fill,c=u.fillRect!=null?u.fillRect:this.fillRect,a=u.closePath!=null?u.closePath:this.closePath,h=u.offset!=null?u.offset:this.offset,l=u.alpha!=null?u.alpha:this.alpha,y=u.depth!=null?u.depth:this.depth,v=u.isarc!=null?u.isarc:this.isarc,p=u.linePattern!=null?u.linePattern:this.linePattern;for(t.lineWidth=u.lineWidth!=null?u.lineWidth:this.lineWidth,t.lineJoin=u.lineJoin!=null?u.lineJoin:this.lineJoin,t.lineCap=u.lineCap!=null?u.lineCap:this.lineCap,t.strokeStyle=u.strokeStyle||this.strokeStyle||"rgba(0,0,0,"+l+")",t.fillStyle=u.fillStyle||this.fillStyle||"rgba(0,0,0,"+l+")",s=0;s<y;s++){e=n.jqplot.LinePattern(t,p),t.translate(Math.cos(this.angle*Math.PI/180)*h,Math.sin(this.angle*Math.PI/180)*h),e.beginPath();if(v)t.arc(i[0],i[1],i[2],i[3],i[4],!0);else if(c)c&&t.fillRect(i[0],i[1],i[2],i[3]);else if(i&&i.length)for(o=!0,f=0;f<i.length;f++)i[f][0]!=null&&i[f][1]!=null?o?(e.moveTo(i[f][0],i[f][1]),o=!1):e.lineTo(i[f][0],i[f][1]):o=!0;a&&e.closePath(),w?t.fill():t.stroke()}t.restore()},n.jqplot.ShapeRenderer=function(t){this.lineWidth=1.5,this.linePattern="solid",this.lineJoin="miter",this.lineCap="round",this.closePath=!1,this.fill=!1,this.isarc=!1,this.fillRect=!1,this.strokeRect=!1,this.clearRect=!1,this.strokeStyle="#999999",this.fillStyle="#999999",n.extend(!0,this,t)},n.jqplot.ShapeRenderer.prototype.init=function(t){n.extend(!0,this,t)},n.jqplot.ShapeRenderer.prototype.draw=function(t,i,r){var e,f;t.save();var u=r!=null?r:{},c=u.fill!=null?u.fill:this.fill,h=u.closePath!=null?u.closePath:this.closePath,s=u.fillRect!=null?u.fillRect:this.fillRect,l=u.strokeRect!=null?u.strokeRect:this.strokeRect,v=u.clearRect!=null?u.clearRect:this.clearRect,a=u.isarc!=null?u.isarc:this.isarc,y=u.linePattern!=null?u.linePattern:this.linePattern,o=n.jqplot.LinePattern(t,y);t.lineWidth=u.lineWidth||this.lineWidth,t.lineJoin=u.lineJoin||this.lineJoin,t.lineCap=u.lineCap||this.lineCap,t.strokeStyle=u.strokeStyle||u.color||this.strokeStyle,t.fillStyle=u.fillStyle||this.fillStyle,t.beginPath();if(a){t.arc(i[0],i[1],i[2],i[3],i[4],!0),h&&t.closePath(),c?t.fill():t.stroke(),t.restore();return}if(v){t.clearRect(i[0],i[1],i[2],i[3]),t.restore();return}if(s||l){s&&t.fillRect(i[0],i[1],i[2],i[3]);if(l){t.strokeRect(i[0],i[1],i[2],i[3]),t.restore();return}}else if(i&&i.length){for(e=!0,f=0;f<i.length;f++)i[f][0]!=null&&i[f][1]!=null?e?(o.moveTo(i[f][0],i[f][1]),e=!1):o.lineTo(i[f][0],i[f][1]):e=!0;h&&o.closePath(),c?t.fill():t.stroke()}t.restore()},n.jqplot.TableLegendRenderer=function(){},n.jqplot.TableLegendRenderer.prototype.init=function(t){n.extend(!0,this,t)},n.jqplot.TableLegendRenderer.prototype.addrow=function(t,i,r,u){var c=r?this.rowSpacing+"px":"0px",e,f,h,s,o;h=document.createElement("tr"),e=n(h),e.addClass("jqplot-table-legend"),h=null,u?e.prependTo(this._elem):e.appendTo(this._elem),this.showSwatches&&(f=n(document.createElement("td")),f.addClass("jqplot-table-legend jqplot-table-legend-swatch"),f.css({textAlign:"center",paddingTop:c}),s=n(document.createElement("div")),s.addClass("jqplot-table-legend-swatch-outline"),o=n(document.createElement("div")),o.addClass("jqplot-table-legend-swatch"),o.css({backgroundColor:i,borderColor:i}),e.append(f.append(s.append(o)))),this.showLabels&&(f=n(document.createElement("td")),f.addClass("jqplot-table-legend jqplot-table-legend-label"),f.css("paddingTop",c),e.append(f),this.escapeHtml?f.text(t):f.html(t)),f=null,s=null,o=null,e=null,h=null},n.jqplot.TableLegendRenderer.prototype.draw=function(){var f,c,t,r,e,i,u,h,l,o,s;this._elem&&(this._elem.emptyForce(),this._elem=null);if(this.show)for(f=this._series,c=document.createElement("table"),this._elem=n(c),this._elem.addClass("jqplot-table-legend"),t={position:"absolute"},this.background&&(t.background=this.background),this.border&&(t.border=this.border),this.fontSize&&(t.fontSize=this.fontSize),this.fontFamily&&(t.fontFamily=this.fontFamily),this.textColor&&(t.textColor=this.textColor),this.marginTop!=null&&(t.marginTop=this.marginTop),this.marginBottom!=null&&(t.marginBottom=this.marginBottom),this.marginLeft!=null&&(t.marginLeft=this.marginLeft),this.marginRight!=null&&(t.marginRight=this.marginRight),r=!1,e=!1,u=0;u<f.length;u++){i=f[u],(i._stack||i.renderer.constructor==n.jqplot.BezierCurveRenderer)&&(e=!0);if(i.show&&i.showLabel){for(h=this.labels[u]||i.label.toString(),h&&(l=i.color,e&&u<f.length-1?r=!0:e&&u==f.length-1&&(r=!1),this.renderer.addrow.call(this,h,l,r,e),r=!0),o=0;o<n.jqplot.addLegendRowHooks.length;o++)s=n.jqplot.addLegendRowHooks[o].call(this,i),s&&(this.renderer.addrow.call(this,s.label,s.color,r),r=!0);h=null}}return this._elem},n.jqplot.TableLegendRenderer.prototype.pack=function(n){var i,t;if(this.show)if(this.placement=="insideGrid")switch(this.location){case"nw":i=n.left,t=n.top,this._elem.css("left",i),this._elem.css("top",t);break;case"n":i=(n.left+(this._plotDimensions.width-n.right))/2-this.getWidth()/2,t=n.top,this._elem.css("left",i),this._elem.css("top",t);break;case"ne":i=n.right,t=n.top,this._elem.css({right:i,top:t});break;case"e":i=n.right,t=(n.top+(this._plotDimensions.height-n.bottom))/2-this.getHeight()/2,this._elem.css({right:i,top:t});break;case"se":i=n.right,t=n.bottom,this._elem.css({right:i,bottom:t});break;case"s":i=(n.left+(this._plotDimensions.width-n.right))/2-this.getWidth()/2,t=n.bottom,this._elem.css({left:i,bottom:t});break;case"sw":i=n.left,t=n.bottom,this._elem.css({left:i,bottom:t});break;case"w":i=n.left,t=(n.top+(this._plotDimensions.height-n.bottom))/2-this.getHeight()/2,this._elem.css({left:i,top:t});break;default:i=n.right,t=n.bottom,this._elem.css({right:i,bottom:t})}else if(this.placement=="outside")switch(this.location){case"nw":i=this._plotDimensions.width-n.left,t=n.top,this._elem.css("right",i),this._elem.css("top",t);break;case"n":i=(n.left+(this._plotDimensions.width-n.right))/2-this.getWidth()/2,t=this._plotDimensions.height-n.top,this._elem.css("left",i),this._elem.css("bottom",t);break;case"ne":i=this._plotDimensions.width-n.right,t=n.top,this._elem.css({left:i,top:t});break;case"e":i=this._plotDimensions.width-n.right,t=(n.top+(this._plotDimensions.height-n.bottom))/2-this.getHeight()/2,this._elem.css({left:i,top:t});break;case"se":i=this._plotDimensions.width-n.right,t=n.bottom,this._elem.css({left:i,bottom:t});break;case"s":i=(n.left+(this._plotDimensions.width-n.right))/2-this.getWidth()/2,t=this._plotDimensions.height-n.bottom,this._elem.css({left:i,top:t});break;case"sw":i=this._plotDimensions.width-n.left,t=n.bottom,this._elem.css({right:i,bottom:t});break;case"w":i=this._plotDimensions.width-n.left,t=(n.top+(this._plotDimensions.height-n.bottom))/2-this.getHeight()/2,this._elem.css({right:i,top:t});break;default:i=n.right,t=n.bottom,this._elem.css({right:i,bottom:t})}else switch(this.location){case"nw":this._elem.css({left:0,top:n.top});break;case"n":i=(n.left+(this._plotDimensions.width-n.right))/2-this.getWidth()/2,this._elem.css({left:i,top:n.top});break;case"ne":this._elem.css({right:0,top:n.top});break;case"e":t=(n.top+(this._plotDimensions.height-n.bottom))/2-this.getHeight()/2,this._elem.css({right:n.right,top:t});break;case"se":this._elem.css({right:n.right,bottom:n.bottom});break;case"s":i=(n.left+(this._plotDimensions.width-n.right))/2-this.getWidth()/2,this._elem.css({left:i,bottom:n.bottom});break;case"sw":this._elem.css({left:n.left,bottom:n.bottom});break;case"w":t=(n.top+(this._plotDimensions.height-n.bottom))/2-this.getHeight()/2,this._elem.css({left:n.left,top:t});break;default:this._elem.css({right:n.right,bottom:n.bottom})}},n.jqplot.ThemeEngine=function(){this.themes={},this.activeTheme=null},n.jqplot.ThemeEngine.prototype.init=function(){var t=new n.jqplot.Theme({_name:"Default"}),i,o,u,e,f,r;for(i in t.target)t.target[i]=i=="textColor"?this.target.css("color"):this.target.css(i);if(this.title.show&&this.title._elem)for(i in t.title)t.title[i]=i=="textColor"?this.title._elem.css("color"):this.title._elem.css(i);for(i in t.grid)t.grid[i]=this.grid[i];t.grid.backgroundColor==null&&this.grid.background!=null&&(t.grid.backgroundColor=this.grid.background);if(this.legend.show&&this.legend._elem)for(i in t.legend)t.legend[i]=i=="textColor"?this.legend._elem.css("color"):this.legend._elem.css(i);for(o=0;o<this.series.length;o++){e=this.series[o],e.renderer.constructor==n.jqplot.LineRenderer?t.series.push(new ui):e.renderer.constructor==n.jqplot.BarRenderer?t.series.push(new lt):e.renderer.constructor==n.jqplot.PieRenderer?t.series.push(new ct):e.renderer.constructor==n.jqplot.DonutRenderer?t.series.push(new vt):e.renderer.constructor==n.jqplot.FunnelRenderer?t.series.push(new wt):e.renderer.constructor==n.jqplot.MeterGaugeRenderer?t.series.push(new yt):t.series.push({});for(i in t.series[o])t.series[o][i]=e[i]}for(i in this.axes){r=this.axes[i],f=t.axes[i]=new fi,f.borderColor=r.borderColor,f.borderWidth=r.borderWidth;if(r._ticks&&r._ticks[0])for(u in f.ticks)r._ticks[0].hasOwnProperty(u)?f.ticks[u]=r._ticks[0][u]:r._ticks[0]._elem&&(f.ticks[u]=r._ticks[0]._elem.css(u));if(r._label&&r._label.show)for(u in f.label)r._label[u]?f.label[u]=r._label[u]:r._label._elem&&(f.label[u]=u=="textColor"?r._label._elem.css("color"):r._label._elem.css(u))}this.themeEngine._add(t),this.themeEngine.activeTheme=this.themeEngine.themes[t._name]},n.jqplot.ThemeEngine.prototype.get=function(n){return n?this.themes[n]:this.activeTheme},n.jqplot.ThemeEngine.prototype.getThemeNames=function(){var t=[],n;for(n in this.themes)t.push(n);return t.sort(ut)},n.jqplot.ThemeEngine.prototype.getThemes=function(){var t=[],i=[],r,n;for(r in this.themes)t.push(r);for(t.sort(ut),n=0;n<t.length;n++)i.push(this.themes[t[n]]);return i},n.jqplot.ThemeEngine.prototype.activate=function(t,i){var h=!1,r,l,a,o,c,u,e,v,p;!i&&this.activeTheme&&this.activeTheme._name&&(i=this.activeTheme._name);if(this.themes.hasOwnProperty(i)){r=this.themes[i],this.activeTheme=r;var f,d=!1,g=!1,y=["xaxis","x2axis","yaxis","y2axis"];for(e=0;e<y.length;e++)l=y[e],r.axesStyles.borderColor!=null&&(t.axes[l].borderColor=r.axesStyles.borderColor),r.axesStyles.borderWidth!=null&&(t.axes[l].borderWidth=r.axesStyles.borderWidth);for(a in t.axes){o=t.axes[a];if(o.show){var b=r.axes[a]||{},k=r.axesStyles,s=n.jqplot.extend(!0,{},b,k);f=r.axesStyles.borderColor!=null?r.axesStyles.borderColor:s.borderColor,s.borderColor!=null&&(o.borderColor=s.borderColor,h=!0),f=r.axesStyles.borderWidth!=null?r.axesStyles.borderWidth:s.borderWidth,s.borderWidth!=null&&(o.borderWidth=s.borderWidth,h=!0);if(o._ticks&&o._ticks[0])for(c in s.ticks)f=s.ticks[c],f!=null&&(o.tickOptions[c]=f,o._ticks=[],h=!0);if(o._label&&o._label.show)for(c in s.label)f=s.label[c],f!=null&&(o.labelOptions[c]=f,h=!0)}}for(u in r.grid)r.grid[u]!=null&&(t.grid[u]=r.grid[u]);h||t.grid.draw();if(t.legend.show)for(u in r.legend)r.legend[u]!=null&&(t.legend[u]=r.legend[u]);if(t.title.show)for(u in r.title)r.title[u]!=null&&(t.title[u]=r.title[u]);for(e=0;e<r.series.length;e++){v={},p=!1;for(u in r.series[e])f=r.seriesStyles[u]!=null?r.seriesStyles[u]:r.series[e][u],f!=null&&(v[u]=f,u=="color"?(t.series[e].renderer.shapeRenderer.fillStyle=f,t.series[e].renderer.shapeRenderer.strokeStyle=f,t.series[e][u]=f):u=="lineWidth"||u=="linePattern"?(t.series[e].renderer.shapeRenderer[u]=f,t.series[e][u]=f):u=="markerOptions"?(w(t.series[e].markerOptions,f),w(t.series[e].markerRenderer,f)):t.series[e][u]=f,h=!0)}h&&(t.target.empty(),t.draw());for(u in r.target)r.target[u]!=null&&t.target.css(u,r.target[u])}else throw new Error("No theme of that name");},n.jqplot.ThemeEngine.prototype._add=function(n,t){t&&(n._name=t),n._name||(n._name=Date.parse(new Date));if(this.themes.hasOwnProperty(n._name))throw new Error("jqplot.ThemeEngine Error: Theme already in use");else this.themes[n._name]=n},n.jqplot.ThemeEngine.prototype.remove=function(n){return n=="Default"?!1:delete this.themes[n]},n.jqplot.ThemeEngine.prototype.newTheme=function(t,i){typeof t=="object"&&(i=i||t,t=null),t=i&&i._name?i._name:t||Date.parse(new Date);var r=this.copy(this.themes.Default._name,t);return n.jqplot.extend(r,i),r},n.jqplot.clone=p,n.jqplot.merge=w,n.jqplot.extend=function(){var t=arguments[0]||{},f=1,h=arguments.length,e=!1,o,u,s,i;for(typeof t=="boolean"&&(e=t,t=arguments[1]||{},f=2),typeof t!="object"&&!1&&(t={});f<h;f++)if((o=arguments[f])!=null)for(u in o){s=t[u],i=o[u];if(t===i)continue;e&&i&&typeof i=="object"&&!i.nodeType?t[u]=n.jqplot.extend(e,s||(i.length!=null?[]:{}),i):i!==r&&(t[u]=i)}return t},n.jqplot.ThemeEngine.prototype.rename=function(n,t){if(n=="Default"||t=="Default")throw new Error("jqplot.ThemeEngine Error: Cannot rename from/to Default");if(this.themes.hasOwnProperty(t))throw new Error("jqplot.ThemeEngine Error: New name already in use.");else if(this.themes.hasOwnProperty(n)){var i=this.copy(n,t);return this.remove(n),i}throw new Error("jqplot.ThemeEngine Error: Old name or new name invalid");},n.jqplot.ThemeEngine.prototype.copy=function(t,i,r){var f,u;if(i=="Default")throw new Error("jqplot.ThemeEngine Error: Cannot copy over Default theme");if(!this.themes.hasOwnProperty(t)){f="jqplot.ThemeEngine Error: Source name invalid";throw new Error(f);}if(this.themes.hasOwnProperty(i)){f="jqplot.ThemeEngine Error: Target name invalid";throw new Error(f);}else return u=p(this.themes[t]),u._name=i,n.jqplot.extend(!0,u,r),this._add(u),u},n.jqplot.Theme=function(t,i){typeof t=="object"&&(i=i||t,t=null),t=t||Date.parse(new Date),this._name=t,this.target={backgroundColor:null},this.legend={textColor:null,fontFamily:null,fontSize:null,border:null,background:null},this.title={textColor:null,fontFamily:null,fontSize:null,textAlign:null},this.seriesStyles={},this.series=[],this.grid={drawGridlines:null,gridLineColor:null,gridLineWidth:null,backgroundColor:null,borderColor:null,borderWidth:null,shadow:null},this.axesStyles={label:{},ticks:{}},this.axes={},typeof i=="string"?this._name=i:typeof i=="object"&&n.jqplot.extend(!0,this,i)};var fi=function(){this.borderColor=null,this.borderWidth=null,this.ticks=new ii,this.label=new ri},ii=function(){this.show=null,this.showGridline=null,this.showLabel=null,this.showMark=null,this.size=null,this.textColor=null,this.whiteSpace=null,this.fontSize=null,this.fontFamily=null},ri=function(){this.textColor=null,this.whiteSpace=null,this.fontSize=null,this.fontFamily=null,this.fontWeight=null},ui=function(){this.color=null,this.lineWidth=null,this.linePattern=null,this.shadow=null,this.fillColor=null,this.showMarker=null,this.markerOptions=new at},at=function(){this.show=null,this.style=null,this.lineWidth=null,this.size=null,this.color=null,this.shadow=null},lt=function(){this.color=null,this.seriesColors=null,this.lineWidth=null,this.shadow=null,this.barPadding=null,this.barMargin=null,this.barWidth=null,this.highlightColors=null},ct=function(){this.seriesColors=null,this.padding=null,this.sliceMargin=null,this.fill=null,this.shadow=null,this.startAngle=null,this.lineWidth=null,this.highlightColors=null},vt=function(){this.seriesColors=null,this.padding=null,this.sliceMargin=null,this.fill=null,this.shadow=null,this.startAngle=null,this.lineWidth=null,this.innerDiameter=null,this.thickness=null,this.ringMargin=null,this.highlightColors=null},wt=function(){this.color=null,this.lineWidth=null,this.shadow=null,this.padding=null,this.sectionMargin=null,this.seriesColors=null,this.highlightColors=null},yt=function(){this.padding=null,this.backgroundColor=null,this.ringColor=null,this.tickColor=null,this.ringWidth=null,this.intervalColors=null,this.intervalInnerRadius=null,this.intervalOuterRadius=null,this.hubRadius=null,this.needleThickness=null,this.needlePad=null};n.fn.jqplotChildText=function(){return n(this).contents().filter(function(){return this.nodeType==3}).text()},n.fn.jqplotGetComputedFontStyle=function(){for(var i=window.getComputedStyle?window.getComputedStyle(this[0]):this[0].currentStyle,r=i["font-style"]?["font-style","font-weight","font-size","font-family"]:["fontStyle","fontWeight","fontSize","fontFamily"],u=[],t,n=0;n<r.length;++n)t=String(i[r[n]]),t&&t!="normal"&&u.push(t);return u.join(" ")},n.fn.jqplotToImageCanvas=function(t){function g(t){var i=parseInt(n(t).css("line-height"),10);return isNaN(i)&&(i=parseInt(n(t).css("font-size"),10)*1.2),i}function k(t,i,u,f,e,o){for(var p=g(t),w=n(t).innerWidth(),k=n(t).innerHeight(),a=u.split(/\s+/),b=a.length,s="",l=[],v=e,c=f,y,h=0;h<b;h++)s+=a[h],i.measureText(s).width>w&&(l.push(h),s="");if(l.length===0)n(t).css("textAlign")==="center"&&(c=f+(o-i.measureText(s).width)/2-r),i.fillText(u,c,e);else{for(s=a.slice(0,l[0]).join(" "),n(t).css("textAlign")==="center"&&(c=f+(o-i.measureText(s).width)/2-r),i.fillText(s,c,v),v+=p,h=1,y=l.length;h<y;h++)s=a.slice(l[h-1],l[h]).join(" "),n(t).css("textAlign")==="center"&&(c=f+(o-i.measureText(s).width)/2-r),i.fillText(s,c,v),v+=p;s=a.slice(l[h-1],a.length).join(" "),n(t).css("textAlign")==="center"&&(c=f+(o-i.measureText(s).width)/2-r),i.fillText(s,c,v)}}function b(t,r,f){var h=t.tagName.toLowerCase(),l=n(t).position(),s=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,e=r+l.left+parseInt(s.marginLeft,10)+parseInt(s.borderLeftWidth,10)+parseInt(s.paddingLeft,10),o=f+l.top+parseInt(s.marginTop,10)+parseInt(s.borderTopWidth,10)+parseInt(s.paddingTop,10),v=u.width,c,a;h!="div"&&h!="span"||n(t).hasClass("jqplot-highlighter-tooltip")?h==="table"&&n(t).hasClass("jqplot-table-legend")?(i.strokeStyle=n(t).css("border-top-color"),i.fillStyle=n(t).css("background-color"),i.fillRect(e,o,n(t).innerWidth(),n(t).innerHeight()),parseInt(n(t).css("border-top-width"),10)>0&&i.strokeRect(e,o,n(t).innerWidth(),n(t).innerHeight()),n(t).find("div.jqplot-table-legend-swatch-outline").each(function(){var t=n(this),u,r;i.strokeStyle=t.css("border-top-color"),u=e+t.position().left,r=o+t.position().top,i.strokeRect(u,r,t.innerWidth(),t.innerHeight()),u+=parseInt(t.css("padding-left"),10),r+=parseInt(t.css("padding-top"),10);var h=t.innerHeight()-2*parseInt(t.css("padding-top"),10),s=t.innerWidth()-2*parseInt(t.css("padding-left"),10),f=t.children("div.jqplot-table-legend-swatch");i.fillStyle=f.css("background-color"),i.fillRect(u,r,s,h)}),n(t).find("td.jqplot-table-legend-label").each(function(){var t=n(this),u=e+t.position().left,r=o+t.position().top+parseInt(t.css("padding-top"),10);i.font=t.jqplotGetComputedFontStyle(),i.fillStyle=t.css("color"),i.fillText(t.text(),u,r)}),a=null):h=="canvas"&&i.drawImage(t,e,o):(n(t).children().each(function(){b(this,e,o)}),c=n(t).jqplotChildText(),c&&(i.font=n(t).jqplotGetComputedFontStyle(),i.fillStyle=n(t).css("color"),k(t,i,c,e,o,v)))}var v,i;t=t||{};var a=t.x_offset==null?0:t.x_offset,w=t.y_offset==null?0:t.y_offset,d=t.backgroundColor==null?"rgb(255,255,255)":t.backgroundColor;if(n(this).width()==0||n(this).height()==0)return null;if(!n.jqplot.support_canvas)return null;var u=document.createElement("canvas"),h=n(this).outerHeight(!0),o=n(this).outerWidth(!0),y=n(this).offset(),nt=y.left,tt=y.top,r=0,f=0,p=["jqplot-table-legend","jqplot-xaxis-tick","jqplot-x2axis-tick","jqplot-yaxis-tick","jqplot-y2axis-tick","jqplot-y3axis-tick","jqplot-y4axis-tick","jqplot-y5axis-tick","jqplot-y6axis-tick","jqplot-y7axis-tick","jqplot-y8axis-tick","jqplot-y9axis-tick","jqplot-xaxis-label","jqplot-x2axis-label","jqplot-yaxis-label","jqplot-y2axis-label","jqplot-y3axis-label","jqplot-y4axis-label","jqplot-y5axis-label","jqplot-y6axis-label","jqplot-y7axis-label","jqplot-y8axis-label","jqplot-y9axis-label"],s,e,c,l;for(v in p)n(this).find("."+p[v]).each(function(){s=n(this).offset().top-tt,e=n(this).offset().left-nt,l=e+n(this).outerWidth(!0)+r,c=s+n(this).outerHeight(!0)+f,e<-r&&(o=o-r-e,r=-e),s<-f&&(h=h-f-s,f=-s),l>o&&(o=l),c>h&&(h=c)});return u.width=o+Number(a),u.height=h+Number(w),i=u.getContext("2d"),i.save(),i.fillStyle=d,i.fillRect(0,0,u.width,u.height),i.restore(),i.translate(r,f),i.textAlign="left",i.textBaseline="top",n(this).children().each(function(){b(this,a,w)}),u},n.fn.jqplotToImageStr=function(t){var i=n(this).jqplotToImageCanvas(t);return i?i.toDataURL("image/png"):null},n.fn.jqplotToImageElem=function(t){var i=document.createElement("img"),r=n(this).jqplotToImageStr(t);return i.src=r,i},n.fn.jqplotToImageElemStr=function(t){return"<img src="+n(this).jqplotToImageStr(t)+" />"},n.fn.jqplotSaveImage=function(){var t=n(this).jqplotToImageStr({});t&&(window.location.href=t.replace("image/png","image/octet-stream"))},n.fn.jqplotViewImage=function(){var i=n(this).jqplotToImageElemStr({}),r=n(this).jqplotToImageStr({}),t;i&&(t=window.open(""),t.document.open("image/png"),t.document.write(i),t.document.close(),t=null)},t=function(){var r,n,i;this.syntax=t.config.syntax,this._type="jsDate",this.proxy=new Date,this.options={},this.locale=t.regional.getLocale(),this.formatString="",this.defaultCentury=t.config.defaultCentury;switch(arguments.length){case 0:break;case 1:g(arguments[0])=="[object Object]"&&arguments[0]._type!="jsDate"?(r=this.options=arguments[0],this.syntax=r.syntax||this.syntax,this.defaultCentury=r.defaultCentury||this.defaultCentury,this.proxy=t.createDate(r.date)):this.proxy=t.createDate(arguments[0]);break;default:for(n=[],i=0;i<arguments.length;i++)n.push(arguments[i]);this.proxy=new Date,this.proxy.setFullYear.apply(this.proxy,n.slice(0,3)),n.slice(3).length&&this.proxy.setHours.apply(this.proxy,n.slice(3))}},t.config={defaultLocale:"en",syntax:"perl",defaultCentury:1900},t.prototype.add=function(n,t){var i=u[t]||u.day;return typeof i=="number"?this.proxy.setTime(this.proxy.getTime()+i*n):i.add(this,n),this},t.prototype.clone=function(){return new t(this.proxy.getTime())},t.prototype.getUtcOffset=function(){return this.proxy.getTimezoneOffset()*6e4},t.prototype.diff=function(n,i,r){var e,f;return n=new t(n),n===null?null:(e=u[i]||u.day,f=typeof e=="number"?(this.proxy.getTime()-n.proxy.getTime())/e:e.diff(this.proxy,n.proxy),r?f:Math[f>0?"floor":"ceil"](f))},t.prototype.getAbbrDayName=function(){return t.regional[this.locale].dayNamesShort[this.proxy.getDay()]},t.prototype.getAbbrMonthName=function(){return t.regional[this.locale].monthNamesShort[this.proxy.getMonth()]},t.prototype.getAMPM=function(){return this.proxy.getHours()>=12?"PM":"AM"},t.prototype.getAmPm=function(){return this.proxy.getHours()>=12?"pm":"am"},t.prototype.getCentury=function(){return parseInt(this.proxy.getFullYear()/100,10)},t.prototype.getDate=function(){return this.proxy.getDate()},t.prototype.getDay=function(){return this.proxy.getDay()},t.prototype.getDayOfWeek=function(){var n=this.proxy.getDay();return n===0?7:n},t.prototype.getDayOfYear=function(){var n=this.proxy,t=n-new Date(""+n.getFullYear()+"/1/1 GMT");return t+=n.getTimezoneOffset()*6e4,n=null,parseInt(t/864e5,10)+1},t.prototype.getDayName=function(){return t.regional[this.locale].dayNames[this.proxy.getDay()]},t.prototype.getFullWeekOfYear=function(){var i=this.proxy,r=this.getDayOfYear(),n=6-i.getDay();return parseInt((r+n)/7,10)},t.prototype.getFullYear=function(){return this.proxy.getFullYear()},t.prototype.getGmtOffset=function(){var n=this.proxy.getTimezoneOffset()/60,t=n<0?"+":"-";return n=Math.abs(n),t+d(Math.floor(n),2)+":"+d(n%1*60,2)},t.prototype.getHours=function(){return this.proxy.getHours()},t.prototype.getHours12=function(){var n=this.proxy.getHours();return n>12?n-12:n==0?12:n},t.prototype.getIsoWeek=function(){var n=this.proxy,u=n.getWeekOfYear(),r=new Date(""+n.getFullYear()+"/1/1").getDay(),i=u+(r>4||r<=1?0:1);return i==53&&new Date(""+n.getFullYear()+"/12/31").getDay()<4?i=1:i===0&&(n=new t(new Date(""+(n.getFullYear()-1)+"/12/31")),i=n.getIsoWeek()),n=null,i},t.prototype.getMilliseconds=function(){return this.proxy.getMilliseconds()},t.prototype.getMinutes=function(){return this.proxy.getMinutes()},t.prototype.getMonth=function(){return this.proxy.getMonth()},t.prototype.getMonthName=function(){return t.regional[this.locale].monthNames[this.proxy.getMonth()]},t.prototype.getMonthNumber=function(){return this.proxy.getMonth()+1},t.prototype.getSeconds=function(){return this.proxy.getSeconds()},t.prototype.getShortYear=function(){return this.proxy.getYear()%100},t.prototype.getTime=function(){return this.proxy.getTime()},t.prototype.getTimezoneAbbr=function(){return this.proxy.toString().replace(/^.*\(([^)]+)\)$/,"$1")},t.prototype.getTimezoneName=function(){var n=/(?:\((.+)\)$| ([A-Z]{3}) )/.exec(this.toString());return n[1]||n[2]||"GMT"+this.getGmtOffset()},t.prototype.getTimezoneOffset=function(){return this.proxy.getTimezoneOffset()},t.prototype.getWeekOfYear=function(){var i=this.getDayOfYear(),t=7-this.getDayOfWeek();return parseInt((i+t)/7,10)},t.prototype.getUnix=function(){return Math.round(this.proxy.getTime()/1e3,0)},t.prototype.getYear=function(){return this.proxy.getYear()},t.prototype.next=function(n){return n=n||"day",this.clone().add(1,n)},t.prototype.set=function(){var r,n,i;switch(arguments.length){case 0:this.proxy=new Date;break;case 1:g(arguments[0])=="[object Object]"&&arguments[0]._type!="jsDate"?(r=this.options=arguments[0],this.syntax=r.syntax||this.syntax,this.defaultCentury=r.defaultCentury||this.defaultCentury,this.proxy=t.createDate(r.date)):this.proxy=t.createDate(arguments[0]);break;default:for(n=[],i=0;i<arguments.length;i++)n.push(arguments[i]);this.proxy=new Date,this.proxy.setFullYear.apply(this.proxy,n.slice(0,3)),n.slice(3).length&&this.proxy.setHours.apply(this.proxy,n.slice(3))}return this},t.prototype.setDate=function(n){return this.proxy.setDate(n),this},t.prototype.setFullYear=function(){return this.proxy.setFullYear.apply(this.proxy,arguments),this},t.prototype.setHours=function(){return this.proxy.setHours.apply(this.proxy,arguments),this},t.prototype.setMilliseconds=function(n){return this.proxy.setMilliseconds(n),this},t.prototype.setMinutes=function(){return this.proxy.setMinutes.apply(this.proxy,arguments),this},t.prototype.setMonth=function(){return this.proxy.setMonth.apply(this.proxy,arguments),this},t.prototype.setSeconds=function(){return this.proxy.setSeconds.apply(this.proxy,arguments),this},t.prototype.setTime=function(n){return this.proxy.setTime(n),this},t.prototype.setYear=function(){return this.proxy.setYear.apply(this.proxy,arguments),this},t.prototype.strftime=function(n){return n=n||this.formatString||t.regional[this.locale].formatString,t.strftime(this,n,this.syntax)},t.prototype.toString=function(){return this.proxy.toString()},t.prototype.toYmdInt=function(){return this.proxy.getFullYear()*1e4+this.getMonthNumber()*100+this.proxy.getDate()},t.regional={en:{monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],formatString:"%Y-%m-%d %H:%M:%S"},fr:{monthNames:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],monthNamesShort:["Jan","Fév","Mar","Avr","Mai","Jun","Jul","Aoû","Sep","Oct","Nov","Déc"],dayNames:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],dayNamesShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],formatString:"%Y-%m-%d %H:%M:%S"},de:{monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],formatString:"%Y-%m-%d %H:%M:%S"},es:{monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthNamesShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],dayNames:["Domingo","Lunes","Martes","Mi&eacute;rcoles","Jueves","Viernes","S&aacute;bado"],dayNamesShort:["Dom","Lun","Mar","Mi&eacute;","Juv","Vie","S&aacute;b"],formatString:"%Y-%m-%d %H:%M:%S"},ru:{monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthNamesShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],dayNames:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],dayNamesShort:["вск","пнд","втр","срд","чтв","птн","сбт"],formatString:"%Y-%m-%d %H:%M:%S"},ar:{monthNames:["كانون الثاني","شباط","آذار","نيسان","آذار","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["السبت","الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة"],dayNamesShort:["سبت","أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة"],formatString:"%Y-%m-%d %H:%M:%S"},pt:{monthNames:["Janeiro","Fevereiro","Mar&ccedil;o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Ter&ccedil;a-feira","Quarta-feira","Quinta-feira","Sexta-feira","S&aacute;bado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","S&aacute;b"],formatString:"%Y-%m-%d %H:%M:%S"},"pt-BR":{monthNames:["Janeiro","Fevereiro","Mar&ccedil;o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Ter&ccedil;a-feira","Quarta-feira","Quinta-feira","Sexta-feira","S&aacute;bado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","S&aacute;b"],formatString:"%Y-%m-%d %H:%M:%S"}},t.regional["en-US"]=t.regional["en-GB"]=t.regional.en,t.regional.getLocale=function(){var n=t.config.defaultLocale;return document&&document.getElementsByTagName("html")&&document.getElementsByTagName("html")[0].lang&&(n=document.getElementsByTagName("html")[0].lang,t.regional.hasOwnProperty(n)||(n=t.config.defaultLocale)),n};var ft=864e5,d=function(n,t){n=String(n);var r=t-n.length,i=String(Math.pow(10,r)).slice(1);return i.concat(n)},u={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:ft,week:7*ft,month:{add:function(n,t){u.year.add(n,Math[t>0?"floor":"ceil"](t/12));var i=n.getMonth()+t%12;i==12?(i=0,n.setYear(n.getFullYear()+1)):i==-1&&(i=11,n.setYear(n.getFullYear()-1)),n.setMonth(i)},diff:function(n,t){var u=n.getFullYear()-t.getFullYear(),r=n.getMonth()-t.getMonth()+u*12,i=n.getDate()-t.getDate();return r+i/30}},year:{add:function(n,t){n.setYear(n.getFullYear()+Math[t>0?"floor":"ceil"](t))},diff:function(n,t){return u.month.diff(n,t)/12}}};for(v in u)v.substring(v.length-1)!="s"&&(u[v+"s"]=u[v]);ot=function(n,i,r){if(t.formats[r].shortcuts[i])return t.strftime(n,t.formats[r].shortcuts[i],r);var u=(t.formats[r].codes[i]||"").split("."),f=n["get"+u[0]]?n["get"+u[0]]():"";return u[1]&&(f=d(f,u[1])),f},t.strftime=function(n,i,r,u){var s="perl",h=t.regional.getLocale(),f,o,e;r&&t.formats.hasOwnProperty(r)?s=r:r&&t.regional.hasOwnProperty(r)&&(h=r),u&&t.formats.hasOwnProperty(u)?s=u:u&&t.regional.hasOwnProperty(u)&&(h=u),(g(n)!="[object Object]"||n._type!="jsDate")&&(n=new t(n),n.locale=h),i||(i=n.formatString||t.regional[h].formatString),f=i||"%Y-%m-%d",o="";while(f.length>0)(e=f.match(t.formats[s].codes.matcher))?(o+=f.slice(0,e.index),o+=(e[1]||"")+ot(n,e[2],s),f=f.slice(e.index+e[0].length)):(o+=f,f="");return o},t.formats={ISO:"%Y-%m-%dT%H:%M:%S.%N%G",SQL:"%Y-%m-%d %H:%M:%S"},t.formats.perl={codes:{matcher:/()%(#?(%|[a-z]))/i,Y:"FullYear",y:"ShortYear.2",m:"MonthNumber.2","#m":"MonthNumber",B:"MonthName",b:"AbbrMonthName",d:"Date.2","#d":"Date",e:"Date",A:"DayName",a:"AbbrDayName",w:"Day",H:"Hours.2","#H":"Hours",I:"Hours12.2","#I":"Hours12",p:"AMPM",M:"Minutes.2","#M":"Minutes",S:"Seconds.2","#S":"Seconds",s:"Unix",N:"Milliseconds.3","#N":"Milliseconds",O:"TimezoneOffset",Z:"TimezoneName",G:"GmtOffset"},shortcuts:{F:"%Y-%m-%d",T:"%H:%M:%S",X:"%H:%M:%S",x:"%m/%d/%y",D:"%m/%d/%y","#c":"%a %b %e %H:%M:%S %Y",v:"%e-%b-%Y",R:"%H:%M",r:"%I:%M:%S %p",t:"\t",n:"\n","%":"%"}},t.formats.php={codes:{matcher:/()%((%|[a-z]))/i,a:"AbbrDayName",A:"DayName",d:"Date.2",e:"Date",j:"DayOfYear.3",u:"DayOfWeek",w:"Day",U:"FullWeekOfYear.2",V:"IsoWeek.2",W:"WeekOfYear.2",b:"AbbrMonthName",B:"MonthName",m:"MonthNumber.2",h:"AbbrMonthName",C:"Century.2",y:"ShortYear.2",Y:"FullYear",H:"Hours.2",I:"Hours12.2",l:"Hours12",p:"AMPM",P:"AmPm",M:"Minutes.2",S:"Seconds.2",s:"Unix",O:"TimezoneOffset",z:"GmtOffset",Z:"TimezoneAbbr"},shortcuts:{D:"%m/%d/%y",F:"%Y-%m-%d",T:"%H:%M:%S",X:"%H:%M:%S",x:"%m/%d/%y",R:"%H:%M",r:"%I:%M:%S %p",t:"\t",n:"\n","%":"%"}},t.createDate=function(n){function l(n,i){var f=parseFloat(i[1]),s=parseFloat(i[2]),h=parseFloat(i[3]),c=t.config.defaultCentury,e,u,r,o;return f>31?(u=h,r=s,e=c+f):(u=s,r=f,e=c+h),o=r+"/"+u+"/"+e,n.replace(/^([0-9]{1,2})[-\/]([0-9]{1,2})[-\/]([0-9]{1,2})/,o)}var i,c,f,r;if(n==null)return new Date;if(n instanceof Date)return n;if(typeof n=="number")return new Date(n);i=String(n).replace(/^\s*(.+)\s*$/g,"$1"),i=i.replace(/^([0-9]{1,4})-([0-9]{1,2})-([0-9]{1,4})/,"$1/$2/$3"),i=i.replace(/^(3[01]|[0-2]?\d)[-\/]([a-z]{3,})[-\/](\d{4})/i,"$1 $2 $3"),r=i.match(/^(3[01]|[0-2]?\d)[-\/]([a-z]{3,})[-\/](\d{2})\D*/i),r&&r.length>3&&(c=parseFloat(r[3]),f=t.config.defaultCentury+c,f=String(f),i=i.replace(/^(3[01]|[0-2]?\d)[-\/]([a-z]{3,})[-\/](\d{2})\D*/i,r[1]+" "+r[2]+" "+f)),r=i.match(/^([0-9]{1,2})[-\/]([0-9]{1,2})[-\/]([0-9]{1,2})[^0-9]/),r&&r.length>3&&(i=l(i,r)),r=i.match(/^([0-9]{1,2})[-\/]([0-9]{1,2})[-\/]([0-9]{1,2})$/),r&&r.length>3&&(i=l(i,r));var s=0,a=t.matchers.length,u,o,e=i,h;while(s<a){o=Date.parse(e);if(!isNaN(o))return new Date(o);u=t.matchers[s];if(typeof u=="function"){h=u.call(t,e);if(h instanceof Date)return h}else e=i.replace(u[0],u[1]);s++}return NaN},t.daysInMonth=function(n,t){return t==2?new Date(n,1,29).getDate()==29?29:28:[r,31,r,31,30,31,30,31,31,30,31,30,31][t]},t.matchers=[[/(3[01]|[0-2]\d)\s*\.\s*(1[0-2]|0\d)\s*\.\s*([1-9]\d{3})/,"$2/$1/$3"],[/([1-9]\d{3})\s*-\s*(1[0-2]|0\d)\s*-\s*(3[01]|[0-2]\d)/,"$2/$3/$1"],function(n){var t=n.match(/^(?:(.+)\s+)?([012]?\d)(?:\s*\:\s*(\d\d))?(?:\s*\:\s*(\d\d(\.\d*)?))?\s*(am|pm)?\s*$/i),r,i;if(t){if(t[1]){r=this.createDate(t[1]);if(isNaN(r))return}else r=new Date,r.setMilliseconds(0);return i=parseFloat(t[2]),t[6]&&(i=t[6].toLowerCase()=="am"?i==12?0:i:i==12?12:i+12),r.setHours(i,parseInt(t[3]||0,10),parseInt(t[4]||0,10),(parseFloat(t[5]||0)||0)*1e3),r}return n},function(n){var t=n.match(/^(?:(.+))[T|\s+]([012]\d)(?:\:(\d\d))(?:\:(\d\d))(?:\.\d+)([\+\-]\d\d\:\d\d)$/i),i,r;if(t){if(t[1]){i=this.createDate(t[1]);if(isNaN(i))return}else i=new Date,i.setMilliseconds(0);return r=parseFloat(t[2]),i.setHours(r,parseInt(t[3],10),parseInt(t[4],10),parseFloat(t[5])*1e3),i}return n},function(n){var i=n.match(/^([0-3]?\d)\s*[-\/.\s]{1}\s*([a-zA-Z]{3,9})\s*[-\/.\s]{1}\s*([0-3]?\d)$/),r;if(i){var o=new Date,s=t.config.defaultCentury,e=parseFloat(i[1]),h=parseFloat(i[3]),f,u,r;return e>31?(u=h,f=s+e):(u=e,f=s+h),r=st(i[2],t.regional[t.regional.getLocale()].monthNamesShort),r==-1&&(r=st(i[2],t.regional[t.regional.getLocale()].monthNames)),o.setFullYear(f,r,u),o.setHours(0,0,0,0),o}return n}],n.jsDate=t,n.jqplot.sprintf=function(){function u(n,t,i,r){var u=n.length>=t?"":Array(1+t-n.length>>>0).join(i);return r?n+u:u+n}function e(t){for(var i=new String(t),r=10;r>0;r--)if(i==(i=i.replace(/^(\d+)(\d{3})/,"$1"+n.jqplot.sprintf.thousandsSeparator+"$2")))break;return i}function i(n,t,i,r,f,e){var s=r-n.length,o;return s>0&&(o=" ",e&&(o="&nbsp;"),n=i||!f?u(n,r,o,i):n.slice(0,t.length)+u("",s,"0",!0)+n.slice(t.length)),n}function r(n,t,r,f,e,o,s,h){var c=n>>>0;return r=r&&c&&{"2":"0b","8":"0","16":"0x"}[t]||"",n=r+u(c.toString(t),o||0,"0",!1),i(n,r,f,e,s,h)}function o(n,t,r,u,f,e){return u!=null&&(n=n.slice(0,u)),i(n,"",t,r,f,e)}var t=arguments,f=0,s=t[f++];return s.replace(n.jqplot.sprintf.regex,function(n,s,h,c,l,a,v){var ut,y,w,g,p,ot,et;if(n=="%%")return"%";var b=!1,nt="",d=!1,it=!1,k=!1,ft=!1;for(ut=0;h&&ut<h.length;ut++)switch(h.charAt(ut)){case" ":nt=" ";break;case"+":nt="+";break;case"-":b=!0;break;case"0":d=!0;break;case"#":it=!0;break;case"&":k=!0;break;case"'":ft=!0}c=c?c=="*"?+t[f++]:c.charAt(0)=="*"?+t[c.slice(1,-1)]:+c:0,c<0&&(c=-c,b=!0);if(!isFinite(c))throw new Error("$.jqplot.sprintf: (minimum-)width must be finite");a=a?a=="*"?+t[f++]:a.charAt(0)=="*"?+t[a.slice(1,-1)]:+a:"fFeE".indexOf(v)>-1?6:v=="d"?0:void 0,y=s?t[s.slice(0,-1)]:t[f++];switch(v){case"s":return y==null?"":o(String(y),b,c,a,d,k);case"c":return o(String.fromCharCode(+y),b,c,a,d,k);case"b":return r(y,2,it,b,c,a,d,k);case"o":return r(y,8,it,b,c,a,d,k);case"x":return r(y,16,it,b,c,a,d,k);case"X":return r(y,16,it,b,c,a,d,k).toUpperCase();case"u":return r(y,10,it,b,c,a,d,k);case"i":return p=parseInt(+y,10),isNaN(p)?"":(w=p<0?"-":nt,g=ft?e(String(Math.abs(p))):String(Math.abs(p)),y=w+u(g,a,"0",!1),i(y,w,b,c,d,k));case"d":return p=Math.round(+y),isNaN(p)?"":(w=p<0?"-":nt,g=ft?e(String(Math.abs(p))):String(Math.abs(p)),y=w+u(g,a,"0",!1),i(y,w,b,c,d,k));case"e":case"E":case"f":case"F":case"g":case"G":p=+y;if(isNaN(p))return"";var w=p<0?"-":nt,st=["toExponential","toFixed","toPrecision"]["efg".indexOf(v.toLowerCase())],et=["toString","toUpperCase"]["eEfFgG".indexOf(v)%2],g=Math.abs(p)[st](a);return g=ft?e(g):g,y=w+g,i(y,w,b,c,d,k)[et]();case"p":case"P":p=+y;if(isNaN(p))return"";var w=p<0?"-":nt,rt=String(Number(Math.abs(p)).toExponential()).split(/e|E/),tt=rt[0].indexOf(".")!=-1?rt[0].length-1:rt[0].length,ht=rt[1]<0?-rt[1]-1:0;return Math.abs(p)<1?y=tt+ht>a?tt>a-1?w+Math.abs(p).toExponential(a-1):w+Math.abs(p).toExponential(tt-1):w+Math.abs(p).toPrecision(tt):(ot=tt<=a?tt:a,y=w+Math.abs(p).toPrecision(ot)),et=["toString","toUpperCase"]["pP".indexOf(v)%2],i(y,w,b,c,d,k)[et]();case"n":return"";default:return n}})},n.jqplot.sprintf.thousandsSeparator=",",n.jqplot.sprintf.regex=/%%|%(\d+\$)?([-+#0&\' ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([nAscboxXuidfegpEGP])/g,n.jqplot.getSignificantFigures=function(n){var t=String(Number(Math.abs(n)).toExponential()).split(/e|E/),r=t[0].indexOf(".")!=-1?t[0].length-1:t[0].length,e=t[1]<0?-t[1]-1:0,i=parseInt(t[1],10),u=i+1>0?i+1:0,f=r<=u?0:r-i-1;return{significantDigits:r,digitsLeft:u,digitsRight:f,zeros:e,exponent:i}},n.jqplot.getPrecision=function(t){return n.jqplot.getSignificantFigures(t).digitsRight}}(jQuery),backCompat=$.uiBackCompat!==!1,$.jqplot.effects={effect:{}},dataSpace="jqplot.storage.",$.extend($.jqplot.effects,{version:"1.9pre",save:function(n,t){for(var i=0;i<t.length;i++)t[i]!==null&&n.data(dataSpace+t[i],n[0].style[t[i]])},restore:function(n,t){for(var i=0;i<t.length;i++)t[i]!==null&&n.css(t[i],n.data(dataSpace+t[i]))},setMode:function(n,t){return t==="toggle"&&(t=n.is(":hidden")?"show":"hide"),t},createWrapper:function(n){if(n.parent().is(".ui-effects-wrapper"))return n.parent();var t={width:n.outerWidth(!0),height:n.outerHeight(!0),float:n.css("float")},i=$("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),u={width:n.width(),height:n.height()},r=document.activeElement;return n.wrap(i),(n[0]===r||$.contains(n[0],r))&&$(r).focus(),i=n.parent(),n.css("position")==="static"?(i.css({position:"relative"}),n.css({position:"relative"})):($.extend(t,{position:n.css("position"),zIndex:n.css("z-index")}),$.each(["top","left","bottom","right"],function(i,r){t[r]=n.css(r),isNaN(parseInt(t[r],10))&&(t[r]="auto")}),n.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),n.css(u),i.css(t).show()},removeWrapper:function(n){var t=document.activeElement;return n.parent().is(".ui-effects-wrapper")&&(n.parent().replaceWith(n),(n[0]===t||$.contains(n[0],t))&&$(t).focus()),n}}),$.fn.extend({jqplotEffect:function(){function o(n){function i(){$.isFunction(e)&&e.call(t[0]),$.isFunction(n)&&n()}var t=$(this),e=u.complete,r=u.mode;t.is(":hidden")?r==="hide":r==="show"?i():f.call(t[0],u,i)}var u=_normalizeArguments.apply(this,arguments),h=u.mode,s=u.queue,f=$.jqplot.effects.effect[u.effect],e=!f&&backCompat&&$.jqplot.effects[u.effect];return $.fx.off||!(f||e)?h?this[h](u.duration,u.complete):this.each(function(){u.complete&&u.complete.call(this)}):f?s===!1?this.each(o):this.queue(s||"fx",o):e.call(this,{options:u,duration:u.duration,callback:u.complete,mode:u.mode})}}),rvertical=/up|down|vertical/,rpositivemotion=/up|left|vertical|horizontal/,$.jqplot.effects.effect.blind=function(n,t){var i=$(this),o=["position","top","bottom","left","right","height","width"],l=$.jqplot.effects.setMode(i,n.mode||"hide"),y=n.direction||"up",u=rvertical.test(y),e=u?"height":"width",a=u?"top":"left",v=rpositivemotion.test(y),h={},s=l==="show",r,f,c;i.parent().is(".ui-effects-wrapper")?$.jqplot.effects.save(i.parent(),o):$.jqplot.effects.save(i,o),i.show(),c=parseInt(i.css("top"),10),r=$.jqplot.effects.createWrapper(i).css({overflow:"hidden"}),f=u?r[e]()+c:r[e](),h[e]=s?String(f):"0",v||(i.css(u?"bottom":"right",0).css(u?"top":"left","").css({position:"absolute"}),h[a]=s?"0":String(f)),s&&(r.css(e,0),v||r.css(a,f)),r.animate(h,{duration:n.duration,easing:n.easing,queue:!1,complete:function(){l==="hide"&&i.hide(),$.jqplot.effects.restore(i,o),$.jqplot.effects.removeWrapper(i),t()}})},function(n){n.jqplot.CanvasTextRenderer=function(t){this.fontStyle="normal",this.fontVariant="normal",this.fontWeight="normal",this.fontSize="10px",this.fontFamily="sans-serif",this.fontStretch=1,this.fillStyle="#666666",this.angle=0,this.textAlign="start",this.textBaseline="alphabetic",this.text,this.width,this.height,this.pt2px=1.28,n.extend(!0,this,t),this.normalizedFontSize=this.normalizeFontSize(this.fontSize),this.setHeight()},n.jqplot.CanvasTextRenderer.prototype.init=function(t){n.extend(!0,this,t),this.normalizedFontSize=this.normalizeFontSize(this.fontSize),this.setHeight()},n.jqplot.CanvasTextRenderer.prototype.normalizeFontSize=function(n){n=String(n);var t=parseFloat(n);return n.indexOf("px")>-1?t/this.pt2px:n.indexOf("pt")>-1?t:n.indexOf("em")>-1?t*12:n.indexOf("%")>-1?t*12/100:t/this.pt2px},n.jqplot.CanvasTextRenderer.prototype.fontWeight2Float=function(n){if(Number(n))return n/400;switch(n){case"normal":return 1;case"bold":return 1.75;case"bolder":return 2.25;case"lighter":return.75;default:return 1}},n.jqplot.CanvasTextRenderer.prototype.getText=function(){return this.text},n.jqplot.CanvasTextRenderer.prototype.setText=function(n,t){return this.text=n,this.setWidth(t),this},n.jqplot.CanvasTextRenderer.prototype.getWidth=function(){return this.width},n.jqplot.CanvasTextRenderer.prototype.setWidth=function(n,t){return this.width=t?t:this.measure(n,this.text),this},n.jqplot.CanvasTextRenderer.prototype.getHeight=function(){return this.height},n.jqplot.CanvasTextRenderer.prototype.setHeight=function(n){return this.height=n?n:this.normalizedFontSize*this.pt2px,this},n.jqplot.CanvasTextRenderer.prototype.letter=function(n){return this.letters[n]},n.jqplot.CanvasTextRenderer.prototype.ascent=function(){return this.normalizedFontSize},n.jqplot.CanvasTextRenderer.prototype.descent=function(){return 7*this.normalizedFontSize/25},n.jqplot.CanvasTextRenderer.prototype.measure=function(n,t){for(var u=0,f=t.length,r,i=0;i<f;i++)r=this.letter(t.charAt(i)),r&&(u+=r.width*this.normalizedFontSize/25*this.fontStretch);return u},n.jqplot.CanvasTextRenderer.prototype.draw=function(n,t){var c=0,l=this.height*.72,v=0,y=t.length,r=this.normalizedFontSize/25,e,u,a,s,f,o,p,h,i;for(n.save(),(-Math.PI/2>this.angle||this.angle>0)&&(Math.PI*3/2>this.angle||this.angle>Math.PI*2)?(0>=this.angle||this.angle>Math.PI/2)&&(-Math.PI*2>this.angle||this.angle>-Math.PI*3/2)?-Math.PI<this.angle&&this.angle<-Math.PI/2||Math.PI<=this.angle&&this.angle<=Math.PI*3/2?(e=-Math.cos(this.angle)*this.width,u=-Math.sin(this.angle)*this.width-Math.cos(this.angle)*this.height):(-Math.PI*3/2<this.angle&&this.angle<Math.PI||Math.PI/2<this.angle&&this.angle<Math.PI)&&(e=Math.sin(this.angle)*this.height-Math.cos(this.angle)*this.width,u=-Math.cos(this.angle)*this.height):(e=Math.sin(this.angle)*this.height,u=0):(e=0,u=-Math.sin(this.angle)*this.width),n.strokeStyle=this.fillStyle,n.fillStyle=this.fillStyle,n.translate(e,u),n.rotate(this.angle),n.lineCap="round",a=this.normalizedFontSize>30?2:2+(30-this.normalizedFontSize)/20,n.lineWidth=a*r*this.fontWeight2Float(this.fontWeight),s=0;s<y;s++){f=this.letter(t.charAt(s));if(!f)continue;for(n.beginPath(),o=1,p=0,h=0;h<f.points.length;h++){i=f.points[h];if(i[0]==-1&&i[1]==-1){o=1;continue}o?(n.moveTo(c+i[0]*r*this.fontStretch,l-i[1]*r),o=!1):n.lineTo(c+i[0]*r*this.fontStretch,l-i[1]*r)}n.stroke(),c+=f.width*r*this.fontStretch}return n.restore(),v},n.jqplot.CanvasTextRenderer.prototype.letters={" ":{width:16,points:[]},"!":{width:10,points:[[5,21],[5,7],[-1,-1],[5,2],[4,1],[5,0],[6,1],[5,2]]},'"':{width:16,points:[[4,21],[4,14],[-1,-1],[12,21],[12,14]]},"#":{width:21,points:[[11,25],[4,-7],[-1,-1],[17,25],[10,-7],[-1,-1],[4,12],[18,12],[-1,-1],[3,6],[17,6]]},$:{width:20,points:[[8,25],[8,-4],[-1,-1],[12,25],[12,-4],[-1,-1],[17,18],[15,20],[12,21],[8,21],[5,20],[3,18],[3,16],[4,14],[5,13],[7,12],[13,10],[15,9],[16,8],[17,6],[17,3],[15,1],[12,0],[8,0],[5,1],[3,3]]},"%":{width:24,points:[[21,21],[3,0],[-1,-1],[8,21],[10,19],[10,17],[9,15],[7,14],[5,14],[3,16],[3,18],[4,20],[6,21],[8,21],[10,20],[13,19],[16,19],[19,20],[21,21],[-1,-1],[17,7],[15,6],[14,4],[14,2],[16,0],[18,0],[20,1],[21,3],[21,5],[19,7],[17,7]]},"&":{width:26,points:[[23,12],[23,13],[22,14],[21,14],[20,13],[19,11],[17,6],[15,3],[13,1],[11,0],[7,0],[5,1],[4,2],[3,4],[3,6],[4,8],[5,9],[12,13],[13,14],[14,16],[14,18],[13,20],[11,21],[9,20],[8,18],[8,16],[9,13],[11,10],[16,3],[18,1],[20,0],[22,0],[23,1],[23,2]]},"'":{width:10,points:[[5,19],[4,20],[5,21],[6,20],[6,18],[5,16],[4,15]]},"(":{width:14,points:[[11,25],[9,23],[7,20],[5,16],[4,11],[4,7],[5,2],[7,-2],[9,-5],[11,-7]]},")":{width:14,points:[[3,25],[5,23],[7,20],[9,16],[10,11],[10,7],[9,2],[7,-2],[5,-5],[3,-7]]},"*":{width:16,points:[[8,21],[8,9],[-1,-1],[3,18],[13,12],[-1,-1],[13,18],[3,12]]},"+":{width:26,points:[[13,18],[13,0],[-1,-1],[4,9],[22,9]]},",":{width:10,points:[[6,1],[5,0],[4,1],[5,2],[6,1],[6,-1],[5,-3],[4,-4]]},"-":{width:18,points:[[6,9],[12,9]]},".":{width:10,points:[[5,2],[4,1],[5,0],[6,1],[5,2]]},"/":{width:22,points:[[20,25],[2,-7]]},"0":{width:20,points:[[9,21],[6,20],[4,17],[3,12],[3,9],[4,4],[6,1],[9,0],[11,0],[14,1],[16,4],[17,9],[17,12],[16,17],[14,20],[11,21],[9,21]]},"1":{width:20,points:[[6,17],[8,18],[11,21],[11,0]]},"2":{width:20,points:[[4,16],[4,17],[5,19],[6,20],[8,21],[12,21],[14,20],[15,19],[16,17],[16,15],[15,13],[13,10],[3,0],[17,0]]},"3":{width:20,points:[[5,21],[16,21],[10,13],[13,13],[15,12],[16,11],[17,8],[17,6],[16,3],[14,1],[11,0],[8,0],[5,1],[4,2],[3,4]]},"4":{width:20,points:[[13,21],[3,7],[18,7],[-1,-1],[13,21],[13,0]]},"5":{width:20,points:[[15,21],[5,21],[4,12],[5,13],[8,14],[11,14],[14,13],[16,11],[17,8],[17,6],[16,3],[14,1],[11,0],[8,0],[5,1],[4,2],[3,4]]},"6":{width:20,points:[[16,18],[15,20],[12,21],[10,21],[7,20],[5,17],[4,12],[4,7],[5,3],[7,1],[10,0],[11,0],[14,1],[16,3],[17,6],[17,7],[16,10],[14,12],[11,13],[10,13],[7,12],[5,10],[4,7]]},"7":{width:20,points:[[17,21],[7,0],[-1,-1],[3,21],[17,21]]},"8":{width:20,points:[[8,21],[5,20],[4,18],[4,16],[5,14],[7,13],[11,12],[14,11],[16,9],[17,7],[17,4],[16,2],[15,1],[12,0],[8,0],[5,1],[4,2],[3,4],[3,7],[4,9],[6,11],[9,12],[13,13],[15,14],[16,16],[16,18],[15,20],[12,21],[8,21]]},"9":{width:20,points:[[16,14],[15,11],[13,9],[10,8],[9,8],[6,9],[4,11],[3,14],[3,15],[4,18],[6,20],[9,21],[10,21],[13,20],[15,18],[16,14],[16,9],[15,4],[13,1],[10,0],[8,0],[5,1],[4,3]]},":":{width:10,points:[[5,14],[4,13],[5,12],[6,13],[5,14],[-1,-1],[5,2],[4,1],[5,0],[6,1],[5,2]]},";":{width:10,points:[[5,14],[4,13],[5,12],[6,13],[5,14],[-1,-1],[6,1],[5,0],[4,1],[5,2],[6,1],[6,-1],[5,-3],[4,-4]]},"<":{width:24,points:[[20,18],[4,9],[20,0]]},"=":{width:26,points:[[4,12],[22,12],[-1,-1],[4,6],[22,6]]},">":{width:24,points:[[4,18],[20,9],[4,0]]},"?":{width:18,points:[[3,16],[3,17],[4,19],[5,20],[7,21],[11,21],[13,20],[14,19],[15,17],[15,15],[14,13],[13,12],[9,10],[9,7],[-1,-1],[9,2],[8,1],[9,0],[10,1],[9,2]]},"@":{width:27,points:[[18,13],[17,15],[15,16],[12,16],[10,15],[9,14],[8,11],[8,8],[9,6],[11,5],[14,5],[16,6],[17,8],[-1,-1],[12,16],[10,14],[9,11],[9,8],[10,6],[11,5],[-1,-1],[18,16],[17,8],[17,6],[19,5],[21,5],[23,7],[24,10],[24,12],[23,15],[22,17],[20,19],[18,20],[15,21],[12,21],[9,20],[7,19],[5,17],[4,15],[3,12],[3,9],[4,6],[5,4],[7,2],[9,1],[12,0],[15,0],[18,1],[20,2],[21,3],[-1,-1],[19,16],[18,8],[18,6],[19,5]]},A:{width:18,points:[[9,21],[1,0],[-1,-1],[9,21],[17,0],[-1,-1],[4,7],[14,7]]},B:{width:21,points:[[4,21],[4,0],[-1,-1],[4,21],[13,21],[16,20],[17,19],[18,17],[18,15],[17,13],[16,12],[13,11],[-1,-1],[4,11],[13,11],[16,10],[17,9],[18,7],[18,4],[17,2],[16,1],[13,0],[4,0]]},C:{width:21,points:[[18,16],[17,18],[15,20],[13,21],[9,21],[7,20],[5,18],[4,16],[3,13],[3,8],[4,5],[5,3],[7,1],[9,0],[13,0],[15,1],[17,3],[18,5]]},D:{width:21,points:[[4,21],[4,0],[-1,-1],[4,21],[11,21],[14,20],[16,18],[17,16],[18,13],[18,8],[17,5],[16,3],[14,1],[11,0],[4,0]]},E:{width:19,points:[[4,21],[4,0],[-1,-1],[4,21],[17,21],[-1,-1],[4,11],[12,11],[-1,-1],[4,0],[17,0]]},F:{width:18,points:[[4,21],[4,0],[-1,-1],[4,21],[17,21],[-1,-1],[4,11],[12,11]]},G:{width:21,points:[[18,16],[17,18],[15,20],[13,21],[9,21],[7,20],[5,18],[4,16],[3,13],[3,8],[4,5],[5,3],[7,1],[9,0],[13,0],[15,1],[17,3],[18,5],[18,8],[-1,-1],[13,8],[18,8]]},H:{width:22,points:[[4,21],[4,0],[-1,-1],[18,21],[18,0],[-1,-1],[4,11],[18,11]]},I:{width:8,points:[[4,21],[4,0]]},J:{width:16,points:[[12,21],[12,5],[11,2],[10,1],[8,0],[6,0],[4,1],[3,2],[2,5],[2,7]]},K:{width:21,points:[[4,21],[4,0],[-1,-1],[18,21],[4,7],[-1,-1],[9,12],[18,0]]},L:{width:17,points:[[4,21],[4,0],[-1,-1],[4,0],[16,0]]},M:{width:24,points:[[4,21],[4,0],[-1,-1],[4,21],[12,0],[-1,-1],[20,21],[12,0],[-1,-1],[20,21],[20,0]]},N:{width:22,points:[[4,21],[4,0],[-1,-1],[4,21],[18,0],[-1,-1],[18,21],[18,0]]},O:{width:22,points:[[9,21],[7,20],[5,18],[4,16],[3,13],[3,8],[4,5],[5,3],[7,1],[9,0],[13,0],[15,1],[17,3],[18,5],[19,8],[19,13],[18,16],[17,18],[15,20],[13,21],[9,21]]},P:{width:21,points:[[4,21],[4,0],[-1,-1],[4,21],[13,21],[16,20],[17,19],[18,17],[18,14],[17,12],[16,11],[13,10],[4,10]]},Q:{width:22,points:[[9,21],[7,20],[5,18],[4,16],[3,13],[3,8],[4,5],[5,3],[7,1],[9,0],[13,0],[15,1],[17,3],[18,5],[19,8],[19,13],[18,16],[17,18],[15,20],[13,21],[9,21],[-1,-1],[12,4],[18,-2]]},R:{width:21,points:[[4,21],[4,0],[-1,-1],[4,21],[13,21],[16,20],[17,19],[18,17],[18,15],[17,13],[16,12],[13,11],[4,11],[-1,-1],[11,11],[18,0]]},S:{width:20,points:[[17,18],[15,20],[12,21],[8,21],[5,20],[3,18],[3,16],[4,14],[5,13],[7,12],[13,10],[15,9],[16,8],[17,6],[17,3],[15,1],[12,0],[8,0],[5,1],[3,3]]},T:{width:16,points:[[8,21],[8,0],[-1,-1],[1,21],[15,21]]},U:{width:22,points:[[4,21],[4,6],[5,3],[7,1],[10,0],[12,0],[15,1],[17,3],[18,6],[18,21]]},V:{width:18,points:[[1,21],[9,0],[-1,-1],[17,21],[9,0]]},W:{width:24,points:[[2,21],[7,0],[-1,-1],[12,21],[7,0],[-1,-1],[12,21],[17,0],[-1,-1],[22,21],[17,0]]},X:{width:20,points:[[3,21],[17,0],[-1,-1],[17,21],[3,0]]},Y:{width:18,points:[[1,21],[9,11],[9,0],[-1,-1],[17,21],[9,11]]},Z:{width:20,points:[[17,21],[3,0],[-1,-1],[3,21],[17,21],[-1,-1],[3,0],[17,0]]},"[":{width:14,points:[[4,25],[4,-7],[-1,-1],[5,25],[5,-7],[-1,-1],[4,25],[11,25],[-1,-1],[4,-7],[11,-7]]},"\\":{width:14,points:[[0,21],[14,-3]]},"]":{width:14,points:[[9,25],[9,-7],[-1,-1],[10,25],[10,-7],[-1,-1],[3,25],[10,25],[-1,-1],[3,-7],[10,-7]]},"^":{width:16,points:[[6,15],[8,18],[10,15],[-1,-1],[3,12],[8,17],[13,12],[-1,-1],[8,17],[8,0]]},_:{width:16,points:[[0,-2],[16,-2]]},"`":{width:10,points:[[6,21],[5,20],[4,18],[4,16],[5,15],[6,16],[5,17]]},a:{width:19,points:[[15,14],[15,0],[-1,-1],[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},b:{width:19,points:[[4,21],[4,0],[-1,-1],[4,11],[6,13],[8,14],[11,14],[13,13],[15,11],[16,8],[16,6],[15,3],[13,1],[11,0],[8,0],[6,1],[4,3]]},c:{width:18,points:[[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},d:{width:19,points:[[15,21],[15,0],[-1,-1],[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},e:{width:18,points:[[3,8],[15,8],[15,10],[14,12],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},f:{width:12,points:[[10,21],[8,21],[6,20],[5,17],[5,0],[-1,-1],[2,14],[9,14]]},g:{width:19,points:[[15,14],[15,-2],[14,-5],[13,-6],[11,-7],[8,-7],[6,-6],[-1,-1],[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},h:{width:19,points:[[4,21],[4,0],[-1,-1],[4,10],[7,13],[9,14],[12,14],[14,13],[15,10],[15,0]]},i:{width:8,points:[[3,21],[4,20],[5,21],[4,22],[3,21],[-1,-1],[4,14],[4,0]]},j:{width:10,points:[[5,21],[6,20],[7,21],[6,22],[5,21],[-1,-1],[6,14],[6,-3],[5,-6],[3,-7],[1,-7]]},k:{width:17,points:[[4,21],[4,0],[-1,-1],[14,14],[4,4],[-1,-1],[8,8],[15,0]]},l:{width:8,points:[[4,21],[4,0]]},m:{width:30,points:[[4,14],[4,0],[-1,-1],[4,10],[7,13],[9,14],[12,14],[14,13],[15,10],[15,0],[-1,-1],[15,10],[18,13],[20,14],[23,14],[25,13],[26,10],[26,0]]},n:{width:19,points:[[4,14],[4,0],[-1,-1],[4,10],[7,13],[9,14],[12,14],[14,13],[15,10],[15,0]]},o:{width:19,points:[[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3],[16,6],[16,8],[15,11],[13,13],[11,14],[8,14]]},p:{width:19,points:[[4,14],[4,-7],[-1,-1],[4,11],[6,13],[8,14],[11,14],[13,13],[15,11],[16,8],[16,6],[15,3],[13,1],[11,0],[8,0],[6,1],[4,3]]},q:{width:19,points:[[15,14],[15,-7],[-1,-1],[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},r:{width:13,points:[[4,14],[4,0],[-1,-1],[4,8],[5,11],[7,13],[9,14],[12,14]]},s:{width:17,points:[[14,11],[13,13],[10,14],[7,14],[4,13],[3,11],[4,9],[6,8],[11,7],[13,6],[14,4],[14,3],[13,1],[10,0],[7,0],[4,1],[3,3]]},t:{width:12,points:[[5,21],[5,4],[6,1],[8,0],[10,0],[-1,-1],[2,14],[9,14]]},u:{width:19,points:[[4,14],[4,4],[5,1],[7,0],[10,0],[12,1],[15,4],[-1,-1],[15,14],[15,0]]},v:{width:16,points:[[2,14],[8,0],[-1,-1],[14,14],[8,0]]},w:{width:22,points:[[3,14],[7,0],[-1,-1],[11,14],[7,0],[-1,-1],[11,14],[15,0],[-1,-1],[19,14],[15,0]]},x:{width:17,points:[[3,14],[14,0],[-1,-1],[14,14],[3,0]]},y:{width:16,points:[[2,14],[8,0],[-1,-1],[14,14],[8,0],[6,-4],[4,-6],[2,-7],[1,-7]]},z:{width:17,points:[[14,14],[3,0],[-1,-1],[3,14],[14,14],[-1,-1],[3,0],[14,0]]},"{":{width:14,points:[[9,25],[7,24],[6,23],[5,21],[5,19],[6,17],[7,16],[8,14],[8,12],[6,10],[-1,-1],[7,24],[6,22],[6,20],[7,18],[8,17],[9,15],[9,13],[8,11],[4,9],[8,7],[9,5],[9,3],[8,1],[7,0],[6,-2],[6,-4],[7,-6],[-1,-1],[6,8],[8,6],[8,4],[7,2],[6,1],[5,-1],[5,-3],[6,-5],[7,-6],[9,-7]]},"|":{width:8,points:[[4,25],[4,-7]]},"}":{width:14,points:[[5,25],[7,24],[8,23],[9,21],[9,19],[8,17],[7,16],[6,14],[6,12],[8,10],[-1,-1],[7,24],[8,22],[8,20],[7,18],[6,17],[5,15],[5,13],[6,11],[10,9],[6,7],[5,5],[5,3],[6,1],[7,0],[8,-2],[8,-4],[7,-6],[-1,-1],[8,8],[6,6],[6,4],[7,2],[8,1],[9,-1],[9,-3],[8,-5],[7,-6],[5,-7]]},"~":{width:24,points:[[3,6],[3,8],[4,11],[6,12],[8,12],[10,11],[14,8],[16,7],[18,7],[20,8],[21,10],[-1,-1],[3,8],[4,10],[6,11],[8,11],[10,10],[14,7],[16,6],[18,6],[20,7],[21,10],[21,12]]}},n.jqplot.CanvasFontRenderer=function(t){t=t||{},t.pt2px||(t.pt2px=1.5),n.jqplot.CanvasTextRenderer.call(this,t)},n.jqplot.CanvasFontRenderer.prototype=new n.jqplot.CanvasTextRenderer({}),n.jqplot.CanvasFontRenderer.prototype.constructor=n.jqplot.CanvasFontRenderer,n.jqplot.CanvasFontRenderer.prototype.measure=function(n,t){var r=this.fontSize+" "+this.fontFamily,i;return n.save(),n.font=r,i=n.measureText(t).width,n.restore(),i},n.jqplot.CanvasFontRenderer.prototype.draw=function(n,t){var e=0,f=this.height*.72,i,r,u;n.save(),(-Math.PI/2>this.angle||this.angle>0)&&(Math.PI*3/2>this.angle||this.angle>Math.PI*2)?(0>=this.angle||this.angle>Math.PI/2)&&(-Math.PI*2>this.angle||this.angle>-Math.PI*3/2)?-Math.PI<this.angle&&this.angle<-Math.PI/2||Math.PI<=this.angle&&this.angle<=Math.PI*3/2?(i=-Math.cos(this.angle)*this.width,r=-Math.sin(this.angle)*this.width-Math.cos(this.angle)*this.height):(-Math.PI*3/2<this.angle&&this.angle<Math.PI||Math.PI/2<this.angle&&this.angle<Math.PI)&&(i=Math.sin(this.angle)*this.height-Math.cos(this.angle)*this.width,r=-Math.cos(this.angle)*this.height):(i=Math.sin(this.angle)*this.height,r=0):(i=0,r=-Math.sin(this.angle)*this.width),n.strokeStyle=this.fillStyle,n.fillStyle=this.fillStyle,u=this.fontSize+" "+this.fontFamily,n.font=u,n.translate(i,r),n.rotate(this.angle),n.fillText(t,e,f),n.restore()}}(jQuery),function(n){n.jqplot.CanvasAxisLabelRenderer=function(t){this.angle=0,this.axis,this.show=!0,this.showLabel=!0,this.label="",this.fontFamily='"Trebuchet MS", Arial, Helvetica, sans-serif',this.fontSize="11pt",this.fontWeight="normal",this.fontStretch=1,this.textColor="#666666",this.enableFontSupport=!0,this.pt2px=null,this._elem,this._ctx,this._plotWidth,this._plotHeight,this._plotDimensions={height:null,width:null},n.extend(!0,this,t),t.angle==null&&this.axis!="xaxis"&&this.axis!="x2axis"&&(this.angle=-90);var i={fontSize:this.fontSize,fontWeight:this.fontWeight,fontStretch:this.fontStretch,fillStyle:this.textColor,angle:this.getAngleRad(),fontFamily:this.fontFamily};this.pt2px&&(i.pt2px=this.pt2px),this._textRenderer=this.enableFontSupport?n.jqplot.support_canvas_text()?new n.jqplot.CanvasFontRenderer(i):new n.jqplot.CanvasTextRenderer(i):new n.jqplot.CanvasTextRenderer(i)},n.jqplot.CanvasAxisLabelRenderer.prototype.init=function(t){n.extend(!0,this,t),this._textRenderer.init({fontSize:this.fontSize,fontWeight:this.fontWeight,fontStretch:this.fontStretch,fillStyle:this.textColor,angle:this.getAngleRad(),fontFamily:this.fontFamily})},n.jqplot.CanvasAxisLabelRenderer.prototype.getWidth=function(n){if(this._elem)return this._elem.outerWidth(!0);var t=this._textRenderer,u=t.getWidth(n),r=t.getHeight(n);return Math.abs(Math.sin(t.angle)*r)+Math.abs(Math.cos(t.angle)*u)},n.jqplot.CanvasAxisLabelRenderer.prototype.getHeight=function(n){if(this._elem)return this._elem.outerHeight(!0);var t=this._textRenderer,u=t.getWidth(n),r=t.getHeight(n);return Math.abs(Math.cos(t.angle)*r)+Math.abs(Math.sin(t.angle)*u)},n.jqplot.CanvasAxisLabelRenderer.prototype.getAngleRad=function(){return this.angle*Math.PI/180},n.jqplot.CanvasAxisLabelRenderer.prototype.draw=function(t,i){var r,f,u;return this._elem&&(n.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==undefined&&window.G_vmlCanvasManager.uninitElement(this._elem.get(0)),this._elem.emptyForce(),this._elem=null),r=i.canvasManager.getCanvas(),this._textRenderer.setText(this.label,t),f=this.getWidth(t),u=this.getHeight(t),r.width=f,r.height=u,r.style.width=f,r.style.height=u,r=i.canvasManager.initCanvas(r),this._elem=n(r),this._elem.css({position:"absolute"}),this._elem.addClass("jqplot-"+this.axis+"-label"),r=null,this._elem},n.jqplot.CanvasAxisLabelRenderer.prototype.pack=function(){this._textRenderer.draw(this._elem.get(0).getContext("2d"),this.label)}}(jQuery),function(n){n.jqplot.CanvasAxisTickRenderer=function(t){this.mark="outside",this.showMark=!0,this.showGridline=!0,this.isMinorTick=!1,this.angle=0,this.markSize=4,this.show=!0,this.showLabel=!0,this.labelPosition="auto",this.label="",this.value=null,this._styles={},this.formatter=n.jqplot.DefaultTickFormatter,this.formatString="",this.prefix="",this.fontFamily='"Trebuchet MS", Arial, Helvetica, sans-serif',this.fontSize="10pt",this.fontWeight="normal",this.fontStretch=1,this.textColor="#666666",this.enableFontSupport=!0,this.pt2px=null,this._elem,this._ctx,this._plotWidth,this._plotHeight,this._plotDimensions={height:null,width:null},n.extend(!0,this,t);var i={fontSize:this.fontSize,fontWeight:this.fontWeight,fontStretch:this.fontStretch,fillStyle:this.textColor,angle:this.getAngleRad(),fontFamily:this.fontFamily};this.pt2px&&(i.pt2px=this.pt2px),this._textRenderer=this.enableFontSupport?n.jqplot.support_canvas_text()?new n.jqplot.CanvasFontRenderer(i):new n.jqplot.CanvasTextRenderer(i):new n.jqplot.CanvasTextRenderer(i)},n.jqplot.CanvasAxisTickRenderer.prototype.init=function(t){n.extend(!0,this,t),this._textRenderer.init({fontSize:this.fontSize,fontWeight:this.fontWeight,fontStretch:this.fontStretch,fillStyle:this.textColor,angle:this.getAngleRad(),fontFamily:this.fontFamily})},n.jqplot.CanvasAxisTickRenderer.prototype.getWidth=function(n){if(this._elem)return this._elem.outerWidth(!0);var t=this._textRenderer,u=t.getWidth(n),r=t.getHeight(n);return Math.abs(Math.sin(t.angle)*r)+Math.abs(Math.cos(t.angle)*u)},n.jqplot.CanvasAxisTickRenderer.prototype.getHeight=function(n){if(this._elem)return this._elem.outerHeight(!0);var t=this._textRenderer,u=t.getWidth(n),r=t.getHeight(n);return Math.abs(Math.cos(t.angle)*r)+Math.abs(Math.sin(t.angle)*u)},n.jqplot.CanvasAxisTickRenderer.prototype.getAngleRad=function(){return this.angle*Math.PI/180},n.jqplot.CanvasAxisTickRenderer.prototype.setTick=function(n,t,i){return this.value=n,i&&(this.isMinorTick=!0),this},n.jqplot.CanvasAxisTickRenderer.prototype.draw=function(t,i){var r,f,u;return this.label||(this.label=this.prefix+this.formatter(this.formatString,this.value)),this._elem&&(n.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==undefined&&window.G_vmlCanvasManager.uninitElement(this._elem.get(0)),this._elem.emptyForce(),this._elem=null),r=i.canvasManager.getCanvas(),this._textRenderer.setText(this.label,t),f=this.getWidth(t),u=this.getHeight(t),r.width=f,r.height=u,r.style.width=f,r.style.height=u,r.style.textAlign="left",r.style.position="absolute",r=i.canvasManager.initCanvas(r),this._elem=n(r),this._elem.css(this._styles),this._elem.addClass("jqplot-"+this.axis+"-tick"),r=null,this._elem},n.jqplot.CanvasAxisTickRenderer.prototype.pack=function(){this._textRenderer.draw(this._elem.get(0).getContext("2d"),this.label)}}(jQuery),function(n){function i(t,i){var e=t.plugins.highlighter,s=t.series[i.seriesIndex],f=s.markerRenderer,u=e.markerRenderer;u.style=f.style,u.lineWidth=f.lineWidth+e.lineWidthAdjust,u.size=f.size+e.sizeAdjust;var r=n.jqplot.getColorComponents(f.color),o=[r[0],r[1],r[2]],h=r[3]>=.6?r[3]*.6:r[3]*(2-r[3]);u.color="rgba("+o[0]+","+o[1]+","+o[2]+","+h+")",u.init(),u.draw(s.gridData[i.pointIndex][0],s.gridData[i.pointIndex][1],e.highlightCanvas._ctx)}function t(t,i,r){var d=t.plugins.highlighter,l=d._tooltipElem,nt=i.highlighter||{},o=n.extend(!0,{},d,nt),a,s,k,p,w;if(o.useAxesFormatters){var rt=i._xaxis._ticks[0].formatter,it=i._yaxis._ticks[0].formatter,tt=i._xaxis._ticks[0].formatString,g=i._yaxis._ticks[0].formatString,s,b=rt(tt,r.data[0]),h=[];for(a=1;a<o.yvalues+1;a++)h.push(it(g,r.data[a]));if(typeof o.formatString=="string")switch(o.tooltipAxes){case"both":case"xy":h.unshift(b),h.unshift(o.formatString),s=n.jqplot.sprintf.apply(n.jqplot.sprintf,h);break;case"yx":h.push(b),h.unshift(o.formatString),s=n.jqplot.sprintf.apply(n.jqplot.sprintf,h);break;case"x":s=n.jqplot.sprintf.apply(n.jqplot.sprintf,[o.formatString,b]);break;case"y":h.unshift(o.formatString),s=n.jqplot.sprintf.apply(n.jqplot.sprintf,h);break;default:h.unshift(b),h.unshift(o.formatString),s=n.jqplot.sprintf.apply(n.jqplot.sprintf,h)}else switch(o.tooltipAxes){case"both":case"xy":for(s=b,a=0;a<h.length;a++)s+=o.tooltipSeparator+h[a];break;case"yx":for(s="",a=0;a<h.length;a++)s+=h[a]+o.tooltipSeparator;s+=b;break;case"x":s=b;break;case"y":s=h.join(o.tooltipSeparator);break;default:for(s=b,a=0;a<h.length;a++)s+=o.tooltipSeparator+h[a]}}else typeof o.formatString=="string"?s=n.jqplot.sprintf.apply(n.jqplot.sprintf,[o.formatString].concat(r.data)):o.tooltipAxes=="both"||o.tooltipAxes=="xy"?s=n.jqplot.sprintf(o.tooltipFormatString,r.data[0])+o.tooltipSeparator+n.jqplot.sprintf(o.tooltipFormatString,r.data[1]):o.tooltipAxes=="yx"?s=n.jqplot.sprintf(o.tooltipFormatString,r.data[1])+o.tooltipSeparator+n.jqplot.sprintf(o.tooltipFormatString,r.data[0]):o.tooltipAxes=="x"?s=n.jqplot.sprintf(o.tooltipFormatString,r.data[0]):o.tooltipAxes=="y"&&(s=n.jqplot.sprintf(o.tooltipFormatString,r.data[1]));n.isFunction(o.tooltipContentEditor)&&(s=o.tooltipContentEditor(s,r.seriesIndex,r.pointIndex,t)),l.html(s);var c={x:r.gridData[0],y:r.gridData[1]},v=0,y=.707;i.markerRenderer.show==!0&&(v=(i.markerRenderer.size+o.sizeAdjust)/2),k=u,i.fillToZero&&i.fill&&r.data[1]<0&&(k=e);switch(k[f[o.tooltipLocation]]){case"nw":p=c.x+t._gridPadding.left-l.outerWidth(!0)-o.tooltipOffset-y*v,w=c.y+t._gridPadding.top-o.tooltipOffset-l.outerHeight(!0)-y*v;break;case"n":p=c.x+t._gridPadding.left-l.outerWidth(!0)/2,w=c.y+t._gridPadding.top-o.tooltipOffset-l.outerHeight(!0)-v;break;case"ne":p=c.x+t._gridPadding.left+o.tooltipOffset+y*v,w=c.y+t._gridPadding.top-o.tooltipOffset-l.outerHeight(!0)-y*v;break;case"e":p=c.x+t._gridPadding.left+o.tooltipOffset+v,w=c.y+t._gridPadding.top-l.outerHeight(!0)/2;break;case"se":p=c.x+t._gridPadding.left+o.tooltipOffset+y*v,w=c.y+t._gridPadding.top+o.tooltipOffset+y*v;break;case"s":p=c.x+t._gridPadding.left-l.outerWidth(!0)/2,w=c.y+t._gridPadding.top+o.tooltipOffset+v;break;case"sw":p=c.x+t._gridPadding.left-l.outerWidth(!0)-o.tooltipOffset-y*v,w=c.y+t._gridPadding.top+o.tooltipOffset+y*v;break;case"w":p=c.x+t._gridPadding.left-l.outerWidth(!0)-o.tooltipOffset-v,w=c.y+t._gridPadding.top-l.outerHeight(!0)/2;break;default:p=c.x+t._gridPadding.left-l.outerWidth(!0)-o.tooltipOffset-y*v,w=c.y+t._gridPadding.top-o.tooltipOffset-l.outerHeight(!0)-y*v}l.css("left",p),l.css("top",w),o.fadeTooltip?l.stop(!0,!0).fadeIn(o.tooltipFadeSpeed):l.show(),l=null}function r(n,r,u,f,e){var o=e.plugins.highlighter,h=e.plugins.cursor,s;o.show&&(f==null&&o.isHighlighting?(s=o.highlightCanvas._ctx,s.clearRect(0,0,s.canvas.width,s.canvas.height),o.fadeTooltip?o._tooltipElem.fadeOut(o.tooltipFadeSpeed):o._tooltipElem.hide(),o.bringSeriesToFront&&e.restorePreviousSeriesOrder(),o.isHighlighting=!1,o.currentNeighbor=null,s=null):f!=null&&e.series[f.seriesIndex].showHighlight&&!o.isHighlighting?(o.isHighlighting=!0,o.currentNeighbor=f,o.showMarker&&i(e,f),!o.showTooltip||h&&h._zoom.started||t(e,e.series[f.seriesIndex],f),o.bringSeriesToFront&&e.moveSeriesToFront(f.seriesIndex)):f!=null&&o.isHighlighting&&o.currentNeighbor!=f&&e.series[f.seriesIndex].showHighlight&&(s=o.highlightCanvas._ctx,s.clearRect(0,0,s.canvas.width,s.canvas.height),o.isHighlighting=!0,o.currentNeighbor=f,o.showMarker&&i(e,f),!o.showTooltip||h&&h._zoom.started||t(e,e.series[f.seriesIndex],f),o.bringSeriesToFront&&e.moveSeriesToFront(f.seriesIndex)))}n.jqplot.eventListenerHooks.push(["jqplotMouseMove",r]),n.jqplot.Highlighter=function(t){this.show=n.jqplot.config.enablePlugins,this.markerRenderer=new n.jqplot.MarkerRenderer({shadow:!1}),this.showMarker=!0,this.lineWidthAdjust=2.5,this.sizeAdjust=5,this.showTooltip=!0,this.tooltipLocation="nw",this.fadeTooltip=!0,this.tooltipFadeSpeed="fast",this.tooltipOffset=2,this.tooltipAxes="both",this.tooltipSeparator=", ",this.tooltipContentEditor=null,this.useAxesFormatters=!0,this.tooltipFormatString="%.5P",this.formatString=null,this.yvalues=1,this.bringSeriesToFront=!1,this._tooltipElem,this.isHighlighting=!1,this.currentNeighbor=null,n.extend(!0,this,t)};var u=["nw","n","ne","e","se","s","sw","w"],f={nw:0,n:1,ne:2,e:3,se:4,s:5,sw:6,w:7},e=["se","s","sw","w","nw","n","ne","e"];n.jqplot.Highlighter.init=function(t,i,r){var u=r||{};this.plugins.highlighter=new n.jqplot.Highlighter(u.highlighter)},n.jqplot.Highlighter.parseOptions=function(){this.showHighlight=!0},n.jqplot.Highlighter.postPlotDraw=function(){this.plugins.highlighter&&this.plugins.highlighter.highlightCanvas&&(this.plugins.highlighter.highlightCanvas.resetCanvas(),this.plugins.highlighter.highlightCanvas=null),this.plugins.highlighter&&this.plugins.highlighter._tooltipElem&&(this.plugins.highlighter._tooltipElem.emptyForce(),this.plugins.highlighter._tooltipElem=null),this.plugins.highlighter.highlightCanvas=new n.jqplot.GenericCanvas,this.eventCanvas._elem.before(this.plugins.highlighter.highlightCanvas.createElement(this._gridPadding,"jqplot-highlight-canvas",this._plotDimensions,this)),this.plugins.highlighter.highlightCanvas.setContext();var t=document.createElement("div");this.plugins.highlighter._tooltipElem=n(t),t=null,this.plugins.highlighter._tooltipElem.addClass("jqplot-highlighter-tooltip"),this.plugins.highlighter._tooltipElem.css({position:"absolute",display:"none"}),this.eventCanvas._elem.before(this.plugins.highlighter._tooltipElem)},n.jqplot.preInitHooks.push(n.jqplot.Highlighter.init),n.jqplot.preParseSeriesOptionsHooks.push(n.jqplot.Highlighter.parseOptions),n.jqplot.postDrawHooks.push(n.jqplot.Highlighter.postPlotDraw)}(jQuery),function(n){function i(t,i,r){var e=r.plugins.cursor,h="",l=!1,o,u,c;e.showTooltipGridPosition&&(h=t.x+", "+t.y,l=!0);if(e.showTooltipUnitPosition)for(u=0;u<e.tooltipAxisGroups.length;u++){o=e.tooltipAxisGroups[u],l&&(h+="<br />");if(e.useAxesFormatters){var b=r.axes[o[0]]._ticks[0].formatter,y=r.axes[o[1]]._ticks[0].formatter,w=r.axes[o[0]]._ticks[0].formatString,k=r.axes[o[1]]._ticks[0].formatString;h+=b(w,i[o[0]])+", "+y(k,i[o[1]])}else h+=n.jqplot.sprintf(e.tooltipFormatString,i[o[0]],i[o[1]]);l=!0}if(e.showTooltipDataPosition){var s=r.series,d=f(r,t.x,t.y),l=!1;for(u=0;u<s.length;u++)if(s[u].show){var g=s[u].index,nt=s[u].label.toString(),p=n.inArray(g,d.indices),v=undefined,a=undefined;if(p!=-1){c=d.data[p].data;if(e.useAxesFormatters){var b=s[u]._xaxis._ticks[0].formatter,y=s[u]._yaxis._ticks[0].formatter,w=s[u]._xaxis._ticks[0].formatString,k=s[u]._yaxis._ticks[0].formatString;v=b(w,c[0]),a=y(k,c[1])}else v=c[0],a=c[1];l&&(h+="<br />"),h+=n.jqplot.sprintf(e.tooltipFormatString,nt,v,a),l=!0}}}e._tooltipElem.html(h)}function u(t,i){var r=i.plugins.cursor,u=r.cursorCanvas._ctx,a,h,e,o;u.clearRect(0,0,u.canvas.width,u.canvas.height),r.showVerticalLine&&r.shapeRenderer.draw(u,[[t.x,0],[t.x,u.canvas.height]]),r.showHorizontalLine&&r.shapeRenderer.draw(u,[[0,t.y],[u.canvas.width,t.y]]),a=f(i,t.x,t.y);if(r.showCursorLegend)for(h=n(i.targetId+" td.jqplot-cursor-legend-label"),e=0;e<h.length;e++){var v=n(h[e]).data("seriesIndex"),s=i.series[v],y=s.label.toString(),p=n.inArray(v,a.indices),c=undefined,l=undefined;if(p!=-1){o=a.data[p].data;if(r.useAxesFormatters){var k=s._xaxis._ticks[0].formatter,d=s._yaxis._ticks[0].formatter,w=s._xaxis._ticks[0].formatString,b=s._yaxis._ticks[0].formatString;c=k(w,o[0]),l=d(b,o[1])}else c=o[0],l=o[1]}i.legend.escapeHtml?n(h[e]).text(n.jqplot.sprintf(r.cursorLegendFormatString,y,c,l)):n(h[e]).html(n.jqplot.sprintf(r.cursorLegendFormatString,y,c,l))}u=null}function f(n,t){for(var e={indices:[],data:[]},r,l,a,c,o,s,h=n.plugins.cursor,f,u=0;u<n.series.length;u++){r=n.series[u],c=r.renderer;if(r.show)for(s=h.intersectionThreshold,r.showMarker&&(s+=r.markerRenderer.size/2),f=0;f<r.gridData.length;f++)o=r.gridData[f],h.showVerticalLine&&(Math.abs(t-o[0])>s||(e.indices.push(u),e.data.push({seriesIndex:u,pointIndex:f,gridData:o,data:r.data[f]})))}return e}function t(n,t){var i=t.plugins.cursor,r=i._tooltipElem,f,u;switch(i.tooltipLocation){case"nw":f=n.x+t._gridPadding.left-r.outerWidth(!0)-i.tooltipOffset,u=n.y+t._gridPadding.top-i.tooltipOffset-r.outerHeight(!0);break;case"n":f=n.x+t._gridPadding.left-r.outerWidth(!0)/2,u=n.y+t._gridPadding.top-i.tooltipOffset-r.outerHeight(!0);break;case"ne":f=n.x+t._gridPadding.left+i.tooltipOffset,u=n.y+t._gridPadding.top-i.tooltipOffset-r.outerHeight(!0);break;case"e":f=n.x+t._gridPadding.left+i.tooltipOffset,u=n.y+t._gridPadding.top-r.outerHeight(!0)/2;break;case"se":f=n.x+t._gridPadding.left+i.tooltipOffset,u=n.y+t._gridPadding.top+i.tooltipOffset;break;case"s":f=n.x+t._gridPadding.left-r.outerWidth(!0)/2,u=n.y+t._gridPadding.top+i.tooltipOffset;break;case"sw":f=n.x+t._gridPadding.left-r.outerWidth(!0)-i.tooltipOffset,u=n.y+t._gridPadding.top+i.tooltipOffset;break;case"w":f=n.x+t._gridPadding.left-r.outerWidth(!0)-i.tooltipOffset,u=n.y+t._gridPadding.top-r.outerHeight(!0)/2;break;default:f=n.x+t._gridPadding.left+i.tooltipOffset,u=n.y+t._gridPadding.top+i.tooltipOffset}r.css("left",f),r.css("top",u),r=null}function a(n){var t=n._gridPadding,u=n.plugins.cursor,f=u._tooltipElem,i,r;switch(u.tooltipLocation){case"nw":i=t.left+u.tooltipOffset,r=t.top+u.tooltipOffset,f.css("left",i),f.css("top",r);break;case"n":i=(t.left+(n._plotDimensions.width-t.right))/2-f.outerWidth(!0)/2,r=t.top+u.tooltipOffset,f.css("left",i),f.css("top",r);break;case"ne":i=t.right+u.tooltipOffset,r=t.top+u.tooltipOffset,f.css({right:i,top:r});break;case"e":i=t.right+u.tooltipOffset,r=(t.top+(n._plotDimensions.height-t.bottom))/2-f.outerHeight(!0)/2,f.css({right:i,top:r});break;case"se":i=t.right+u.tooltipOffset,r=t.bottom+u.tooltipOffset,f.css({right:i,bottom:r});break;case"s":i=(t.left+(n._plotDimensions.width-t.right))/2-f.outerWidth(!0)/2,r=t.bottom+u.tooltipOffset,f.css({left:i,bottom:r});break;case"sw":i=t.left+u.tooltipOffset,r=t.bottom+u.tooltipOffset,f.css({left:i,bottom:r});break;case"w":i=t.left+u.tooltipOffset,r=(t.top+(n._plotDimensions.height-t.bottom))/2-f.outerHeight(!0)/2,f.css({left:i,top:r});break;default:i=t.right-u.tooltipOffset,r=t.bottom+u.tooltipOffset,f.css({right:i,bottom:r})}f=null}function l(n,t,i,r,u){var e,f;return n.preventDefault(),n.stopImmediatePropagation(),e=u.plugins.cursor,e.clickReset&&e.resetZoom(u,e),f=window.getSelection,document.selection&&document.selection.empty?document.selection.empty():f&&!f().isCollapsed&&f().collapse(),!1}function v(n,t,i,r,u){var e,f;return n.preventDefault(),n.stopImmediatePropagation(),e=u.plugins.cursor,e.dblClickReset&&e.resetZoom(u,e),f=window.getSelection,document.selection&&document.selection.empty?document.selection.empty():f&&!f().isCollapsed&&f().collapse(),!1}function p(t,i,r,u,f){var e=f.plugins.cursor,s,h,o;e.onGrid=!1;if(e.show){n(t.target).css("cursor",e.previousCursor),!e.showTooltip||e._zoom.zooming&&e.showTooltipOutsideZoom&&!e.constrainOutsideZoom||e._tooltipElem.hide(),e.zoom&&(e._zoom.gridpos=i,e._zoom.datapos=r),(e.showVerticalLine||e.showHorizontalLine)&&(s=e.cursorCanvas._ctx,s.clearRect(0,0,s.canvas.width,s.canvas.height),s=null);if(e.showCursorLegend)for(h=n(f.targetId+" td.jqplot-cursor-legend-label"),o=0;o<h.length;o++){var l=n(h[o]).data("seriesIndex"),a=f.series[l],c=a.label.toString();f.legend.escapeHtml?n(h[o]).text(n.jqplot.sprintf(e.cursorLegendFormatString,c,undefined,undefined)):n(h[o]).html(n.jqplot.sprintf(e.cursorLegendFormatString,c,undefined,undefined))}}}function y(n,r,f,e,o){var s=o.plugins.cursor;s.onGrid=!0,s.show&&(s.previousCursor=n.target.style.cursor,n.target.style.cursor=s.style,s.showTooltip&&(i(r,f,o),s.followMouse?t(r,o):a(o),s._tooltipElem.show()),(s.showVerticalLine||s.showHorizontalLine)&&u(r,o))}function c(n,r,f,e,o){var s=o.plugins.cursor;s.show&&(s.showTooltip&&(i(r,f,o),s.followMouse&&t(r,o)),(s.showVerticalLine||s.showHorizontalLine)&&u(r,o))}function e(n){for(var o=n.data.plot,r=o.eventCanvas._elem.offset(),e={x:n.pageX-r.left,y:n.pageY-r.top},f={xaxis:null,yaxis:null,x2axis:null,y2axis:null,y3axis:null,y4axis:null,y5axis:null,y6axis:null,y7axis:null,y8axis:null,y9axis:null,yMidAxis:null},s=["xaxis","yaxis","x2axis","y2axis","y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis","yMidAxis"],u=o.axes,t,i=11;i>0;i--)t=s[i-1],u[t].show&&(f[t]=u[t].series_p2u(e[t.charAt(0)]));return{offsets:r,gridPos:e,dataPos:f}}function r(n){var h=n.data.plot,r=h.plugins.cursor,f;if(r.show&&r.zoom&&r._zoom.started&&!r.zoomTarget){var o=r.zoomCanvas._ctx,v=e(n),u=v.gridPos,a=v.dataPos;r._zoom.gridpos=u,r._zoom.datapos=a,r._zoom.zooming=!0;var l=u.x,c=u.y,y=o.canvas.height,p=o.canvas.width;r.showTooltip&&!r.onGrid&&r.showTooltipOutsideZoom&&(i(u,a,h),r.followMouse&&t(u,h)),r._zoom.end=r.constrainZoomTo=="x"?[l,y]:r.constrainZoomTo=="y"?[p,c]:[l,c],f=window.getSelection,document.selection&&document.selection.empty?document.selection.empty():f&&!f().isCollapsed&&f().collapse(),s.call(r),o=null}}function o(t,i,u,f,e){var o=e.plugins.cursor,l,s,c;n(document).one("mouseup.jqplot_cursor",{plot:e},h);l=e.axes,document.onselectstart!=undefined&&(o._oldHandlers.onselectstart=document.onselectstart,document.onselectstart=function(){return!1}),document.ondrag!=undefined&&(o._oldHandlers.ondrag=document.ondrag,document.ondrag=function(){return!1}),document.onmousedown!=undefined&&(o._oldHandlers.onmousedown=document.onmousedown,document.onmousedown=function(){return!1});if(o.zoom){o.zoomProxy||(s=o.zoomCanvas._ctx,s.clearRect(0,0,s.canvas.width,s.canvas.height),s=null),o._zoom.start=o.constrainZoomTo=="x"?[i.x,0]:o.constrainZoomTo=="y"?[0,i.y]:[i.x,i.y],o._zoom.started=!0;for(c in u)o._zoom.axes.start[c]=u[c];n(document).bind("mousemove.jqplotCursor",{plot:e},r)}}function h(t){var s=t.data.plot,i=s.plugins.cursor,e;if(i.zoom&&i._zoom.zooming&&!i.zoomTarget){var f=i._zoom.gridpos.x,u=i._zoom.gridpos.y,o=i._zoom.datapos,c=i.zoomCanvas._ctx.canvas.height,h=i.zoomCanvas._ctx.canvas.width,l=s.axes;if(i.constrainOutsideZoom&&!i.onGrid){f<0?f=0:f>h&&(f=h),u<0?u=0:u>c&&(u=c);for(e in o)o[e]&&(o[e]=e.charAt(0)=="x"?l[e].series_p2u(f):l[e].series_p2u(u))}i.constrainZoomTo=="x"?u=c:i.constrainZoomTo=="y"&&(f=h),i._zoom.end=[f,u],i._zoom.gridpos={x:f,y:u},i.doZoom(i._zoom.gridpos,o,s,i)}i._zoom.started=!1,i._zoom.zooming=!1,n(document).unbind("mousemove.jqplotCursor",r),document.onselectstart!=undefined&&i._oldHandlers.onselectstart!=null&&(document.onselectstart=i._oldHandlers.onselectstart,i._oldHandlers.onselectstart=null),document.ondrag!=undefined&&i._oldHandlers.ondrag!=null&&(document.ondrag=i._oldHandlers.ondrag,i._oldHandlers.ondrag=null),document.onmousedown!=undefined&&i._oldHandlers.onmousedown!=null&&(document.onmousedown=i._oldHandlers.onmousedown,i._oldHandlers.onmousedown=null)}function s(){var t=this._zoom.start,i=this._zoom.end,n=this.zoomCanvas._ctx,f,e,r,u;i[0]>t[0]?(f=t[0],u=i[0]-t[0]):(f=i[0],u=t[0]-i[0]),i[1]>t[1]?(e=t[1],r=i[1]-t[1]):(e=i[1],r=t[1]-i[1]),n.fillStyle="rgba(0,0,0,0.2)",n.strokeStyle="#999999",n.lineWidth=1,n.clearRect(0,0,n.canvas.width,n.canvas.height),n.fillRect(0,0,n.canvas.width,n.canvas.height),n.clearRect(f,e,u,r),n.strokeRect(f,e,u,r),n=null}n.jqplot.Cursor=function(t){this.style="crosshair",this.previousCursor="auto",this.show=n.jqplot.config.enablePlugins,this.showTooltip=!0,this.followMouse=!1,this.tooltipLocation="se",this.tooltipOffset=6,this.showTooltipGridPosition=!1,this.showTooltipUnitPosition=!0,this.showTooltipDataPosition=!1,this.tooltipFormatString="%.4P, %.4P",this.useAxesFormatters=!0,this.tooltipAxisGroups=[],this.zoom=!1,this.zoomProxy=!1,this.zoomTarget=!1,this.looseZoom=!0,this.clickReset=!1,this.dblClickReset=!0,this.showVerticalLine=!1,this.showHorizontalLine=!1,this.constrainZoomTo="none",this.shapeRenderer=new n.jqplot.ShapeRenderer,this._zoom={start:[],end:[],started:!1,zooming:!1,isZoomed:!1,axes:{start:{},end:{}},gridpos:{},datapos:{}},this._tooltipElem,this.zoomCanvas,this.cursorCanvas,this.intersectionThreshold=2,this.showCursorLegend=!1,this.cursorLegendFormatString=n.jqplot.Cursor.cursorLegendFormatString,this._oldHandlers={onselectstart:null,ondrag:null,onmousedown:null},this.constrainOutsideZoom=!0,this.showTooltipOutsideZoom=!1,this.onGrid=!1,n.extend(!0,this,t)},n.jqplot.Cursor.cursorLegendFormatString="%s x:%s, y:%s",n.jqplot.Cursor.init=function(t,i,r){var f=r||{},u;this.plugins.cursor=new n.jqplot.Cursor(f.cursor),u=this.plugins.cursor,u.show&&(n.jqplot.eventListenerHooks.push(["jqplotMouseEnter",y]),n.jqplot.eventListenerHooks.push(["jqplotMouseLeave",p]),n.jqplot.eventListenerHooks.push(["jqplotMouseMove",c]),u.showCursorLegend&&(r.legend=r.legend||{},r.legend.renderer=n.jqplot.CursorLegendRenderer,r.legend.formatString=this.plugins.cursor.cursorLegendFormatString,r.legend.show=!0),u.zoom&&(n.jqplot.eventListenerHooks.push(["jqplotMouseDown",o]),u.clickReset&&n.jqplot.eventListenerHooks.push(["jqplotClick",l]),u.dblClickReset&&n.jqplot.eventListenerHooks.push(["jqplotDblClick",v])),this.resetZoom=function(){var i=this.axes,n,t;if(u.zoomProxy)t=this.plugins.cursor.zoomCanvas._ctx,t.clearRect(0,0,t.canvas.width,t.canvas.height),t=null;else{for(n in i)i[n].reset(),i[n]._ticks=[],u._zoom.axes[n]!==undefined&&(i[n]._autoFormatString=u._zoom.axes[n].tickFormatString);this.redraw()}this.plugins.cursor._zoom.isZoomed=!1,this.target.trigger("jqplotResetZoom",[this,this.plugins.cursor])},u.showTooltipDataPosition&&(u.showTooltipUnitPosition=!1,u.showTooltipGridPosition=!1,f.cursor.tooltipFormatString==undefined&&(u.tooltipFormatString=n.jqplot.Cursor.cursorLegendFormatString)))},n.jqplot.Cursor.postDraw=function(){var t=this.plugins.cursor,f,e,o,r,u,i;t.zoomCanvas&&(t.zoomCanvas.resetCanvas(),t.zoomCanvas=null),t.cursorCanvas&&(t.cursorCanvas.resetCanvas(),t.cursorCanvas=null),t._tooltipElem&&(t._tooltipElem.emptyForce(),t._tooltipElem=null),t.zoom&&(t.zoomCanvas=new n.jqplot.GenericCanvas,this.eventCanvas._elem.before(t.zoomCanvas.createElement(this._gridPadding,"jqplot-zoom-canvas",this._plotDimensions,this)),t.zoomCanvas.setContext()),f=document.createElement("div"),t._tooltipElem=n(f),f=null,t._tooltipElem.addClass("jqplot-cursor-tooltip"),t._tooltipElem.css({position:"absolute",display:"none"}),t.zoomCanvas?t.zoomCanvas._elem.before(t._tooltipElem):this.eventCanvas._elem.before(t._tooltipElem),(t.showVerticalLine||t.showHorizontalLine)&&(t.cursorCanvas=new n.jqplot.GenericCanvas,this.eventCanvas._elem.before(t.cursorCanvas.createElement(this._gridPadding,"jqplot-cursor-canvas",this._plotDimensions,this)),t.cursorCanvas.setContext());if(t.showTooltipUnitPosition)if(t.tooltipAxisGroups.length===0){for(e=this.series,r=[],i=0;i<e.length;i++)o=e[i],u=o.xaxis+","+o.yaxis,n.inArray(u,r)==-1&&r.push(u);for(i=0;i<r.length;i++)t.tooltipAxisGroups.push(r[i].split(","))}},n.jqplot.Cursor.zoomProxy=function(n,t){function f(t,r,u,f,e){i.doZoom(r,u,n,e)}function u(){n.resetZoom()}var i=n.plugins.cursor,r=t.plugins.cursor;i.zoomTarget=!0,i.zoom=!0,i.style="auto",i.dblClickReset=!1,r.zoom=!0,r.zoomProxy=!0,t.target.bind("jqplotZoom",f),t.target.bind("jqplotResetZoom",u)},n.jqplot.Cursor.prototype.resetZoom=function(n,t){var u=n.axes,f=t._zoom.axes,i,r;if(!n.plugins.cursor.zoomProxy&&t._zoom.isZoomed){for(i in u)u[i].reset(),u[i]._ticks=[],u[i]._autoFormatString=f[i].tickFormatString;n.redraw(),t._zoom.isZoomed=!1}else r=t.zoomCanvas._ctx,r.clearRect(0,0,r.canvas.width,r.canvas.height),r=null;n.target.trigger("jqplotResetZoom",[n,t])},n.jqplot.Cursor.resetZoom=function(n){n.resetZoom()},n.jqplot.Cursor.prototype.doZoom=function(t,i,r,u){var o=u,e=r.axes,w=o._zoom.axes,p=w.start,d=w.end,k,g,c,b,l,a,h,y,s,v=r.plugins.cursor.zoomCanvas._ctx,f;if(o.constrainZoomTo=="none"&&Math.abs(t.x-o._zoom.start[0])>6&&Math.abs(t.y-o._zoom.start[1])>6||o.constrainZoomTo=="x"&&Math.abs(t.x-o._zoom.start[0])>6||o.constrainZoomTo=="y"&&Math.abs(t.y-o._zoom.start[1])>6){if(!r.plugins.cursor.zoomProxy){for(f in i)o._zoom.axes[f]==undefined&&(o._zoom.axes[f]={},o._zoom.axes[f].numberTicks=e[f].numberTicks,o._zoom.axes[f].tickInterval=e[f].tickInterval,o._zoom.axes[f].daTickInterval=e[f].daTickInterval,o._zoom.axes[f].min=e[f].min,o._zoom.axes[f].max=e[f].max,o._zoom.axes[f].tickFormatString=e[f].tickOptions!=null?e[f].tickOptions.formatString:""),(o.constrainZoomTo=="none"||o.constrainZoomTo=="x"&&f.charAt(0)=="x"||o.constrainZoomTo=="y"&&f.charAt(0)=="y")&&(c=i[f],c!=null&&(c>p[f]?(l=p[f],a=c):(b=p[f]-c,l=c,a=p[f]),h=e[f],y=null,h.alignTicks&&(h.name==="x2axis"&&r.axes.xaxis.show?y=r.axes.xaxis.numberTicks:h.name.charAt(0)==="y"&&h.name!=="yaxis"&&h.name!=="yMidAxis"&&r.axes.yaxis.show&&(y=r.axes.yaxis.numberTicks)),this.looseZoom&&(e[f].renderer.constructor===n.jqplot.LinearAxisRenderer||e[f].renderer.constructor===n.jqplot.LogAxisRenderer)?(s=n.jqplot.LinearTickGenerator(l,a,h._scalefact,y),e[f].tickInset&&s[0]<e[f].min+e[f].tickInset*e[f].tickInterval&&(s[0]+=s[4],s[2]-=1),e[f].tickInset&&s[1]>e[f].max-e[f].tickInset*e[f].tickInterval&&(s[1]-=s[4],s[2]-=1),e[f].renderer.constructor===n.jqplot.LogAxisRenderer&&s[0]<e[f].min&&(s[0]+=s[4],s[2]-=1),e[f].min=s[0],e[f].max=s[1],e[f]._autoFormatString=s[3],e[f].numberTicks=s[2],e[f].tickInterval=s[4],e[f].daTickInterval=[s[4]/1e3,"seconds"]):(e[f].min=l,e[f].max=a,e[f].tickInterval=null,e[f].numberTicks=null,e[f].daTickInterval=null),e[f]._ticks=[]));v.clearRect(0,0,v.canvas.width,v.canvas.height),r.redraw(),o._zoom.isZoomed=!0,v=null}r.target.trigger("jqplotZoom",[t,i,r,u])}},n.jqplot.preInitHooks.push(n.jqplot.Cursor.init),n.jqplot.postDrawHooks.push(n.jqplot.Cursor.postDraw),n.jqplot.CursorLegendRenderer=function(t){n.jqplot.TableLegendRenderer.call(this,t),this.formatString="%s"},n.jqplot.CursorLegendRenderer.prototype=new n.jqplot.TableLegendRenderer,n.jqplot.CursorLegendRenderer.prototype.constructor=n.jqplot.CursorLegendRenderer,n.jqplot.CursorLegendRenderer.prototype.draw=function(){function c(t,i,r,u){var o=r?this.rowSpacing:"0",e=n('<tr class="jqplot-legend jqplot-cursor-legend"></tr>').appendTo(this._elem),f;e.data("seriesIndex",u),n('<td class="jqplot-legend jqplot-cursor-legend-swatch" style="padding-top:'+o+';"><div style="border:1px solid #cccccc;padding:0.2em;"><div class="jqplot-cursor-legend-swatch" style="background-color:'+i+';"></div></div></td>').appendTo(e),f=n('<td class="jqplot-legend jqplot-cursor-legend-label" style="vertical-align:middle;padding-top:'+o+';"></td>'),f.appendTo(e),f.data("seriesIndex",u),this.escapeHtml?f.text(t):f.html(t),e=null,f=null}var u,t,s,i,r,h,o,f,e;this._elem&&(this._elem.emptyForce(),this._elem=null);if(this.show){for(u=this._series,s=document.createElement("div"),this._elem=n(s),s=null,this._elem.addClass("jqplot-legend jqplot-cursor-legend"),this._elem.css("position","absolute"),i=!1,r=0;r<u.length;r++){t=u[r];if(t.show&&t.showLabel)for(h=n.jqplot.sprintf(this.formatString,t.label.toString()),h&&(o=t.color,t._stack&&!t.fill&&(o=""),c.call(this,h,o,i,r),i=!0),f=0;f<n.jqplot.addLegendRowHooks.length;f++)e=n.jqplot.addLegendRowHooks[f].call(this,t),e&&(c.call(this,e.label,e.color,i),i=!0)}u=t=null,delete u,delete t}return this._elem}}(jQuery),function(n){function t(t){if(typeof t.data!="string")return;var r=t.handler,i=t.data.toLowerCase().split(" ");t.handler=function(t){var o,h;if(this!==t.target&&(/textarea|select/i.test(t.target.nodeName)||t.target.type==="text"))return;var f=t.type!=="keypress"&&n.hotkeys.specialKeys[t.which],s=String.fromCharCode(t.which).toLowerCase(),c,u="",e={};for(t.altKey&&f!=="alt"&&(u+="alt+"),t.ctrlKey&&f!=="ctrl"&&(u+="ctrl+"),t.metaKey&&!t.ctrlKey&&f!=="meta"&&(u+="meta+"),t.shiftKey&&f!=="shift"&&(u+="shift+"),f?e[u+f]=!0:(e[u+s]=!0,e[u+n.hotkeys.shiftNums[s]]=!0,u==="shift+"&&(e[n.hotkeys.shiftNums[s]]=!0)),o=0,h=i.length;o<h;o++)if(e[i[o]])return r.apply(this,arguments)}}n.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},shiftNums:{"`":"~","1":"!","2":"@","3":"#","4":"$","5":"%","6":"^","7":"&","8":"*","9":"(","0":")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}},n.each(["keydown","keyup","keypress"],function(){n.event.special[this]={add:t}})}(jQuery);
/*!
* JSHint, by JSHint Community.
*
* Licensed under the same slightly modified MIT license that JSLint is.
* It stops evil-doers everywhere.
*
* JSHint is a derivative work of JSLint:
*
*   Copyright (c) 2002 Douglas Crockford  (www.JSLint.com)
*
*   Permission is hereby granted, free of charge, to any person obtaining
*   a copy of this software and associated documentation files (the "Software"),
*   to deal in the Software without restriction, including without limitation
*   the rights to use, copy, modify, merge, publish, distribute, sublicense,
*   and/or sell copies of the Software, and to permit persons to whom
*   the Software is furnished to do so, subject to the following conditions:
*
*   The above copyright notice and this permission notice shall be included
*   in all copies or substantial portions of the Software.
*
*   The Software shall be used for Good, not Evil.
*
*   THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
*   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
*   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
*   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
*   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
*   FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
*   DEALINGS IN THE SOFTWARE.
*
* JSHint was forked from 2010-12-16 edition of JSLint.
*
*/
JSHINT=function(){"use strict";function vr(){}function tt(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function g(n,t){var i;for(i in t)tt(t,i)&&(n[i]=t[i])}function gr(){r.couch&&g(v,cu),r.rhino&&g(v,ku),r.prototypejs&&g(v,tf),r.node&&g(v,gu),r.devel&&g(v,vu),r.dojo&&g(v,pu),r.browser&&g(v,lu),r.nonstandard&&g(v,uu),r.jquery&&g(v,yu),r.mootools&&g(v,wu),r.wsh&&g(v,su),r.esnext&&ru(),r.globalstrict&&r.strict!==!1&&(r.strict=!0)}function sr(n,t,i){var r=Math.floor(t/it.length*100);throw{name:"JSHintError",line:t,character:i,message:n+" ("+r+"% scanned).",raw:n};}function dr(n,t,i,r){return JSHINT.undefs.push([n,t,i,r])}function i(i,u,f,e,o,s){var l,h,c;return u=u||n,u.id==="(end)"&&(u=t),h=u.line||0,l=u.from||0,c={id:"(error)",raw:i,evidence:it[h-1]||"",line:h,character:l,a:f,b:e,c:o,d:s},c.reason=i.supplant(c),JSHINT.errors.push(c),r.passfail&&sr("Stopping. ",h,l),ur+=1,ur<r.maxerr||sr("Too many errors.",h,l),c}function e(n,t,r,u,f,e,o){return i(n,{line:t,from:r},u,f,e,o)}function o(n,t,r,u,f,e){var o=i(n,t,r,u,f,e)}function et(n,t,i,r,u,f,e){return o(n,{line:t,from:i},r,u,f,e)}function bt(t,f){t==="hasOwnProperty"&&i("'hasOwnProperty' is a really bad name."),tt(u,t)&&!u["(global)"]&&(u[t]===!0?r.latedef&&i("'{a}' was used before it was defined.",n,t):r.shadow||f==="exception"||i("'{a}' is already defined.",n,t)),u[t]=f,u["(global)"]?(di[t]=u,tt(wt,t)&&(r.latedef&&i("'{a}' was used before it was defined.",n,t),delete wt[t])):c[t]=u}function nf(){var i,e,h,s=n.value,t,f;switch(s){case"*/":o("Unbegun comment.");break;case"/*members":case"/*member":s="/*members",gt||(gt={}),e=gt;break;case"/*jshint":case"/*jslint":e=r,h=au;break;case"/*global":e=v;break;default:o("What?")}t=at.token();n:for(;;){for(;;){if(t.type==="special"&&t.value==="*/")break n;if(t.id!=="(endline)"&&t.id!==",")break;t=at.token()}t.type!=="(string)"&&t.type!=="(identifier)"&&s!=="/*members"&&o("Bad option.",t),f=at.token(),f.id===":"?(f=at.token(),e===gt&&o("Expected '{a}' and instead saw '{b}'.",t,"*/",":"),t.value==="indent"&&(s==="/*jshint"||s==="/*jslint")?(i=+f.value,typeof i=="number"&&isFinite(i)&&i>0&&Math.floor(i)===i||o("Expected a small integer and instead saw '{a}'.",f,f.value),e.white=!0,e.indent=i):t.value==="maxerr"&&(s==="/*jshint"||s==="/*jslint")?(i=+f.value,typeof i=="number"&&isFinite(i)&&i>0&&Math.floor(i)===i||o("Expected a small integer and instead saw '{a}'.",f,f.value),e.maxerr=i):t.value==="maxlen"&&(s==="/*jshint"||s==="/*jslint")?(i=+f.value,typeof i=="number"&&isFinite(i)&&i>0&&Math.floor(i)===i||o("Expected a small integer and instead saw '{a}'.",f,f.value),e.maxlen=i):t.value==="validthis"?u["(global)"]?o("Option 'validthis' can't be used in a global scope."):f.value==="true"||f.value==="false"?e[t.value]=f.value==="true":o("Bad option value.",f):f.value==="true"?e[t.value]=!0:f.value==="false"?e[t.value]=!1:o("Bad option value.",f),t=at.token()):((s==="/*jshint"||s==="/*jslint")&&o("Missing option value.",t),e[t.value]=!1,t=f)}h&&gr()}function ut(n){var r=n||0,t=0,i;while(t<=r)i=vi[t],i||(i=vi[t]=at.token()),t+=1;return i}function f(r,u){switch(t.id){case"(number)":n.id==="."&&i("A dot following a number can be confused with a decimal point.",t);break;case"-":(n.id==="-"||n.id==="--")&&i("Confusing minusses.");break;case"+":(n.id==="+"||n.id==="++")&&i("Confusing plusses.")}for((t.type==="(string)"||t.identifier)&&(kt=t.value),r&&n.id!==r&&(u?n.id==="(end)"?i("Unmatched '{a}'.",u,u.id):i("Expected '{a}' to match '{b}' from line {c} and instead saw '{d}'.",n,r,u.id,u.line,n.value):(n.type!=="(identifier)"||n.value!==r)&&i("Expected '{a}' and instead saw '{b}'.",n,r,n.value)),p=t,t=n;;){n=vi.shift()||at.token();if(n.id==="(end)"||n.id==="(error)")return;if(n.type==="special")nf();else if(n.id!=="(endline)")break}}function s(r,e){var s,h=!1;n.id==="(end)"&&o("Unexpected early end of program.",t),f(),e&&(kt="anonymous",u["(verb)"]=t.value);if(e===!0&&t.fud)s=t.fud();else{if(t.nud)s=t.nud();else{if(n.type==="(number)"&&t.id===".")return i("A leading decimal point can be confused with a dot: '.{a}'.",t,n.value),f(),t;o("Expected an identifier and instead saw '{a}'.",t,t.id)}while(r<n.lbp)h=t.value==="Array",f(),h&&t.id==="("&&n.id===")"&&i("Use the array literal notation [].",t),t.led?s=t.led(s):o("Expected an operator and instead saw '{a}'.",t,t.id)}return s}function ot(u,f){u=u||t,f=f||n,r.white&&u.character!==f.from&&u.line===f.line&&(u.from+=u.character-u.from,i("Unexpected space after '{a}'.",u,u.value))}function gi(u,f){u=u||t,f=f||n,r.white&&(u.character!==f.from||u.line!==f.line)&&i("Unexpected space before '{a}'.",f,f.value)}function w(i,u){i=i||t,u=u||n,r.white&&!i.comment&&i.line===u.line&&ot(i,u)}function h(u,f){r.white&&(u=u||t,f=f||n,u.line===f.line&&u.character===f.from&&(u.from+=u.character-u.from,i("Missing space after '{a}'.",u,u.value)))}function tu(u,f){u=u||t,f=f||n,r.laxbreak||u.line===f.line?r.white&&(u=u||t,f=f||n,u.character===f.from&&(u.from+=u.character-u.from,i("Missing space after '{a}'.",u,u.value))):i("Bad line breaking before '{a}'.",f,f.id)}function ft(t){var u;r.white&&n.id!=="(end)"&&(u=a+(t||0),n.from!==u&&i("Expected '{a}' to have an indentation at {b} instead at {c}.",n,n.value,u,n.from))}function ti(r){r=r||t,r.line!==n.line&&i("Line breaking error '{a}'.",r,r.value)}function rt(){t.line!==n.line?r.laxcomma||(rt.first&&(i("Comma warnings can be turned off with 'laxcomma'"),rt.first=!1),i("Bad line breaking before '{a}'.",t,n.id)):!t.comment&&t.character!==n.from&&r.white&&(t.from+=t.character-t.from,i("Unexpected space after '{a}'.",t,t.value)),f(","),h(t,n)}function yt(n,t){var i=d[n];return i&&typeof i=="object"||(d[n]=i={id:n,lbp:t,value:n}),i}function y(n){return yt(n,0)}function ct(n,t){var i=y(n);return i.identifier=i.reserved=!0,i.fud=t,i}function ii(n,t){var i=ct(n,t);return i.block=!0,i}function nr(n){var t=n.id.charAt(0);return(t<"a"||t>"z")&&(t<"A"||t>"Z")||(n.identifier=n.reserved=!0),n}function k(n,t){var u=yt(n,150);return nr(u),u.nud=typeof t=="function"?t:function(){return this.right=s(150),this.arity="unary",(this.id==="++"||this.id==="--")&&(r.plusplus?i("Unexpected use of '{a}'.",this,this.id):(!this.right.identifier||this.right.reserved)&&this.right.id!=="."&&this.right.id!=="["&&i("Bad operand.",this)),this},u}function li(n,t){var i=y(n);return i.type=n,i.nud=t,i}function l(n,t){var i=li(n,t);return i.identifier=i.reserved=!0,i}function lt(n,t){return l(n,function(){return typeof t=="function"&&t(this),this})}function b(r,u,f,e){var o=yt(r,f);return nr(o),o.led=function(o){return e||(tu(p,t),h(t,n)),r==="in"&&o.id==="!"&&i("Confusing use of '{a}'.",o,"!"),typeof u=="function"?u(o,this):(this.left=o,this.right=s(f),this)},o}function pt(r,u){var f=yt(r,100);return f.led=function(r){tu(p,t),h(t,n);var f=s(100);return r&&r.id==="NaN"||f&&f.id==="NaN"?i("Use the isNaN function to compare with NaN.",this):u&&u.apply(this,[r,f]),r.id==="!"&&i("Confusing use of '{a}'.",r,"!"),f.id==="!"&&i("Confusing use of '{a}'.",f,"!"),this.left=r,this.right=f,this},f}function ci(n){return n&&(n.type==="(number)"&&+n.value==0||n.type==="(string)"&&n.value===""||n.type==="null"&&!r.eqnull||n.type==="true"||n.type==="false"||n.type==="undefined")}function ni(n){return yt(n,20).exps=!0,b(n,function(n,f){var e;f.left=n,v[n.value]===!1&&c[n.value]["(global)"]===!0?i("Read only.",n):n["function"]&&i("'{a}' is a function.",n,n.value);if(n){r.esnext&&u[n.value]==="const"&&i("Attempting to override '{a}' which is a constant",n,n.value);if(n.id==="."||n.id==="[")return n.left&&n.left.value!=="arguments"||i("Bad assignment.",f),f.right=s(19),f;if(n.identifier&&!n.reserved)return u[n.value]==="exception"&&i("Do not assign to the exception parameter.",n),f.right=s(19),f;n===d["function"]&&i("Expected an identifier in an assignment and instead saw a function invocation.",t)}o("Bad assignment.",f)},20)}function ri(n,t,u){var f=yt(n,u);return nr(f),f.led=typeof t=="function"?t:function(n){return r.bitwise&&i("Unexpected use of '{a}'.",this,this.id),this.left=n,this.right=s(u),this},f}function ui(u){return yt(u,20).exps=!0,b(u,function(u,f){r.bitwise&&i("Unexpected use of '{a}'.",f,f.id),h(p,t),h(t,n);if(u)return u.id==="."||u.id==="["||u.identifier&&!u.reserved?(s(19),f):(u===d["function"]&&i("Expected an identifier in an assignment, and instead saw a function invocation.",t),f);o("Bad assignment.",f)},20)}function pr(n){var u=yt(n,150);return u.led=function(n){return r.plusplus?i("Unexpected use of '{a}'.",this,this.id):(!n.identifier||n.reserved)&&n.id!=="."&&n.id!=="["&&i("Bad operand.",this),this.left=n,this},u}function hr(u){if(n.identifier)return f(),t.reserved&&!r.es5&&(u&&t.value==="undefined"||i("Expected an identifier and instead saw '{a}' (a reserved word).",t,t.id)),t.value}function ei(r){var u=hr(r);if(u)return u;t.id==="function"&&n.id==="("?i("Missing name in function declaration."):o("Expected an identifier and instead saw '{a}'.",n,n.value)}function ai(t){var f=0,u;if(n.id!==";"||bi)return;for(;;){u=ut(f);if(u.reach)return;if(u.id!=="(endline)"){if(u.id==="function"){if(!r.latedef)break;i("Inner functions should be listed at the top of the outer function.",u);break}i("Unreachable '{a}' after '{b}'.",u,u.value,t);break}f+=1}}function ar(u){var y=a,l,v=c,o=n;if(o.id===";"){f(";");return}return o.identifier&&!o.reserved&&ut().id===":"&&(f(),f(":"),c=Object.create(v),bt(o.value,"label"),n.labelled||i("Label '{a}' on {b} statement.",n,o.value,n.value),pi.test(o.value+":")&&i("Label '{a}' looks like a javascript url.",o,o.value),n.label=o.value,o=n),u||ft(),l=s(0,!0),o.block||(r.expr||l&&l.exps?r.nonew&&l.id==="("&&l.left.id==="new"&&i("Do not use 'new' for side effects."):i("Expected an assignment or function call and instead saw an expression.",t),n.id!==";"?r.asi||r.lastsemic&&n.id==="}"&&n.line===t.line||e("Missing semicolon.",t.line,t.character):(ot(t,n),f(";"),h(t,n))),a=y,c=v,l}function wi(t){var u=[],e,r;while(!n.reach&&n.id!=="(end)")n.id===";"?(r=ut(),r&&r.id==="("||i("Unnecessary semicolon."),f(";")):u.push(ar(t===n.line));return u}function yr(){for(var o,e,u;;){if(n.id==="(string)"){e=ut(0);if(e.id==="(endline)"){o=1;do u=ut(o),o=o+1;while(u.id==="(endline)");if(u.id!==";"){if(u.id!=="(string)"&&u.id!=="(number)"&&u.id!=="(regexp)"&&u.identifier!==!0&&u.id!=="}")break;i("Missing semicolon.",n)}else e=u}else if(e.id==="}")i("Missing semicolon.",e);else if(e.id!==";")break;ft(),f(),nt[t.value]&&i('Unnecessary directive "{a}".',t,t.value),t.value==="use strict"&&(r.newcap=!0,r.undef=!0),nt[t.value]=!0,e.id===";"&&f(";");continue}break}}function st(e,s,l){var v,d=si,k=a,y,g=c,b,p,w;si=e,e&&r.funcscope||(c=Object.create(c)),h(t,n),b=n;if(n.id==="{"){f("{"),p=t.line;if(n.id!=="}"){a+=r.indent;while(!e&&n.from>a)a+=r.indent;if(l){y={};for(w in nt)tt(nt,w)&&(y[w]=nt[w]);yr(),r.strict&&u["(context)"]["(global)"]&&(y["use strict"]||nt["use strict"]||i('Missing "use strict" statement.'))}v=wi(p),l&&(nt=y),a-=r.indent,p!==n.line&&ft()}else p!==n.line&&ft();f("}",b),a=k}else e?((!s||r.curly)&&i("Expected '{a}' and instead saw '{b}'.",n,"{",n.value),bi=!0,a+=r.indent,v=[ar(n.line===t.line)],a-=r.indent,bi=!1):o("Expected '{a}' and instead saw '{b}'.",n,"{",n.value);return u["(verb)"]=null,e&&r.funcscope||(c=g),si=d,e&&r.noempty&&(!v||v.length===0)&&i("Empty block."),v}function ir(n){gt&&typeof gt[n]!="boolean"&&i("Unexpected /*member '{a}'.",t,n),typeof dt[n]=="number"?dt[n]+=1:dt[n]=1}function tr(n){var r=n.value,i=n.line,t=wt[r];typeof t=="function"&&(t=!1),t?t[t.length-1]!==i&&t.push(i):(t=[i],wt[r]=t)}function er(){var t=hr(!0);return t||(n.id==="(string)"?(t=n.value,f()):n.id==="(number)"&&(t=n.value.toString(),f())),t}function fu(){var i,u=n,r=[];f("("),w();if(n.id===")"){f(")");return}for(;;){i=ei(!0),r.push(i),bt(i,"parameter");if(n.id===",")rt();else return f(")",u),w(p,t),r}}function yi(i,f){var e,s=r,o=c;return r=Object.create(r),c=Object.create(c),u={"(name)":i||'"'+kt+'"',"(line)":n.line,"(context)":u,"(breakage)":0,"(loopage)":0,"(scope)":c,"(statement)":f},e=u,t.funct=u,hi.push(u),i&&bt(i,"function"),u["(params)"]=fu(),st(!1,!1,!0),c=o,r=s,u["(last)"]=t.line,u=u["(context)"],e}function fr(){function e(){var u={},e=n;f("{");if(n.id!=="}")for(;;){if(n.id==="(end)")o("Missing '}' to match '{' from line {a}.",n,e.line);else if(n.id==="}"){i("Unexpected comma.",t);break}else n.id===","?o("Unexpected comma.",n):n.id!=="(string)"&&i("Expected a string and instead saw {a}.",n,n.value);u[n.value]===!0?i("Duplicate key '{a}'.",n,n.value):(n.value!=="__proto__"||r.proto)&&(n.value!=="__iterator__"||r.iterator)?u[n.value]=!0:i("The '{a}' key may produce unexpected results.",n,n.value),f(),f(":"),fr();if(n.id!==",")break;f(",")}f("}")}function u(){var r=n;f("[");if(n.id!=="]")for(;;){if(n.id==="(end)")o("Missing ']' to match '[' from line {a}.",n,r.line);else if(n.id==="]"){i("Unexpected comma.",t);break}else n.id===","&&o("Unexpected comma.",n);fr();if(n.id!==",")break;f(",")}f("]")}switch(n.id){case"{":e();break;case"[":u();break;case"true":case"false":case"null":case"(number)":case"(string)":f();break;case"-":f("-"),t.character!==n.from&&i("Unexpected space after '-'.",t),ot(t,n),f("(number)");break;default:o("Expected a JSON value.",n)}}var kt,hu={"<":!0,"<=":!0,"==":!0,"===":!0,"!==":!0,"!=":!0,">":!0,">=":!0,"+":!0,"-":!0,"*":!0,"/":!0,"%":!0},au={asi:!0,bitwise:!0,boss:!0,browser:!0,couch:!0,curly:!0,debug:!0,devel:!0,dojo:!0,eqeqeq:!0,eqnull:!0,es5:!0,esnext:!0,evil:!0,expr:!0,forin:!0,funcscope:!0,globalstrict:!0,immed:!0,iterator:!0,jquery:!0,lastsemic:!0,latedef:!0,laxbreak:!0,laxcomma:!0,loopfunc:!0,mootools:!0,multistr:!0,newcap:!0,noarg:!0,node:!0,noempty:!0,nonew:!0,nonstandard:!0,nomen:!0,onevar:!0,onecase:!0,passfail:!0,plusplus:!0,proto:!0,prototypejs:!0,regexdash:!0,regexp:!0,rhino:!0,undef:!0,scripturl:!0,shadow:!0,smarttabs:!0,strict:!0,sub:!0,supernew:!0,trailing:!0,validthis:!0,white:!0,wsh:!0},lu={ArrayBuffer:!1,ArrayBufferView:!1,Audio:!1,addEventListener:!1,applicationCache:!1,blur:!1,clearInterval:!1,clearTimeout:!1,close:!1,closed:!1,DataView:!1,defaultStatus:!1,document:!1,event:!1,FileReader:!1,Float32Array:!1,Float64Array:!1,FormData:!1,focus:!1,frames:!1,getComputedStyle:!1,HTMLElement:!1,HTMLAnchorElement:!1,HTMLBaseElement:!1,HTMLBlockquoteElement:!1,HTMLBodyElement:!1,HTMLBRElement:!1,HTMLButtonElement:!1,HTMLCanvasElement:!1,HTMLDirectoryElement:!1,HTMLDivElement:!1,HTMLDListElement:!1,HTMLFieldSetElement:!1,HTMLFontElement:!1,HTMLFormElement:!1,HTMLFrameElement:!1,HTMLFrameSetElement:!1,HTMLHeadElement:!1,HTMLHeadingElement:!1,HTMLHRElement:!1,HTMLHtmlElement:!1,HTMLIFrameElement:!1,HTMLImageElement:!1,HTMLInputElement:!1,HTMLIsIndexElement:!1,HTMLLabelElement:!1,HTMLLayerElement:!1,HTMLLegendElement:!1,HTMLLIElement:!1,HTMLLinkElement:!1,HTMLMapElement:!1,HTMLMenuElement:!1,HTMLMetaElement:!1,HTMLModElement:!1,HTMLObjectElement:!1,HTMLOListElement:!1,HTMLOptGroupElement:!1,HTMLOptionElement:!1,HTMLParagraphElement:!1,HTMLParamElement:!1,HTMLPreElement:!1,HTMLQuoteElement:!1,HTMLScriptElement:!1,HTMLSelectElement:!1,HTMLStyleElement:!1,HTMLTableCaptionElement:!1,HTMLTableCellElement:!1,HTMLTableColElement:!1,HTMLTableElement:!1,HTMLTableRowElement:!1,HTMLTableSectionElement:!1,HTMLTextAreaElement:!1,HTMLTitleElement:!1,HTMLUListElement:!1,HTMLVideoElement:!1,history:!1,Int16Array:!1,Int32Array:!1,Int8Array:!1,Image:!1,length:!1,localStorage:!1,location:!1,moveBy:!1,moveTo:!1,name:!1,navigator:!1,onbeforeunload:!0,onblur:!0,onerror:!0,onfocus:!0,onload:!0,onresize:!0,onunload:!0,open:!1,openDatabase:!1,opener:!1,Option:!1,parent:!1,print:!1,removeEventListener:!1,resizeBy:!1,resizeTo:!1,screen:!1,scroll:!1,scrollBy:!1,scrollTo:!1,sessionStorage:!1,setInterval:!1,setTimeout:!1,SharedWorker:!1,status:!1,top:!1,Uint16Array:!1,Uint32Array:!1,Uint8Array:!1,WebSocket:!1,window:!1,Worker:!1,XMLHttpRequest:!1,XPathEvaluator:!1,XPathException:!1,XPathExpression:!1,XPathNamespace:!1,XPathNSResolver:!1,XPathResult:!1},cu={require:!1,respond:!1,getRow:!1,emit:!1,send:!1,start:!1,sum:!1,log:!1,exports:!1,module:!1,provides:!1},vu={alert:!1,confirm:!1,console:!1,Debug:!1,opera:!1,prompt:!1},pu={dojo:!1,dijit:!1,dojox:!1,define:!1,require:!1},eu={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"/":"\\/","\\":"\\\\"},u,oi=["closure","exception","global","label","outer","unused","var"],hi,di,wt,si,a,vt,yu={$:!1,jQuery:!1},it,vi,dt,gt,wu={$:!1,$$:!1,Assets:!1,Browser:!1,Chain:!1,Class:!1,Color:!1,Cookie:!1,Core:!1,Document:!1,DomReady:!1,DOMReady:!1,Drag:!1,Element:!1,Elements:!1,Event:!1,Events:!1,Fx:!1,Group:!1,Hash:!1,HtmlTable:!1,Iframe:!1,IframeShim:!1,InputValidator:!1,instanceOf:!1,Keyboard:!1,Locale:!1,Mask:!1,MooTools:!1,Native:!1,Options:!1,OverText:!1,Request:!1,Scroller:!1,Slick:!1,Slider:!1,Sortables:!1,Spinner:!1,Swiff:!1,Tips:!1,Type:!1,typeOf:!1,URI:!1,Window:!1},n,gu={__filename:!1,__dirname:!1,Buffer:!1,console:!1,exports:!1,GLOBAL:!1,global:!1,module:!1,process:!1,require:!1,setTimeout:!1,clearTimeout:!1,setInterval:!1,clearInterval:!1},bi,r,v,cr,p,tf={$:!1,$$:!1,$A:!1,$F:!1,$H:!1,$R:!1,$break:!1,$continue:!1,$w:!1,Abstract:!1,Ajax:!1,Class:!1,Enumerable:!1,Element:!1,Event:!1,Field:!1,Form:!1,Hash:!1,Insertion:!1,ObjectRange:!1,PeriodicalExecuter:!1,Position:!1,Prototype:!1,Selector:!1,Template:!1,Toggle:!1,Try:!1,Autocompleter:!1,Builder:!1,Control:!1,Draggable:!1,Draggables:!1,Droppables:!1,Effect:!1,Sortable:!1,SortableObserver:!1,Sound:!1,Scriptaculous:!1},ku={defineClass:!1,deserialize:!1,gc:!1,help:!1,importPackage:!1,java:!1,load:!1,loadClass:!1,print:!1,quit:!1,readFile:!1,readUrl:!1,runCommand:!1,seal:!1,serialize:!1,spawn:!1,sync:!1,toint32:!1,version:!1},c,du,bu={Array:!1,Boolean:!1,Date:!1,decodeURI:!1,decodeURIComponent:!1,encodeURI:!1,encodeURIComponent:!1,Error:!1,eval:!1,EvalError:!1,Function:!1,hasOwnProperty:!1,isFinite:!1,isNaN:!1,JSON:!1,Math:!1,Number:!1,Object:!1,parseInt:!1,parseFloat:!1,RangeError:!1,ReferenceError:!1,RegExp:!1,String:!1,SyntaxError:!1,TypeError:!1,URIError:!1},uu={escape:!1,unescape:!1},rf={E:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,MAX_VALUE:!0,MIN_VALUE:!0,NEGATIVE_INFINITY:!0,PI:!0,POSITIVE_INFINITY:!0,SQRT1_2:!0,SQRT2:!0},nt,d={},lr,t,ki,ru,ur,su={ActiveXObject:!0,Enumerator:!0,GetObject:!0,ScriptEngine:!0,ScriptEngineBuildVersion:!0,ScriptEngineMajorVersion:!0,ScriptEngineMinorVersion:!0,VBArray:!0,WSH:!0,WScript:!0,XDomainRequest:!0},ou,iu,kr,br,wr,nu,rr,pi,or,at,fi,ht;return function(){ou=/@cc|<\/?|script|\]\s*\]|<\s*!|&lt/i,iu=/[\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/,kr=/^\s*([(){}\[.,:;'"~\?\]#@]|==?=?|\/(\*(jshint|jslint|members?|global)?|=|\/)?|\*[\/=]?|\+(?:=|\++)?|-(?:=|-+)?|%=?|&[&=]?|\|[|=]?|>>?>?=?|<([\/=!]|\!(\[|--)?|<=?)?|\^=?|\!=?=?|[a-zA-Z_$][a-zA-Z0-9_$]*|[0-9]+([xX][0-9a-fA-F]+|\.[0-9]*)?([eE][+\-]?[0-9]+)?)/,br=/[\u0000-\u001f&<"\/\\\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/,wr=/[\u0000-\u001f&<"\/\\\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,nu=/\*\/|\/\*/,rr=/^([a-zA-Z_$][a-zA-Z0-9_$]*)$/,pi=/^(?:javascript|jscript|ecmascript|vbscript|mocha|livescript)\s*:/i,or=/^\s*\/\*\s*falls\sthrough\s*\*\/\s*$/}(),typeof Array.isArray!="function"&&(Array.isArray=function(n){return Object.prototype.toString.apply(n)==="[object Array]"}),typeof Object.create!="function"&&(Object.create=function(n){return vr.prototype=n,new vr}),typeof Object.keys!="function"&&(Object.keys=function(n){var i=[],t;for(t in n)tt(n,t)&&i.push(t);return i}),typeof String.prototype.entityify!="function"&&(String.prototype.entityify=function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}),typeof String.prototype.isAlpha!="function"&&(String.prototype.isAlpha=function(){return this>="a"&&this<="z￿"||this>="A"&&this<="Z￿"}),typeof String.prototype.isDigit!="function"&&(String.prototype.isDigit=function(){return this>="0"&&this<="9"}),typeof String.prototype.supplant!="function"&&(String.prototype.supplant=function(n){return this.replace(/\{([^{}]*)\}/g,function(t,i){var r=n[i];return typeof r=="string"||typeof r=="number"?r:t})}),typeof String.prototype.name!="function"&&(String.prototype.name=function(){return rr.test(this)?this:br.test(this)?'"'+this.replace(wr,function(n){var t=eu[n];return t?t:"\\u"+("0000"+n.charCodeAt().toString(16)).slice(-4)})+'"':'"'+this+'"'}),at=function at(){function s(){var t,f;return i>=it.length?!1:(u=1,n=it[i],i+=1,t=r.smarttabs?n.search(/ \t/):n.search(/ \t|\t /),t<0||e("Mixed spaces and tabs.",i,t+1),n=n.replace(/\t/g,lr),t=n.search(iu),t<0||e("Unsafe character.",i,t),r.maxlen&&r.maxlen<n.length&&e("Line too long.",i,n.length),f=/\s+$/.test(n),r.trailing&&f&&!/^\s+$/.test(n)&&e("Trailing whitespace.",i,f),!0)}function o(n,o){var h,s;return s=n==="(color)"||n==="(range)"?{type:n}:n==="(punctuator)"||n==="(identifier)"&&tt(d,o)?d[o]||d["(error)"]:d[n],s=Object.create(s),(n==="(string)"||n==="(range)")&&!r.scripturl&&pi.test(o)&&e("Script URL.",i,f),n==="(identifier)"&&(s.identifier=!0,o!=="__proto__"||r.proto?o!=="__iterator__"||r.iterator?r.nomen&&(o.charAt(0)==="_"||o.charAt(o.length-1)==="_")&&(r.node&&t.id!=="."&&(o==="__dirname"||o==="__filename")||e("Unexpected {a} in '{b}'.",i,f,"dangling '_'",o)):e("'{a}' is only available in JavaScript 1.7.",i,f,o):e("The '{a}' property is deprecated.",i,f,o)),s.value=o,s.line=i,s.character=u,s.from=f,h=s.id,h!=="(endline)"&&(cr=h&&("(,=:[!&|?{};".indexOf(h.charAt(h.length-1))>=0||h==="return"||h==="case")),s}var u,f,i,n;return{init:function(n){it=typeof n=="string"?n.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n"):n,it[0]&&it[0].substr(0,2)==="#!"&&(it[0]=""),i=0,s(),f=1},range:function(t,r){var s,h="";for(f=u,n.charAt(0)!==t&&et("Expected '{a}' and instead saw '{b}'.",i,u,t,n.charAt(0));;){n=n.slice(1),u+=1,s=n.charAt(0);switch(s){case"":et("Missing '{a}'.",i,u,s);break;case r:return n=n.slice(1),u+=1,o("(range)",h);case"\\":e("Unexpected '{a}'.",i,u,s)}h+=s}},token:function(){function it(t){var r=t.exec(n),i;if(r)return h=r[0].length,i=r[1],c=i.charAt(0),n=n.substr(h),f=u+h-i.length,u+=h,i}function tt(t){function p(t){var r=parseInt(n.substr(c+1,t),16);c+=t,r<32||r>126||r===34||r===92||r===39||e("Unnecessary escapement.",i,u),u+=t,h=String.fromCharCode(r)}var h,c,y="",a=!1,l,v;vt&&t!=='"'&&e("Strings must use doublequote.",i,u),c=0;n:for(;;){while(c>=n.length){c=0,l=i,v=f;if(!s()){et("Unclosed string.",l,v);break n}a?a=!1:e("Unclosed string.",l,v)}h=n.charAt(c);if(h===t)return u+=1,n=n.substr(c+1),o("(string)",y,t);if(h<" "){if(h==="\n"||h==="\r")break;e("Control character in string: {a}.",i,u+c,n.slice(0,c))}else if(h==="\\"){c+=1,u+=1,h=n.charAt(c);switch(h){case"\\":case'"':case"/":break;case"'":vt&&e("Avoid \\'.",i,u);break;case"b":h="\b";break;case"f":h="\f";break;case"n":h="\n";break;case"r":h="\r";break;case"t":h="\t";break;case"u":p(4);break;case"v":vt&&e("Avoid \\v.",i,u),h='\v';break;case"x":vt&&e("Avoid \\x-.",i,u),p(2);break;case"":a=!0;if(r.multistr){vt&&e("Avoid EOL escapement.",i,u),h="",u-=1;break}e("Bad escapement of EOL. Use option multistr if needed.",i,u);break;default:e("Bad escapement.",i,u)}}y+=h,u+=1,c+=1}}for(var g,c,nt,d,w,p,k,h,b,v,l,y,a;;){if(!n)return o(s()?"(endline)":"(end)","");l=it(kr);if(l){if(c.isAlpha()||c==="_"||c==="$")return o("(identifier)",l);if(c.isDigit())return isFinite(Number(l))||e("Bad number '{a}'.",i,u,l),n.substr(0,1).isAlpha()&&e("Missing space after '{a}'.",i,u,l),c==="0"&&(d=l.substr(1,1),d.isDigit()?t.id!=="."&&e("Don't use extra leading zeros '{a}'.",i,u,l):vt&&(d==="x"||d==="X")&&e("Avoid 0x-. '{a}'.",i,u,l)),l.substr(l.length-1)==="."&&e("A trailing decimal point can be confused with a dot '{a}'.",i,u,l),o("(number)",l);switch(l){case'"':case"'":return tt(l);case"//":n="",t.comment=!0;break;case"/*":for(;;){k=n.search(nu);if(k>=0)break;s()||et("Unclosed comment.",i,u)}u+=k+2,n.substr(k,1)==="/"&&et("Nested comment.",i,u),n=n.substr(k+2),t.comment=!0;break;case"/*members":case"/*member":case"/*jshint":case"/*jslint":case"/*global":case"*/":return{value:l,type:"special",line:i,character:u,from:f};case"":break;case"/":t.id==="/="&&et("A regular expression literal can be confused with '/='.",i,f);if(cr){for(w=0,nt=0,h=0;;){g=!0,c=n.charAt(h),h+=1;switch(c){case"":return et("Unclosed regular expression.",i,f),sr("Stopping.",i,f);case"/":w>0&&e("{a} unterminated regular expression group(s).",i,f+h,w),c=n.substr(0,h-1),v={g:!0,i:!0,m:!0};while(v[n.charAt(h)]===!0)v[n.charAt(h)]=!1,h+=1;return u+=h,n=n.substr(h),v=n.charAt(0),(v==="/"||v==="*")&&et("Confusing regular expression.",i,f),o("(regexp)",c);case"\\":c=n.charAt(h),c<" "?e("Unexpected control character in regular expression.",i,f+h):c==="<"&&e("Unexpected escaped character '{a}' in regular expression.",i,f+h,c),h+=1;break;case"(":w+=1,g=!1;if(n.charAt(h)==="?"){h+=1;switch(n.charAt(h)){case":":case"=":case"!":h+=1;break;default:e("Expected '{a}' and instead saw '{b}'.",i,f+h,":",n.charAt(h))}}else nt+=1;break;case"|":g=!1;break;case")":w===0?e("Unescaped '{a}'.",i,f+h,")"):w-=1;break;case" ":v=1;while(n.charAt(h)===" ")h+=1,v+=1;v>1&&e("Spaces are hard to count. Use {{a}}.",i,f+h,v);break;case"[":c=n.charAt(h),c==="^"&&(h+=1,r.regexp?e("Insecure '{a}'.",i,f+h,c):n.charAt(h)==="]"&&et("Unescaped '{a}'.",i,f+h,"^")),c==="]"&&e("Empty class.",i,f+h-1),y=!1,a=!1;n:do{c=n.charAt(h),h+=1;switch(c){case"[":case"^":e("Unescaped '{a}'.",i,f+h,c),a?a=!1:y=!0;break;case"-":y&&!a?(y=!1,a=!0):a?a=!1:n.charAt(h)==="]"?a=!0:(r.regexdash!==(h===2||h===3&&n.charAt(1)==="^")&&e("Unescaped '{a}'.",i,f+h-1,"-"),y=!0);break;case"]":a&&!r.regexdash&&e("Unescaped '{a}'.",i,f+h-1,"-");break n;case"\\":c=n.charAt(h),c<" "?e("Unexpected control character in regular expression.",i,f+h):c==="<"&&e("Unexpected escaped character '{a}' in regular expression.",i,f+h,c),h+=1,/[wsd]/i.test(c)?(a&&(e("Unescaped '{a}'.",i,f+h,"-"),a=!1),y=!1):a?a=!1:y=!0;break;case"/":e("Unescaped '{a}'.",i,f+h-1,"/"),a?a=!1:y=!0;break;case"<":a?a=!1:y=!0;break;default:a?a=!1:y=!0}}while(c);break;case".":r.regexp&&e("Insecure '{a}'.",i,f+h,c);break;case"]":case"?":case"{":case"}":case"+":case"*":e("Unescaped '{a}'.",i,f+h,c)}if(g)switch(n.charAt(h)){case"?":case"+":case"*":h+=1,n.charAt(h)==="?"&&(h+=1);break;case"{":for(h+=1,c=n.charAt(h),(c<"0"||c>"9")&&e("Expected a number and instead saw '{a}'.",i,f+h,c),h+=1,b=+c;;){c=n.charAt(h);if(c<"0"||c>"9")break;h+=1,b=+c+b*10}p=b;if(c===","){h+=1,p=Infinity,c=n.charAt(h);if(c>="0"&&c<="9")for(h+=1,p=+c;;){c=n.charAt(h);if(c<"0"||c>"9")break;h+=1,p=+c+p*10}}n.charAt(h)!=="}"?e("Expected '{a}' and instead saw '{b}'.",i,f+h,"}",c):h+=1,n.charAt(h)==="?"&&(h+=1),b>p&&e("'{a}' should not be greater than '{b}'.",i,f+h,b,p)}}return c=n.substr(0,h-1),u+=h,n=n.substr(h),o("(regexp)",c)}return o("(punctuator)",l);case"#":return o("(punctuator)",l);default:return o("(punctuator)",l)}}else{l="",c="";while(n&&n<"!")n=n.substr(1);n&&(et("Unexpected '{a}'.",i,u,n.substr(0,1)),n="")}}}}}(),rt.first=!0,li("(number)",function(){return this}),li("(string)",function(){return this}),d["(identifier)"]={type:"(identifier)",lbp:0,identifier:!0,nud:function(){var f=this.value,e=c[f],o;typeof e=="function"?e=undefined:typeof e=="boolean"&&(o=u,u=hi[0],bt(f,"var"),e=u,u=o);if(u===e)switch(u[f]){case"unused":u[f]="var";break;case"unction":u[f]="function",this["function"]=!0;break;case"function":this["function"]=!0;break;case"label":i("'{a}' is a statement label.",t,f)}else if(u["(global)"])r.undef&&typeof v[f]!="boolean"&&((kt==="typeof"||kt==="delete")&&(!n||n.value!=="."&&n.value!=="[")||dr(u,"'{a}' is not defined.",t,f)),tr(t);else switch(u[f]){case"closure":case"function":case"var":case"unused":i("'{a}' used out of scope.",t,f);break;case"label":i("'{a}' is a statement label.",t,f);break;case"outer":case"global":break;default:if(e===!0)u[f]=!0;else if(e===null)i("'{a}' is not allowed.",t,f),tr(t);else if(typeof e!="object")r.undef&&((kt==="typeof"||kt==="delete")&&(!n||n.value!=="."&&n.value!=="[")||dr(u,"'{a}' is not defined.",t,f)),u[f]=!0,tr(t);else switch(e[f]){case"function":case"unction":this["function"]=!0,e[f]="closure",u[f]=e["(global)"]?"global":"outer";break;case"var":case"unused":e[f]="closure",u[f]=e["(global)"]?"global":"outer";break;case"closure":case"parameter":u[f]=e["(global)"]?"global":"outer";break;case"label":i("'{a}' is a statement label.",t,f)}}return this},led:function(){o("Expected an operator and instead saw '{a}'.",n,n.value)}},li("(regexp)",function(){return this}),y("(endline)"),y("(begin)"),y("(end)").reach=!0,y("</").reach=!0,y("<!"),y("<!--"),y("-->"),y("(error)").reach=!0,y("}").reach=!0,y(")"),y("]"),y('"').reach=!0,y("'").reach=!0,y(";"),y(":").reach=!0,y(","),y("#"),y("@"),l("else"),l("case").reach=!0,l("catch"),l("default").reach=!0,l("finally"),lt("arguments",function(n){nt["use strict"]&&u["(global)"]&&i("Strict violation.",n)}),lt("eval"),lt("false"),lt("Infinity"),lt("NaN"),lt("null"),lt("this",function(n){nt["use strict"]&&!r.validthis&&(u["(statement)"]&&u["(name)"].charAt(0)>"Z"||u["(global)"])&&i("Possible strict violation.",n)}),lt("true"),lt("undefined"),ni("=","assign",20),ni("+=","assignadd",20),ni("-=","assignsub",20),ni("*=","assignmult",20),ni("/=","assigndiv",20).nud=function(){o("A regular expression literal can be confused with '/='.")},ni("%=","assignmod",20),ui("&=","assignbitand",20),ui("|=","assignbitor",20),ui("^=","assignbitxor",20),ui("<<=","assignshiftleft",20),ui(">>=","assignshiftright",20),ui(">>>=","assignshiftrightunsigned",20),b("?",function(n,t){return t.left=n,t.right=s(10),f(":"),t["else"]=s(10),t},30),b("||","or",40),b("&&","and",50),ri("|","bitor",70),ri("^","bitxor",80),ri("&","bitand",90),pt("==",function(n,t){var u=r.eqnull&&(n.value==="null"||t.value==="null");return!u&&r.eqeqeq?i("Expected '{a}' and instead saw '{b}'.",this,"===","=="):ci(n)?i("Use '{a}' to compare with '{b}'.",this,"===",n.value):ci(t)&&i("Use '{a}' to compare with '{b}'.",this,"===",t.value),this}),pt("==="),pt("!=",function(n,t){var u=r.eqnull&&(n.value==="null"||t.value==="null");return!u&&r.eqeqeq?i("Expected '{a}' and instead saw '{b}'.",this,"!==","!="):ci(n)?i("Use '{a}' to compare with '{b}'.",this,"!==",n.value):ci(t)&&i("Use '{a}' to compare with '{b}'.",this,"!==",t.value),this}),pt("!=="),pt("<"),pt(">"),pt("<="),pt(">="),ri("<<","shiftleft",120),ri(">>","shiftright",120),ri(">>>","shiftrightunsigned",120),b("in","in",120),b("instanceof","instanceof",120),b("+",function(n,t){var u=s(130);return n&&u&&n.id==="(string)"&&u.id==="(string)"?(n.value+=u.value,n.character=u.character,!r.scripturl&&pi.test(n.value)&&i("JavaScript URL.",n),n):(t.left=n,t.right=u,t)},130),k("+","num"),k("+++",function(){return i("Confusing pluses."),this.right=s(150),this.arity="unary",this}),b("+++",function(n){return i("Confusing pluses."),this.left=n,this.right=s(130),this},130),b("-","sub",130),k("-","neg"),k("---",function(){return i("Confusing minuses."),this.right=s(150),this.arity="unary",this}),b("---",function(n){return i("Confusing minuses."),this.left=n,this.right=s(130),this},130),b("*","mult",140),b("/","div",140),b("%","mod",140),pr("++","postinc"),k("++","preinc"),d["++"].exps=!0,pr("--","postdec"),k("--","predec"),d["--"].exps=!0,k("delete",function(){var n=s(0);return n&&(n.id==="."||n.id==="[")||i("Variables should not be deleted."),this.first=n,this}).exps=!0,k("~",function(){return r.bitwise&&i("Unexpected '{a}'.",this,"~"),s(150),this}),k("!",function(){return this.right=s(150),this.arity="unary",hu[this.right.id]===!0&&i("Confusing use of '{a}'.",this,"!"),this}),k("typeof","typeof"),k("new",function(){var u=s(155),f;if(u&&u.id!=="function")if(u.identifier){u["new"]=!0;switch(u.value){case"Object":i("Use the object literal notation {}.",t);break;case"Number":case"String":case"Boolean":case"Math":case"JSON":i("Do not use {a} as a constructor.",t,u.value);break;case"Function":r.evil||i("The Function constructor is eval.");break;case"Date":case"RegExp":break;default:u.id!=="function"&&(f=u.value.substr(0,1),r.newcap&&(f<"A"||f>"Z")&&i("A constructor name should start with an uppercase letter.",t))}}else u.id!=="."&&u.id!=="["&&u.id!=="("&&i("Bad constructor.",t);else r.supernew||i("Weird construction. Delete 'new'.",this);return ot(t,n),n.id==="("||r.supernew||i("Missing '()' invoking a constructor."),this.first=u,this}),d["new"].exps=!0,k("void").exps=!0,b(".",function(n,u){ot(p,t),gi();var f=ei();return typeof f=="string"&&ir(f),u.left=n,u.right=f,n&&n.value==="arguments"&&(f==="callee"||f==="caller")?r.noarg?i("Avoid arguments.{a}.",n,f):nt["use strict"]&&o("Strict violation."):!r.evil&&n&&n.value==="document"&&(f==="write"||f==="writeln")&&i("document.write can be a form of eval.",n),r.evil||f!=="eval"&&f!=="execScript"||i("eval is evil."),u},160,!0),b("(",function(u,e){p.id!=="}"&&p.id!==")"&&gi(p,t),w(),r.immed&&!u.immed&&u.id==="function"&&i("Wrap an immediate function invocation in parentheses to assist the reader in understanding that the expression is the result of a function, and not the function itself.");var h=0,o=[];u&&u.type==="(identifier)"&&u.value.match(/^[A-Z]([A-Z0-9_$]*[a-z][A-Za-z0-9_$]*)?$/)&&u.value!=="Number"&&u.value!=="String"&&u.value!=="Boolean"&&u.value!=="Date"&&(u.value==="Math"?i("Math is not a function.",u):r.newcap&&i("Missing 'new' prefix when invoking a constructor.",u));if(n.id!==")")for(;;){o[o.length]=s(10),h+=1;if(n.id!==",")break;rt()}return f(")"),w(p,t),typeof u=="object"&&(u.value==="parseInt"&&h===1&&i("Missing radix parameter.",u),r.evil||(u.value==="eval"||u.value==="Function"||u.value==="execScript"?i("eval is evil.",u):o[0]&&o[0].id==="(string)"&&(u.value==="setTimeout"||u.value==="setInterval")&&i("Implied eval is evil. Pass a function instead of a string.",u)),u.identifier||u.id==="."||u.id==="["||u.id==="("||u.id==="&&"||u.id==="||"||u.id==="?"||i("Bad invocation.",u)),e.left=u,e},155,!0).exps=!0,k("(",function(){w(),n.id==="function"&&(n.immed=!0);var u=s(0);return f(")",this),w(p,t),r.immed&&u.id==="function"&&(n.id==="("?i("Move the invocation into the parens that contain the function.",n):i("Do not wrap function literals in parens unless they are to be immediately invoked.",this)),u}),b("[",function(n,u){gi(p,t),w();var e=s(0),o;return e&&e.type==="(string)"&&(r.evil||e.value!=="eval"&&e.value!=="execScript"||i("eval is evil.",u),ir(e.value),!r.sub&&rr.test(e.value)&&(o=d[e.value],o&&o.reserved||i("['{a}'] is better written in dot notation.",e,e.value))),f("]",u),w(p,t),u.left=n,u.right=e,u},160,!0),k("[",function(){var u=t.line!==n.line;this.first=[],u&&(a+=r.indent,n.from===a+r.indent&&(a+=r.indent));while(n.id!=="(end)"){while(n.id===",")i("Extra comma."),f(",");if(n.id==="]")break;u&&t.line!==n.line&&ft(),this.first.push(s(10));if(n.id===","){rt();if(n.id==="]"&&!r.es5){i("Extra comma.",t);break}}else break}return u&&(a-=r.indent,ft()),f("]",this),this},160),function(u){u.nud=function(){function k(t,r){u[t]&&tt(u,t)?i("Duplicate member '{a}'.",n,e):u[t]={},u[t].basic=!0,u[t].basicToken=r}function b(t,r){u[t]&&tt(u,t)?(u[t].basic||u[t].setter)&&i("Duplicate member '{a}'.",n,e):u[t]={},u[t].setter=!0,u[t].setterToken=r}function w(r){u[r]&&tt(u,r)?(u[r].basic||u[r].getter)&&i("Duplicate member '{a}'.",n,e):u[r]={},u[r].getter=!0,u[r].getterToken=t}var v,p,e,d,c,y,u={},l;for(v=t.line!==n.line,v&&(a+=r.indent,n.from===a+r.indent&&(a+=r.indent));;){if(n.id==="}")break;v&&ft();if(n.value==="get"&&ut().id!==":")f("get"),r.es5||o("get/set are ES5 features."),e=er(),e||o("Missing property name."),w(e),y=n,ot(t,n),p=yi(),c=p["(params)"],c&&i("Unexpected parameter '{a}' in get {b} function.",y,c[0],e),ot(t,n);else if(n.value==="set"&&ut().id!==":")f("set"),r.es5||o("get/set are ES5 features."),e=er(),e||o("Missing property name."),b(e,n),y=n,ot(t,n),p=yi(),c=p["(params)"],c&&c.length===1||i("Expected a single parameter in set {a} function.",y,e);else{e=er(),k(e,n);if(typeof e!="string")break;f(":"),h(t,n),s(10)}ir(e);if(n.id===",")rt(),n.id===","?i("Extra comma.",t):n.id!=="}"||r.es5||i("Extra comma.",t);else break}v&&(a-=r.indent,ft()),f("}",this);if(r.es5)for(l in u)tt(u,l)&&u[l].setter&&!u[l].getter&&i("Setter is defined without getter.",u[l].setterToken);return this},u.fud=function(){o("Expected to see a statement and instead saw a block.",t)}}(y("{")),ru=function(){var r=ct("const",function(r){var e,l,c;for(this.first=[];;){h(t,n),e=ei(),u[e]==="const"&&i("const '"+e+"' has already been declared"),u["(global)"]&&v[e]===!1&&i("Redefinition of '{a}'.",t,e),bt(e,"const");if(r)break;l=t,this.first.push(t),n.id!=="="&&i("const '{a}' is initialized to 'undefined'.",t,e),n.id==="="&&(h(t,n),f("="),h(t,n),n.id==="undefined"&&i("It is not necessary to initialize '{a}' to 'undefined'.",t,e),ut(0).id==="="&&n.identifier&&o("Constant {a} was not declared correctly.",n,n.value),c=s(0),l.first=c);if(n.id!==",")break;rt()}return this});r.exps=!0},fi=ct("var",function(e){var c,a,l;for(u["(onevar)"]&&r.onevar?i("Too many var statements."):u["(global)"]||(u["(onevar)"]=!0),this.first=[];;){h(t,n),c=ei(),r.esnext&&u[c]==="const"&&i("const '"+c+"' has already been declared"),u["(global)"]&&v[c]===!1&&i("Redefinition of '{a}'.",t,c),bt(c,"unused");if(e)break;a=t,this.first.push(t),n.id==="="&&(h(t,n),f("="),h(t,n),n.id==="undefined"&&i("It is not necessary to initialize '{a}' to 'undefined'.",t,c),ut(0).id==="="&&n.identifier&&o("Variable {a} was not declared correctly.",n,n.value),l=s(0),a.first=l);if(n.id!==",")break;rt()}return this}),fi.exps=!0,ii("function",function(){si&&i("Function declarations should not be placed in blocks. Use a function expression or move the statement to the top of the outer function.",t);var f=ei();return r.esnext&&u[f]==="const"&&i("const '"+f+"' has already been declared"),ot(t,n),bt(f,"unction"),yi(f,!0),n.id==="("&&n.line===t.line&&o("Function declarations are not invocable. Wrap the whole function invocation in parens."),this}),k("function",function(){var f=hr();return f?ot(t,n):h(t,n),yi(f),!r.loopfunc&&u["(loopage)"]&&i("Don't make functions within a loop."),this}),ii("if",function(){var u=n;return f("("),h(this,u),w(),s(20),n.id==="="&&(r.boss||i("Expected a conditional expression and instead saw an assignment."),f("="),s(20)),f(")",u),w(p,t),st(!0,!0),n.id==="else"&&(h(t,n),f("else"),n.id==="if"||n.id==="switch"?ar(!0):st(!0,!0)),this}),ii("try",function(){var e,u,r;st(!1),n.id==="catch"&&(f("catch"),h(t,n),f("("),r=c,c=Object.create(r),u=n.value,n.type!=="(identifier)"?i("Expected an identifier and instead saw '{a}'.",n,u):bt(u,"exception"),f(),f(")"),st(!1),e=!0,c=r);if(n.id==="finally"){f("finally"),st(!1);return}return e||o("Expected '{a}' and instead saw '{b}'.",n,"catch",n.value),this}),ii("while",function(){var e=n;return u["(breakage)"]+=1,u["(loopage)"]+=1,f("("),h(this,e),w(),s(20),n.id==="="&&(r.boss||i("Expected a conditional expression and instead saw an assignment."),f("="),s(20)),f(")",e),w(p,t),st(!0,!0),u["(breakage)"]-=1,u["(loopage)"]-=1,this}).labelled=!0,l("with"),ii("switch",function(){var c=n,e=!1;for(u["(breakage)"]+=1,f("("),h(this,c),w(),this.condition=s(20),f(")",c),w(p,t),h(t,n),c=n,f("{"),h(t,n),a+=r.indent,this.cases=[];;)switch(n.id){case"case":switch(u["(verb)"]){case"break":case"case":case"continue":case"return":case"switch":case"throw":break;default:or.test(it[n.line-2])||i("Expected a 'break' statement before 'case'.",t)}ft(-r.indent),f("case"),this.cases.push(s(20)),e=!0,f(":"),u["(verb)"]="case";break;case"default":switch(u["(verb)"]){case"break":case"continue":case"return":case"throw":break;default:or.test(it[n.line-2])||i("Expected a 'break' statement before 'default'.",t)}ft(-r.indent),f("default"),e=!0,f(":");break;case"}":a-=r.indent,ft(),f("}",c),(this.cases.length===1||this.condition.id==="true"||this.condition.id==="false")&&(r.onecase||i("This 'switch' should be an 'if'.",this)),u["(breakage)"]-=1,u["(verb)"]=undefined;return;case"(end)":o("Missing '{a}'.",n,"}");return;default:if(e)switch(t.id){case",":o("Each value should have its own case label.");return;case":":e=!1,wi();break;default:o("Missing ':' on a case clause.",t);return}else if(t.id===":")f(":"),o("Unexpected '{a}'.",t,":"),wi();else{o("Expected '{a}' and instead saw '{b}'.",n,"case",n.value);return}}}).labelled=!0,ct("debugger",function(){return r.debug||i("All 'debugger' statements should be removed."),this}).exps=!0,function(){var e=ct("do",function(){u["(breakage)"]+=1,u["(loopage)"]+=1,this.first=st(!0),f("while");var e=n;return h(t,e),f("("),w(),s(20),n.id==="="&&(r.boss||i("Expected a conditional expression and instead saw an assignment."),f("="),s(20)),f(")",e),w(p,t),u["(breakage)"]-=1,u["(loopage)"]-=1,this});e.labelled=!0,e.exps=!0}(),ii("for",function(){var e,c=n;u["(breakage)"]+=1,u["(loopage)"]+=1,f("("),h(this,c),w();if(ut(n.id==="var"?1:0).id==="in"){if(n.id==="var")f("var"),fi.fud.call(fi,!0);else{switch(u[n.value]){case"unused":u[n.value]="var";break;case"var":break;default:i("Bad for in variable '{a}'.",n,n.value)}f()}return f("in"),s(20),f(")",c),e=st(!0,!0),r.forin&&e&&(e.length>1||typeof e[0]!="object"||e[0].value!=="if")&&i("The body of a for in should be wrapped in an if statement to filter unwanted properties from the prototype.",this),u["(breakage)"]-=1,u["(loopage)"]-=1,this}if(n.id!==";")if(n.id==="var")f("var"),fi.fud.call(fi);else for(;;){s(0,"for");if(n.id!==",")break;rt()}ti(t),f(";"),n.id!==";"&&(s(20),n.id==="="&&(r.boss||i("Expected a conditional expression and instead saw an assignment."),f("="),s(20))),ti(t),f(";"),n.id===";"&&o("Expected '{a}' and instead saw '{b}'.",n,")",";");if(n.id!==")")for(;;){s(0,"for");if(n.id!==",")break;rt()}return f(")",c),w(p,t),st(!0,!0),u["(breakage)"]-=1,u["(loopage)"]-=1,this}).labelled=!0,ct("break",function(){var e=n.value;return u["(breakage)"]===0&&i("Unexpected '{a}'.",n,this.value),r.asi||ti(this),n.id!==";"&&t.line===n.line&&(u[e]!=="label"?i("'{a}' is not a statement label.",n,e):c[e]!==u&&i("'{a}' is out of scope.",n,e),this.first=n,f()),ai("break"),this}).exps=!0,ct("continue",function(){var e=n.value;return u["(breakage)"]===0&&i("Unexpected '{a}'.",n,this.value),r.asi||ti(this),n.id!==";"?t.line===n.line&&(u[e]!=="label"?i("'{a}' is not a statement label.",n,e):c[e]!==u&&i("'{a}' is out of scope.",n,e),this.first=n,f()):u["(loopage)"]||i("Unexpected '{a}'.",n,this.value),ai("continue"),this}).exps=!0,ct("return",function(){return this.line===n.line?(n.id==="(regexp)"&&i("Wrap the /regexp/ literal in parens to disambiguate the slash operator."),n.id===";"||n.reach||(h(t,n),ut().value!=="="||r.boss||e("Did you mean to return a conditional instead of an assignment?",t.line,t.character+1),this.first=s(0))):r.asi||ti(this),ai("return"),this}).exps=!0,ct("throw",function(){return ti(this),h(t,n),this.first=s(20),ai("throw"),this}).exps=!0,l("class"),l("const"),l("enum"),l("export"),l("extends"),l("import"),l("super"),l("let"),l("yield"),l("implements"),l("interface"),l("package"),l("private"),l("protected"),l("public"),l("static"),ht=function(e,o,s){var l,h,y,w;JSHINT.errors=[],JSHINT.undefs=[],v=Object.create(bu),g(v,s||{});if(o){l=o.predef;if(l)if(Array.isArray(l))for(h=0;h<l.length;h+=1)v[l[h]]=!0;else if(typeof l=="object")for(y=Object.keys(l),h=0;h<y.length;h+=1)v[y[h]]=!!l[y[h]];r=o}else r={};for(r.indent=r.indent||4,r.maxerr=r.maxerr||50,lr="",h=0;h<r.indent;h+=1)lr+=" ";a=1,di=Object.create(v),c=di,u={"(global)":!0,"(name)":"(global)","(scope)":c,"(breakage)":0,"(loopage)":0},hi=[u],ki=[],du=null,dt={},gt=null,wt={},si=!1,vi=[],vt=!1,ur=0,at.init(e),cr=!0,nt={},p=t=n=d["(begin)"],gr(),g(v,s||{});try{f();switch(n.id){case"{":case"[":r.laxbreak=!0,vt=!0,fr();break;default:yr(),nt["use strict"]&&!r.globalstrict&&i('Use the function form of "use strict".',p),wi()}for(f("(end)"),h=0;h<JSHINT.undefs.length;h+=1)y=JSHINT.undefs[h].slice(0),c=y.shift(),l=y[2],typeof c[l]!="string"&&typeof u[l]!="string"&&i.apply(i,y)}catch(b){b&&(w=n||{},JSHINT.errors.push({raw:b.raw,reason:b.message,line:b.line||w.line,character:b.character||w.from},null))}return JSHINT.errors.length===0},ht.data=function(){var u={functions:[],options:r},t,l,h=[],i,o,f,a=[],n,s=[],e;ht.errors.length&&(u.errors=ht.errors),vt&&(u.json=!0);for(n in wt)tt(wt,n)&&h.push({name:n,line:wt[n]});for(h.length>0&&(u.implieds=h),ki.length>0&&(u.urls=ki),l=Object.keys(c),l.length>0&&(u.globals=l),o=1;o<hi.length;o+=1){for(i=hi[o],t={},f=0;f<oi.length;f+=1)t[oi[f]]=[];for(n in i)tt(i,n)&&n.charAt(0)!=="("&&(e=i[n],e==="unction"&&(e="unused"),Array.isArray(t[e])&&(t[e].push(n),e==="unused"&&s.push({name:n,line:i["(line)"],"function":i["(name)"]})));for(f=0;f<oi.length;f+=1)t[oi[f]].length===0&&delete t[oi[f]];t.name=i["(name)"],t.param=i["(params)"],t.line=i["(line)"],t.last=i["(last)"],u.functions.push(t)}s.length>0&&(u.unused=s),a=[];for(n in dt)if(typeof dt[n]=="number"){u.member=dt;break}return u},ht.report=function(n){function f(n,t){var f,i,u;if(t){for(r.push("<div><i>"+n+"</i> "),t=t.sort(),i=0;i<t.length;i+=1)t[i]!==u&&(u=t[i],r.push((f?", ":"")+u),f=!0);r.push("</div>")}}var i=ht.data(),o=[],s,c,y,u,t,v,a,l="",e,r=[],h;if(i.errors||i.implieds||i.unused){y=!0,r.push("<div id=errors><i>Error:</i>");if(i.errors)for(t=0;t<i.errors.length;t+=1)s=i.errors[t],s&&(c=s.evidence||"",r.push("<p>Problem"+(isFinite(s.line)?" at line "+s.line+" character "+s.character:"")+": "+s.reason.entityify()+"</p><p class=evidence>"+(c&&(c.length>80?c.slice(0,77)+"...":c).entityify())+"</p>"));if(i.implieds){for(h=[],t=0;t<i.implieds.length;t+=1)h[t]="<code>"+i.implieds[t].name+"</code>&nbsp;<i>"+i.implieds[t].line+"</i>";r.push("<p><i>Implied global:</i> "+h.join(", ")+"</p>")}if(i.unused){for(h=[],t=0;t<i.unused.length;t+=1)h[t]="<code><u>"+i.unused[t].name+"</u></code>&nbsp;<i>"+i.unused[t].line+"</i> <code>"+i.unused[t]["function"]+"</code>";r.push("<p><i>Unused variable:</i> "+h.join(", ")+"</p>")}i.json&&r.push("<p>JSON: bad.</p>"),r.push("</div>")}if(!n){for(r.push("<br><div id=functions>"),i.urls&&f("URLs<br>",i.urls,"<br>"),i.json&&!y?r.push("<p>JSON: good.</p>"):i.globals?r.push("<div><i>Global</i> "+i.globals.sort().join(", ")+"</div>"):r.push("<div><i>No new global variables introduced.</i></div>"),t=0;t<i.functions.length;t+=1)u=i.functions[t],r.push("<br><div class=function><i>"+u.line+"-"+u.last+"</i> "+(u.name||"")+"("+(u.param?u.param.join(", "):"")+")</div>"),f("<big><b>Unused</b></big>",u.unused),f("Closure",u.closure),f("Variable",u["var"]),f("Exception",u.exception),f("Outer",u.outer),f("Global",u.global),f("Label",u.label);if(i.member){o=Object.keys(i.member);if(o.length){for(o=o.sort(),l="<br><pre id=members>/*members ",a=10,t=0;t<o.length;t+=1)v=o[t],e=v.name(),a+e.length>72&&(r.push(l+"<br>"),l="    ",a=1),a+=e.length+2,i.member[v]===1&&(e="<i>"+e+"</i>"),t<o.length-1&&(e+=", "),l+=e;r.push(l+"<br>*/</pre>")}r.push("</div>")}}return r.join("")},ht.jshint=ht,ht}(),typeof exports=="object"&&exports&&(exports.JSHINT=JSHINT),IDE={init:function(){this.ui_init(),this.cmd_init()},updateData:function(){$.ajax({url:"/IDE/_ls/",data:{opts:"-d"},success:function(n){$("#dataTable > tbody").empty(),$.each(n,function(n,t){$("#dataTable > tbody").append("<tr><td>"+t.Id+"</td><td>"+t.Title+"</td></tr>")}),$("#dataTable").tablesorter()}})},updateTools:function(){$.ajax({url:"/IDE/_ls/",data:{opts:"-t"},success:function(n){$("#toolTable > tbody").empty(),$.each(n,function(n,t){$("#toolTable > tbody").append("<tr><td>"+t.Id+"</td><td>"+t.Title+"</td></tr>")}),$("#toolTable").tablesorter()}})},updateLocals:function(){$.ajax({url:"/IDE/_locals/",success:function(n){$("#localsTable > tbody").empty();for(var t in n)$("#localsTable > tbody").append("<tr><td title='"+n[t]+"'>"+t+"</td></tr>");$("#localsTable").get(0).config?$("#localsTable").trigger("update").trigger("sorton",localsTable.get(0).config.sortList):$("#localsTable").tablesorter()}})},cmd_opts:{history:!0,prompt:">>",greetings:"## cloudlab.io interactive terminal (alpha)",exit:!1},cmd_init:function(){this.terminal=$("#terminal-tab").terminal(this.cmd_onReturn,this.cmd_opts),$("textarea.clipboard").attr("spellcheck","false")},cmd_onReturn:function(n,t){if(n===null||n.length===0)return;n=$.trim(n);if(n.charAt(0)==="@"){var i=n.split(" ");switch(i[0]){case"@doc":IDE.cmd_doc(i);break;case"@ls":IDE.cmd_list(i);break;case"@reset":IDE.cmd_reset();break;case"@rm":IDE.cmd_rm(i);break;default:t.error("Terminal command not supported")}}else IDE.cmd_default(n)},cmd_doc:function(n){n.length==1?$('a[data-target="#documentation-tab"]').click():n.length==2?$.ajax({url:"/IDE/_doc/",data:{name:n[1]},success:function(t){if(t=="")IDE.terminal.error("No documentation found for '"+n[1]+"'");else{$('a[data-target="#documentation-tab"]').click();var i=new MarkdownDeep.Markdown;i.ExtraMode=!0,i.MarkdownInHtml=!0,$("#doc-title").text(t.title),$("#doc-body").html(i.Transform(t.body))}},error:function(){this.terminal.error("Documentation for '"+n[1]+"' does not exist.")}}):n.length==3?$.ajax({url:"/IDE/_doc/",data:{name:n[2],opt:n[1]},success:function(n){$('a[data-target="#documentation-tab"]').click();var t=new MarkdownDeep.Markdown;t.ExtraMode=!0,t.SafeMode=!0,$("#doc-title").text(n.title),$("#doc-body").html(t.Transform(n.body))},error:function(){this.terminal.error("Documentation for '"+n[1]+"' does not exist.")}}):this.terminal.echo("Usage:\tdoc [command-name]")},cmd_list:function(n){n.length!=2?IDE.terminal.echo("Usage:\tls <-d|-t>"):(IDE.terminal.pause(),$.ajax({url:"/IDE/_ls/",data:{opts:n[1]},success:function(n){$.each(n,function(n,t){IDE.terminal.echo(t.Id+"\t"+t.Title)})},error:function(){IDE.terminal.error("Incorrect usage of ls")},complete:function(){IDE.terminal.resume()}}))},cmd_rm:function(n){n.length===3&&(IDE.terminal.pause(),$.getJSON("/IDE/_rm/",{opt:n[1],id:n[2]},function(n){n?IDE.terminal.echo("cloudlab>> ok"):IDE.terminal.error("cloudlab>> there was an error deleting the item you selected."),IDE.terminal.resume()}))},cmd_reset:function(){this.terminal.pause(),$.ajax({url:"/IDE/_reset/",success:function(){IDE.terminal.echo("Terminal session has been reset.")},error:function(){IDE.terminal.error("Error resetting session. Please try again.")},complete:function(){IDE.terminal.resume()}})},cmd_default:function(params){this.terminal.pause(),$.ajax({url:"/IDE/_vm/",timeout:0,data:{cmd:params},success:function(data){data.Error?IDE.terminal.error(data.Error):data.JSAction?(console.log(data.JSAction),eval(data.JSAction)):(params.charAt(params.length-1)!=";"||params.charAt(params.length-1)!="}")&&IDE.terminal.echo(data.Text)},error:function(){IDE.terminal.error("Unable to contact server.")},complete:function(){IDE.terminal.resume()}})},graph_show:function(){},graph_refresh:function(){this.plot!=null&&this.plot.replot()},graph_options:function(){return{grid:{drawBorder:!1,drawGridlines:!1,background:"#ffffff",shadow:!1}}},ui_init:function(){$("#nav_ide").addClass("active"),$('a[data-toggle="tab"]').live("shown",IDE.ui_onTabChange),$(document).bind("keydown","ctrl+shift+1",function(){$('a[data-target="#terminal-tab"]').click()}),$(document).bind("keydown","ctrl+shift+2",function(){$('a[data-target="#locals-tab"]').click()}),$(document).bind("keydown","ctrl+shift+3",function(){$('a[data-target="#data-tab"]').click()}),$(document).bind("keydown","ctrl+shift+4",function(){$('a[data-target="#tools-tab"]').click()}),$(document).bind("keydown","ctrl+shift+5",function(){$('a[data-target="#scratchpad-tab"]').click()}),$(document).bind("keydown","ctrl+shift+6",function(){$('a[data-target="#documentation-tab"]').click()}),$(document).bind("keydown","ctrl+shift+7",function(){$('a[data-target="#graphing-tab"]').click()}),$("#dataTable tbody > tr").live("click",function(){IDE.ui_onRowSelect("data",$(this).children(":first").text())}),$("#toolTable tbody > tr").live("click",function(){IDE.ui_onRowSelect("tool",$(this).children(":first").text())})},ui_onTabChange:function(n){switch(n.relatedTarget.text){case"Terminal":IDE.terminal.disable()}switch(n.target.text){case"Terminal":IDE.terminal.enable();break;case"Scratchpad":ScratchPad.refreshAndFocus();break;case"Graphing":IDE.graph_refresh();break;case"Locals":IDE.updateLocals();break;case"Data":IDE.updateData();break;case"Tools":IDE.updateTools()}},ui_onRowSelect:function(n,t){switch(n){case"data":$.ajax({url:"/Data/_Details/",data:{id:t},success:function(n){var t=new MarkdownDeep.Markdown;t.ExtraMode=!0,t.SafeMode=!0,$("#dataMeta").html(t.Transform(n.Description))},error:function(){}});break;case"tool":$.ajax({url:"/Tools/_Details/",data:{id:t},success:function(n){if(n!=null){var t=new MarkdownDeep.Markdown;t.ExtraMode=!0,t.SafeMode=!0,$("#toolMeta").html(t.Transform(n.body))}else bootbox.alert("There was an error getting the tool information.")},error:function(){}})}},terminal:null,editor:null,plot:null,mainTabIndex:0,mainTabNameArray:[]},ScratchPad={init:function(){ScratchPad.Editor===null&&(ScratchPad.foldingFunction=CodeMirror.newFoldFunction(CodeMirror.braceRangeFinder),ScratchPad.Editor=CodeMirror.fromTextArea($("#scratchpad-textarea").get(0),{lineNumbers:!0,matchBrackets:!0,mode:"text/javascript",onChange:ScratchPad.evt_OnChange,onGutterClick:ScratchPad.foldingFunction,extraKeys:{"Ctrl-M":function(n){ScratchPad.foldingFunction(n,n.getCursor().line)},"Shift-Space":function(n){CodeMirror.intelliHint(n,CodeMirror.javascriptHint)}}}),this.uiInit(),ScratchPad.updateValidation())},evt_OnChange:function(){var i=ScratchPad.Editor.getCursor();$("#sp-rowcol-field").text(parseInt(i.line)+1+":"+i.ch),ScratchPad.updateValidation()},refresh:function(){this.Editor.refresh()},refreshAndFocus:function(){this.Editor.refresh(),this.Editor.focus()},uiInit:function(){$("#sp-execute-button").click(function(){})},updateValidation:function(){var t=JSHINT(ScratchPad.Editor.getValue(),{curly:!0,immed:!0,strict:!0,trailing:!0,es5:!0}),n;t?$("#sp-validation-field").html("No errors."):(n=JSHINT.errors[0],$("#sp-validation-field").html("<strong>Error ["+n.line+":"+n.character+"]</strong>: "+n.reason))},foldingFunction:null,Editor:null},$(document).ready(function(){IDE.init(),ScratchPad.init()}),_gaq=_gaq||[],_gaq.push(["_setAccount","UA-27831838-1"]),_gaq.push(["_setDomainName","cloudlab.io"]),_gaq.push(["_trackPageview"]),function(){var n=document.createElement("script"),t;n.type="text/javascript",n.async=!0,n.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js",t=document.getElementsByTagName("script")[0],t.parentNode.insertBefore(n,t)}()