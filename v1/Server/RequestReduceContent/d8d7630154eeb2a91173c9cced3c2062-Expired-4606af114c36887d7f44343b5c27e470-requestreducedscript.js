var _gaq;$(function(){$.support.transition=function(){var i=document.body||document.documentElement,n=i.style,t=n.transition!==undefined||n.WebkitTransition!==undefined||n.MozTransition!==undefined||n.MsTransition!==undefined||n.OTransition!==undefined;return t&&{end:function(){var n="TransitionEnd";return $.browser.webkit?n="webkitTransitionEnd":$.browser.mozilla?n="transitionend":$.browser.opera&&(n="oTransitionEnd"),n}()}}()}),!function(n){function e(){var t=this,r=setTimeout(function(){t.$element.off(n.support.transition.end),i.call(t)},500);this.$element.one(n.support.transition.end,function(){clearTimeout(r),i.call(t)})}function i(){this.$element.hide().trigger("hidden"),u.call(this)}function u(t){var u=this,r=this.$element.hasClass("fade")?"fade":"",i;this.isShown&&this.options.backdrop?(i=n.support.transition&&r,this.$backdrop=n('<div class="modal-backdrop '+r+'" />').appendTo(document.body),this.options.backdrop!="static"&&this.$backdrop.click(n.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),i?this.$backdrop.one(n.support.transition.end,t):t()):!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),n.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(n.support.transition.end,n.proxy(f,this)):f.call(this)):t&&t()}function f(){this.$backdrop.remove(),this.$backdrop=null}function r(){var t=this;this.isShown&&this.options.keyboard?n(document).on("keyup.dismiss.modal",function(n){n.which==27&&t.hide()}):this.isShown||n(document).off("keyup.dismiss.modal")}"use strict";var t=function(t,i){this.options=n.extend({},n.fn.modal.defaults,i),this.$element=n(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",n.proxy(this.hide,this))};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this;if(this.isShown)return;this.isShown=!0,this.$element.trigger("show"),r.call(this),u.call(this,function(){var i=n.support.transition&&t.$element.hasClass("fade");!t.$element.parent().length&&t.$element.appendTo(document.body),t.$element.show(),i&&t.$element[0].offsetWidth,t.$element.addClass("in"),i?t.$element.one(n.support.transition.end,function(){t.$element.trigger("shown")}):t.$element.trigger("shown")})},hide:function(t){t&&t.preventDefault();if(!this.isShown)return;var u=this;this.isShown=!1,r.call(this),this.$element.trigger("hide").removeClass("in"),n.support.transition&&this.$element.hasClass("fade")?e.call(this):i.call(this)}},n.fn.modal=function(i){return this.each(function(){var u=n(this),r=u.data("modal"),f=typeof i=="object"&&i;r||u.data("modal",r=new t(this,f)),typeof i=="string"?r[i]():r.show()})},n.fn.modal.defaults={backdrop:!0,keyboard:!0},n.fn.modal.Constructor=t,n(function(){n("body").on("click.modal.data-api",'[data-toggle="modal"]',function(t){var r=n(this),i=n(r.attr("data-target")||r.attr("href")),u=i.data("modal")?"toggle":n.extend({},i.data(),r.data());t.preventDefault(),i.modal(u)})})}(window.jQuery),!function(n){function i(){n(r).parent().removeClass("open")}"use strict";var r='[data-toggle="dropdown"]',t=function(t){n(t).bind("click",this.toggle)};t.prototype={constructor:t,toggle:function(){var u=n(this),e=u.attr("data-target")||u.attr("href"),r=n(e),f;return r.length||(r=u.parent()),f=r.hasClass("open"),i(),!f&&r.toggleClass("open"),!1}},n.fn.dropdown=function(i){return this.each(function(){var u=n(this),r=u.data("dropdown");r||u.data("dropdown",r=new t(this)),typeof i=="string"&&r[i].call(u)})},n.fn.dropdown.Constructor=t,n(function(){n(window).on("click.dropdown.data-api",i),n("body").on("click.dropdown.data-api",r,t.prototype.toggle)})}(window.jQuery),!function(n){function t(t){var i=n.proxy(this.process,this);this.$scrollElement=n(t).on("scroll.scroll.data-api",i),this.selector=(this.$scrollElement.attr("data-target")||this.$scrollElement.attr("href")||"")+" .nav li > a",this.$body=n("body").on("click.scroll.data-api",this.selector,i),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){this.targets=this.$body.find(this.selector).map(function(){var t=n(this).attr("href");return/^#\w/.test(t)&&n(t).length?t:null}),this.offsets=n.map(this.targets,function(t){return n(t).position().top})},process:function(){for(var i=this.$scrollElement.scrollTop()+10,t=this.offsets,r=this.targets,u=this.activeTarget,n=t.length;n--;)u!=r[n]&&i>=t[n]&&(!t[n+1]||i<=t[n+1])&&this.activate(r[n])},activate:function(n){var t;this.activeTarget=n,this.$body.find(this.selector).parent(".active").removeClass("active"),t=this.$body.find(this.selector+'[href="'+n+'"]').parent("li").addClass("active"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active")}},n.fn.scrollspy=function(i){return this.each(function(){var u=n(this),r=u.data("scrollspy");r||u.data("scrollspy",r=new t(this)),typeof i=="string"&&r[i]()})},n.fn.scrollspy.Constructor=t,n(function(){n('[data-spy="scroll"]').scrollspy()})}(window.jQuery),!function(n){"use strict";var t=function(t){this.element=n(t)};t.prototype={constructor:t,show:function(){var t=this.element,u=t.closest("ul:not(.dropdown-menu)"),f=t.attr("data-target")||t.attr("href"),i,r;if(t.parent("li").hasClass("active"))return;i=u.find(".active a").last()[0],t.trigger({type:"show",relatedTarget:i}),r=n(f),this.activate(t.parent("li"),u),this.activate(r,r.parent(),function(){t.trigger({type:"shown",relatedTarget:i})})},activate:function(t,i,r){function e(){u.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),f?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),r&&r()}var u=i.find("> .active"),f=r&&n.support.transition&&u.hasClass("fade");f?u.one(n.support.transition.end,e):e(),u.removeClass("in")}},n.fn.tab=function(i){return this.each(function(){var u=n(this),r=u.data("tab");r||u.data("tab",r=new t(this)),typeof i=="string"&&r[i]()})},n.fn.tab.Constructor=t,n(function(){n("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),n(this).tab("show")})})}(window.jQuery),!function(n){"use strict";var t=function(n,t){this.init("tooltip",n,t)};t.prototype={constructor:t,init:function(t,i,r){var f,u;this.type=t,this.$element=n(i),this.options=this.getOptions(r),this.enabled=!0,this.options.trigger!="manual"&&(f=this.options.trigger=="hover"?"mouseenter":"focus",u=this.options.trigger=="hover"?"mouseleave":"blur",this.$element.on(f,this.options.selector,n.proxy(this.enter,this)),this.$element.on(u,this.options.selector,n.proxy(this.leave,this))),this.options.selector?this._options=n.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=n.extend({},n.fn[this.type].defaults,t,this.$element.data()),t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var i=n(t.currentTarget)[this.type](this._options).data(this.type);!i.options.delay||!i.options.delay.show?i.show():(i.hoverState="in",setTimeout(function(){i.hoverState=="in"&&i.show()},i.options.delay.show))},leave:function(t){var i=n(t.currentTarget)[this.type](this._options).data(this.type);!i.options.delay||!i.options.delay.hide?i.hide():(i.hoverState="out",setTimeout(function(){i.hoverState=="out"&&i.hide()},i.options.delay.hide))},show:function(){var t,f,n,u,e,i,r;if(this.hasContent()&&this.enabled){t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),i=typeof this.options.placement=="function"?thing.call(this,t[0],this.$element[0]):this.options.placement,f=/in/.test(i),t.remove().css({top:0,left:0,display:"block"}).appendTo(f?this.$element:document.body),n=this.getPosition(f),u=t[0].offsetWidth,e=t[0].offsetHeight;switch(f?i.split(" ")[1]:i){case"bottom":r={top:n.top+n.height,left:n.left+n.width/2-u/2};break;case"top":r={top:n.top-e,left:n.left+n.width/2-u/2};break;case"left":r={top:n.top+n.height/2-e/2,left:n.left-u};break;case"right":r={top:n.top+n.height/2-e/2,left:n.left+n.width}}t.css(r).addClass(i).addClass("in")}},setContent:function(){var n=this.tip();n.find(".tooltip-inner").html(this.getTitle()),n.removeClass("fade in top bottom left right")},hide:function(){function i(){var i=setTimeout(function(){t.off(n.support.transition.end).remove()},500);t.one(n.support.transition.end,function(){clearTimeout(i),t.remove()})}var r=this,t=this.tip();t.removeClass("in"),n.support.transition&&this.$tip.hasClass("fade")?i():t.remove()},fixTitle:function(){var n=this.$element;(n.attr("title")||typeof n.attr("data-original-title")!="string")&&n.attr("data-original-title",n.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(t){return n.extend({},t?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var n,i=this.$element,t=this.options;return n=i.attr("data-original-title")||(typeof t.title=="function"?t.title.call(i[0]):t.title),n=n.toString().replace(/(^\s*|\s*$)/,""),n},tip:function(){return this.$tip=this.$tip||n(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}},n.fn.tooltip=function(i){return this.each(function(){var u=n(this),r=u.data("tooltip"),f=typeof i=="object"&&i;r||u.data("tooltip",r=new t(this,f)),typeof i=="string"&&r[i]()})},n.fn.tooltip.Constructor=t,n.fn.tooltip.defaults={animation:!0,delay:0,selector:!1,placement:"top",trigger:"hover",title:"",template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}}(window.jQuery),!function(n){"use strict";var t=function(n,t){this.init("popover",n,t)};t.prototype=n.extend({},n.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var t=this.tip(),r=this.getTitle(),i=this.getContent();t.find(".title")[n.type(r)=="object"?"append":"html"](r),t.find(".content > *")[n.type(i)=="object"?"append":"html"](i),t[0].className="popover"},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var n,i=this.$element,t=this.options;return n=i.attr("data-content")||(typeof t.content=="function"?t.content.call(i[0]):t.content),n=n.toString().replace(/(^\s*|\s*$)/,""),n},tip:function(){return this.$tip||(this.$tip=n(this.options.template)),this.$tip}}),n.fn.popover=function(i){return this.each(function(){var u=n(this),r=u.data("popover"),f=typeof i=="object"&&i;r||u.data("popover",r=new t(this,f)),typeof i=="string"&&r[i]()})},n.fn.popover.Constructor=t,n.fn.popover.defaults=n.extend({},n.fn.tooltip.defaults,{placement:"right",content:"",template:'<div class="popover"><div class="arrow"></div><div class="inner"><h3 class="title"></h3><div class="content"><p></p></div></div></div>'})}(window.jQuery),!function(n){"use strict";var i='[data-dismiss="alert"]',t=function(t){n(t).on("click",i,this.close)};t.prototype={constructor:t,close:function(t){function u(){i.remove(),i.trigger("closed")}var r=n(this),f=r.attr("data-target")||r.attr("href"),i=n(f);i.trigger("close"),t&&t.preventDefault(),i.length||(i=r.hasClass("alert-message")?r:r.parent()),i.removeClass("in"),n.support.transition&&i.hasClass("fade")?i.on(n.support.transition.end,u):u()}},n.fn.alert=function(i){return this.each(function(){var u=n(this),r=u.data("alert");r||u.data("alert",r=new t(this)),typeof i=="string"&&r[i].call(u)})},n.fn.alert.Constructor=t,n(function(){n("body").on("click.alert.data-api",i,t.prototype.close)})}(window.jQuery),!function(n){"use strict";var t=function(t,i){this.$element=n(t),this.options=n.extend({},n.fn.button.defaults,i)};t.prototype={constructor:t,setState:function(n){var i="disabled",t=this.$element,u=t.data(),r=t.is("input")?"val":"html";n+="Text",u.resetText||t.data("resetText",t[r]()),t[r](u[n]||this.options[n]),setTimeout(function(){n=="loadingText"?t.addClass(i).attr(i,i):t.removeClass(i).removeAttr(i)},0)},toggle:function(){var n=this.$element.parent('[data-toggle="buttons-radio"]');n&&n.find(".active").removeClass("active"),this.$element.toggleClass("active")}},n.fn.button=function(i){return this.each(function(){var u=n(this),r=u.data("button"),f=typeof i=="object"&&i;r||u.data("button",r=new t(this,f)),i=="toggle"?r.toggle():i&&r.setState(i)})},n.fn.button.defaults={loadingText:"loading..."},n.fn.button.Constructor=t,n(function(){n("body").on("click.button.data-api","[data-toggle^=button]",function(t){n(t.target).button("toggle")})})}(window.jQuery),!function(n){"use strict";var t=function(t,i){this.$element=n(t),this.options=n.extend({},n.fn.collapse.defaults,i),this.options.parent&&(this.$parent=n(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var n=this.$element.hasClass("width");return n?"width":"height"},show:function(){var i=this.dimension(),u=n.camelCase(["scroll",i].join("-")),t=this.$parent&&this.$parent.find(".in"),r;t&&t.length&&(r=t.data("collapse"),t.collapse("hide"),r||t.data("collapse",null)),this.$element[i](0),this.transition("addClass","show","shown"),this.$element[i](this.$element[0][u])},hide:function(){var n=this.dimension();this.reset(this.$element[n]()),this.transition("removeClass","hide","hidden"),this.$element[n](0)},reset:function(n){var t=this.dimension();this.$element.removeClass("collapse")[t](n||"")[0].offsetWidth,this.$element.addClass("collapse")},transition:function(t,i,r){var f=this,u=function(){i=="show"&&f.reset(),f.$element.trigger(r)};this.$element.trigger(i)[t]("in"),n.support.transition&&this.$element.hasClass("collapse")?this.$element.one(n.support.transition.end,u):u()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}},n.fn.collapse=function(i){return this.each(function(){var u=n(this),r=u.data("collapse"),f=typeof i=="object"&&i;r||u.data("collapse",r=new t(this,f)),typeof i=="string"&&r[i]()})},n.fn.collapse.defaults={toggle:!0},n.fn.collapse.Constructor=t,n(function(){n("body").on("click.collapse.data-api","[data-toggle=collapse]",function(t){var i=n(this),r=i.attr("data-target")||i.attr("href"),u=n(r).data("collapse")?"toggle":i.data();t.preventDefault(),n(r).collapse(u)})})}(window.jQuery),!function(n){"use strict";var t=function(t,i){this.$element=n(t),this.options=n.extend({},n.fn.carousel.defaults,i),this.options.slide&&this.slide(this.options.slide)};t.prototype={cycle:function(){return this.interval=setInterval(n.proxy(this.next,this),this.options.interval),this},pause:function(){return clearInterval(this.interval),this},next:function(){if(!this.sliding)return this.slide("next")},prev:function(){if(!this.sliding)return this.slide("prev")},slide:function(t){var u=this.$element.find(".active"),i=u[t](),e=this.interval,r=t=="next"?"left":"right",o=t=="next"?"first":"last",f=this;return this.sliding=!0,e&&this.pause(),i=i.length?i:this.$element.find(".item")[o](),!n.support.transition&&this.$element.hasClass("slide")?(this.$element.trigger("slide"),u.removeClass("active"),i.addClass("active"),this.$element.trigger("slid"),this.sliding=!1):(i.addClass(t),i[0].offsetWidth,u.addClass(r),i.addClass(r),this.$element.trigger("slide"),this.$element.one(n.support.transition.end,function(){i.removeClass([t,r].join(" ")).addClass("active"),u.removeClass(["active",r].join(" ")),f.$element.trigger("slid"),f.sliding=!1})),e&&this.cycle(),this}},n.fn.carousel=function(i){return this.each(function(){var f=n(this),r=f.data("carousel"),u=typeof i=="object"&&i;r||f.data("carousel",r=new t(this,u)),typeof i=="string"||(i=u.slide)?r[i]():r.cycle()})},n.fn.carousel.defaults={interval:5e3},n.fn.carousel.Constructor=t,n(function(){n("body").on("click.carousel.data-api","[data-slide]",function(){var r=n(this),i=n(r.attr("data-target")||r.attr("href")),u=!i.data("modal")&&n.extend({},i.data(),r.data());i.carousel(u)})})}(window.jQuery),!function(n){"use strict";var t=function(t,i){this.$element=n(t),this.options=n.extend({},n.fn.typeahead.defaults,i),this.$menu=n(this.options.menu).appendTo("body"),this.data=this.options.data,this.shown=!1,this.listen()};t.prototype={constructor:t,matcher:function(n,t){return~n.indexOf(t)},select:function(){var n=this.$menu.find(".active").attr("data-value");return this.$element.val(n),this.hide()},show:function(){var t=n.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});return this.$menu.css({top:t.top+t.height,left:t.left}),this.$menu.show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var i=this.$element.val(),r=this,t;return i?(t=this.data.filter(function(n){if(r.matcher(n,i))return n}),t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this):this.shown?this.hide():this},render:function(t){var i=this;return t=n(t).map(function(t,r){return t=n(i.options.item).attr("data-value",r),t.find("a").text(r),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(){var r=this.$menu.find(".active").removeClass("active"),i=r.next();i.length||(i=n(this.$menu.find("li")[0])),i.addClass("active")},prev:function(){var i=this.$menu.find(".active").removeClass("active"),t=i.prev();t.length||(t=this.$menu.find("li").last()),t.addClass("active")},keyup:function(n){n.stopPropagation(),n.preventDefault();switch(n.keyCode){case 40:case 38:break;case 9:case 13:this.select();break;case 27:this.hide();break;default:this.lookup()}},keypress:function(n){n.stopPropagation();switch(n.keyCode){case 9:case 13:case 27:n.preventDefault();break;case 38:if(!this.shown)return;n.preventDefault(),this.prev();break;case 40:if(!this.shown)return;n.preventDefault(),this.next()}},blur:function(n){var t=this;n.stopPropagation(),n.preventDefault(),setTimeout(function(){t.hide()},150)},click:function(n){n.stopPropagation(),n.preventDefault(),this.select()},mouseenter:function(t){this.$menu.find(".active").removeClass("active"),n(t.currentTarget).addClass("active")},listen:function(){this.$element.on("blur",n.proxy(this.blur,this)).on("keypress",n.proxy(this.keypress,this)).on("keyup",n.proxy(this.keyup,this)),(n.browser.webkit||n.browser.msie)&&this.$element.on("keydown",n.proxy(this.keypress,this)),this.$menu.on("click",n.proxy(this.click,this)).on("mouseenter","li",n.proxy(this.mouseenter,this))}},n.fn.typeahead=function(i){return this.each(function(){var u=n(this),r=u.data("typeahead"),f=typeof i=="object"&&i;r||u.data("typeahead",r=new t(this,f)),typeof i=="string"&&r[i]()})},n.fn.typeahead.defaults={items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>'},n.fn.typeahead.Constructor=t,n(function(){n("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var i=n(this);if(i.data("typeahead"))return;t.preventDefault(),i.typeahead(i.data())})})}(window.jQuery);var MarkdownDeep=new function(){function a(n,t){if(n.indexOf!==undefined)return n.indexOf(t);for(var i=0;i<n.length;i++)if(n[i]===t)return i;return-1}function u(){this.bz=new nt(this),this.bC=[],this.bE=new f,this.bF=new f}function pt(n,t,i,r){return n.slice(0,t).concat(r).concat(n.slice(t+i))}function k(n){return n>="0"&&n<="9"}function ii(n){return n>="0"&&n<="9"||n>="a"&&n<="f"||n>="A"&&n<="F"}function st(n){return n>="a"&&n<="z"||n>="A"&&n<="Z"}function c(n){return n>="a"&&n<="z"||n>="A"&&n<="Z"||n>="0"&&n<="9"}function i(n){return n==" "||n=="\t"||n=="\r"||n=="\n"}function b(n){return n==" "||n=="\t"}function ft(n){return n=="\r"||n=="\n"}function it(n){return n=="*"||n=="_"}function d(n,t){switch(n){case"\\":case"`":case"*":case"_":case"{":case"}":case"[":case"]":case"(":case")":case">":case"#":case"+":case"-":case".":case"!":return!0;case":":case"|":case"=":case"<":return t}return!1}function g(n,t){var r,i;if(n.charAt(t)!="&")return-1;r=t,t++,n.charAt(t)=="#"?(t++,n.charAt(t)=="x"||n.charAt(t)=="X"?(t++,i=ii):i=k):i=c;if(i(n.charAt(t))){t++;while(i(n.charAt(t)))t++;if(n.charAt(t)==";")return t++,t}return t=r,-1}function l(n,t){var r=n.indexOf("\\"),u,i;if(r<0)return n;u=new f,i=0;while(r>=0)d(n.charAt(r+1),t)&&(r>i&&u.x(n.substr(i,r-i)),i=r+1),r=n.indexOf("\\",r+1);return i<n.length&&u.x(n.substr(i,n.length-i)),u.bh()}function e(n){var t=0,r=n.length;while(t<r&&i(n.charAt(t)))t++;while(r-1>t&&i(n.charAt(r-1)))r--;return n.substr(t,r-t)}function bt(n){var i=n.indexOf("@"),t;if(i<0)return!1;return t=n.lastIndexOf("."),t<i?!1:!0}function ui(n){return n=n.toLowerCase(),n.substr(0,7)=="http://"?!0:n.substr(0,8)=="https://"?!0:n.substr(0,6)=="ftp://"?!0:n.substr(0,7)=="file://"?!0:!1}function dt(n){var i,t;if(!n)return!1;if(!st(n.charAt(0)))return!1;for(i=0;i<n.length;i++){t=n.charAt(i);if(c(t)||t=="_"||t=="-"||t==":"||t==".")continue;return!1}return!0}function lt(n,t,r){var u=r-1,o,e,f;while(u>=t&&i(n.charAt(u)))u--;if(u<t||n.charAt(u)!="}")return null;o=u,u--;while(u>=t&&n.charAt(u)!="{")u--;if(u<t||n.charAt(u+1)!="#")return null;e=u+2,f=n.substr(e,o-e);if(!dt(f))return null;while(u>t&&i(n.charAt(u-1)))u--;return{id:f,end:u}}function ct(n,t){return n.substr(0,t.length)==t}function gt(n,t){return n.substr(-t.length)==t}function et(n){return n.indexOf("://")>=0||ct(n,"mailto:")}function f(){this.bq=[]}function v(){this.aU.apply(this,arguments)}function h(n){this.name=n,this.attributes={},this.flags=0,this.closed=!1,this.closing=!1}function at(n){return n=n.toLowerCase(),n.substr(0,7)=="http://"||n.substr(0,8)=="https://"||n.substr(0,6)=="ftp://"}function w(n){var i=n.by,t=kt(n);return t!=null?t:(n.by=i,null)}function kt(n){var u,f,t,r;if(n.H()!="<")return null;n.a5(1);if(n.a9("!--")){n.az();if(n.Z("-->"))return u=new h("!"),u.attributes.content=n.W(),u.closed=!0,n.a5(3),u}f=n.aW("/"),n.az();if(!n.a7())return null;t=new h(n.W()),t.closing=f;if(f)return n.H()!=">"?null:(n.a5(1),t);while(!n.J()){n.bd();if(n.a9("/>"))return t.closed=!0,t;if(n.aW(">"))return t;n.az();if(!n.a7())return null;r=n.W(),n.bd();if(n.aW("=")){n.bd();if(n.aW('"')){n.az();if(!n.Z('"'))return null;t.attributes[r]=n.W(),n.a5(1)}else{n.az();while(!n.J()&&!i(n.H())&&n.H()!=">"&&n.H()!="/")n.a5(1);n.J()||(t.attributes[r]=n.W())}}else t.attributes[r]=""}return null}function y(n,t,i){this.id=n,this.url=t,this.title=i==undefined?null:i}function wt(n,t){var r=n.by,i=vt(n,t);return i==null&&(n.by=r),i}function vt(n,t){var i,r;n.bd();if(!n.aW("["))return null;n.az();if(!n.Z("]"))return null;i=n.W();if(i.length==0)return null;if(!n.a9("]:"))return null;return r=ot(n,i,t),n.a8(),n.Y()?r:null}function ot(n,t,r){var u,h,s,f,a,v,o,c;n.bd();if(n.Y())return null;u=new y(t);if(n.aW("<")){n.az();while(n.H()!=">"){if(n.J())return null;n.a2(r)}h=n.W();if(!n.aW(">"))return null;u.url=l(e(h),r),n.bd()}else{n.az(),s=1;while(!n.Y()){f=n.H();if(i(f))break;if(t==null)if(f=="(")s++;else if(f==")"){s--;if(s==0)break}n.a2(r)}u.url=l(e(n.W()),r)}n.a8();if(n.H()==")")return u;a=n.Y(),v=n.by,n.Y()&&(n.aZ(),n.a8());switch(n.H()){case"'":case'"':o=n.H();break;case"(":o=")";break;default:return a?(n.by=v,u):null}n.a5(1),n.az();for(;;){if(n.Y())return null;if(n.H()==o){if(o!=")"){c=n.by,n.a5(1),n.a8();if(t==null&&n.H()!=")"||t!=null&&!n.Y())continue;n.by=c}break}n.a2(r)}return u.title=l(n.W(),r),n.a5(1),u}function p(n,t){this.def=n,this.link_text=t}function ht(n,t,i){this.type=n,this.startOffset=t,this.length=i,this.X=null}function nt(n){this.bw=n,this.bB=new v,this.bG=[],this.br=!1,this.bH=[]}function tt(){}function o(n,t){this.bw=n,this.bx=0,this.bo=t}function rt(){this.bp=[],this.bu=null,this.bA=[]}function yt(n){var t,r,u,i;n.a8();if(n.H()!="|"&&n.H()!=":"&&n.H()!="-")return null;t=null,n.aW("|")&&(t=new rt,t.ax=!0);for(;;){n.a8();if(n.H()=="|")return null;r=n.aW(":");while(n.H()=="-")n.a5(1);u=n.aW(":"),n.a8(),i=0,r&&u?i=3:r?i=1:u&&(i=2);if(n.Y())return t==null?null:(t.bp.push(i),t);if(!n.aW("|"))return null;t==null&&(t=new rt),t.bp.push(i),n.a8();if(n.Y())return t.bk=!0,t}}var n;u.prototype={SafeMode:!1,ExtraMode:!1,MarkdownInHtml:!1,AutoHeadingIDs:!1,UrlBaseLocation:null,UrlRootLocation:null,NewWindowForExternalLinks:!1,NewWindowForLocalLinks:!1,NoFollowLinks:!1,HtmlClassFootnotes:"footnotes",HtmlClassTitledImages:null,RenderingTitledImage:!1,FormatCodeBlockAttributes:null,FormatCodeBlock:null,ExtractHeadBlocks:!1,HeadBlockContent:""},n=u.prototype,u.prototype.GetListItems=function(n,t){for(var u=this.aE(n),r,o,f,s,e,i=0;i<u.length;i++){r=u[i];if((r.v==23||r.v==15||r.v==22)&&r.C){u=pt(u,i,1,r.C),i--;continue}if(t<r.ay)break}i--;if(i<0)return null;o=u[i];if(o.v!=21&&o.v!=20)return null;for(f=[],s=o.C,e=0;e<s.length;e++)f.push(s[e].ay);return i++,i<u.length?f.push(u[i].ay):f.push(n.length),f},u.prototype.Transform=function(n){var l=n.indexOf("\r"),s,o,f,h,t,c,r,u,e,i;l<0||(s=n.indexOf("\n"),s<0||(n=s<l?n.replace(/\n\r/g,"\n"):n.replace(/\r\n/g,"\n")),n=n.replace(/\r/g,"\n")),this.HeadBlockContent="",o=this.aE(n);if(this.bn!=null){f=[];for(h in this.bn)f.push(this.bn[h]);f.sort(function(n,t){return t.Abbr.length-n.Abbr.length}),this.bn=f}for(t=this.bF,t.K(),r=0;r<o.length;r++)c=o[r],c.l(this,t);if(this.bI.length>0){for(t.x('\n<div class="'),t.x(this.HtmlClassFootnotes),t.x('">\n'),t.x("<hr />\n"),t.x("<ol>\n"),r=0;r<this.bI.length;r++)u=this.bI[r],t.x('<li id="#fn:'),t.x(u.X),t.x('">\n'),e='<a href="#fnref:'+u.X+'" rev="footnote">&#8617;</a>',i=u.C[u.C.length-1],i.v==12?(i.v=29,i.X=e):(i=new tt,i.N=0,i.v=29,i.X=e,u.C.push(i)),u.l(this,t),t.x("</li>\n");t.x("</ol\n"),t.x("</div>\n")}return t.bh()},u.prototype.OnQualifyUrl=function(n){var i,t;if(et(n))return n;if(ct(n,"/")){i=this.UrlRootLocation;if(!i){if(!this.UrlBaseLocation)return n;t=this.UrlBaseLocation.indexOf("://"),t==-1?t=0:t+=3,t=this.UrlBaseLocation.indexOf("/",t),i=t<0?this.UrlBaseLocation:this.UrlBaseLocation.substr(0,t)}return i+n}return this.UrlBaseLocation?gt(this.UrlBaseLocation,"/")?this.UrlBaseLocation+n:this.UrlBaseLocation+"/"+n:n},u.prototype.OnGetImageSize=function(){return null},u.prototype.OnPrepareLink=function(n){var t=n.attributes.href;this.NoFollowLinks&&(n.attributes.rel="nofollow"),(this.NewWindowForExternalLinks&&et(t)||this.NewWindowForLocalLinks&&!et(t))&&(n.attributes.target="_blank"),n.attributes.href=this.OnQualifyUrl(t)},u.prototype.OnPrepareImage=function(n,t){var i=this.OnGetImageSize(n.attributes.src,t);i!=null&&(n.attributes.width=i.width,n.attributes.height=i.height),n.attributes.src=this.OnQualifyUrl(n.attributes.src)},u.prototype.GetLinkDefinition=function(n){var t=this.bv[n];return t==undefined?null:t},n.aE=function(n){return this.bv=[],this.bs=[],this.bI=[],this.bJ=[],this.bn=null,new o(this,this.MarkdownInHtml).aH(n)},n.A=function(n){this.bv[n.id]=n},n.z=function(n){this.bs[n.X]=n},n.Q=function(n){var t=this.bs[n];return t!=undefined?(this.bI.push(t),delete this.bs[n],this.bI.length-1):-1},n.y=function(n,t){this.bn==null&&(this.bn=[]),this.bn[n]={Abbr:n,Title:t}},n.am=function(){return this.bn},n.aC=function(n,t,i){var u,r,f;if(!this.AutoHeadingIDs)return null;u=this.bz.aB(n,t,i),u||(u="section"),r=u,f=1;while(this.bJ[r]!=undefined)r=u+"-"+f.toString(),f++;return this.bJ[r]=!0,r},n.as=function(){return this.bE.K(),this.bE},n=f.prototype,n.x=function(n){n&&this.bq.push(n)},n.K=function(){this.bq.length=0},n.bh=function(){return this.bq.join("")},n.aw=function(n){for(var r=n.length,i,t=0;t<r;t++)i=Math.random(),i>.9&&n.charAt(t)!="@"?this.x(n.charAt(t)):i>.45?(this.x("&#"),this.x(n.charCodeAt(t).toString()),this.x(";")):(this.x("&#x"),this.x(n.charCodeAt(t).toString(16)),this.x(";"))},n.au=function(n,t,i){for(var f=t+i,r=t,u=t;u<f;u++)switch(n.charAt(u)){case"&":u>r&&this.x(n.substr(r,u-r)),this.x("&amp;"),r=u+1;break;case"<":u>r&&this.x(n.substr(r,u-r)),this.x("&lt;"),r=u+1;break;case">":u>r&&this.x(n.substr(r,u-r)),this.x("&gt;"),r=u+1;break;case'"':u>r&&this.x(n.substr(r,u-r)),this.x("&quot;"),r=u+1}u>r&&this.x(n.substr(r,u-r))},n.bf=function(n,t,i){for(var e=t+i,u=t,f,r=t;r<e;r++)switch(n.charAt(r)){case"&":f=g(n,r),f<0?(r>u&&this.x(n.substr(u,r-u)),this.x("&amp;"),u=r+1):r=f-1;break;case"<":r>u&&this.x(n.substr(u,r-u)),this.x("&lt;"),u=r+1;break;case">":r>u&&this.x(n.substr(u,r-u)),this.x("&gt;"),u=r+1;break;case'"':r>u&&this.x(n.substr(u,r-u)),this.x("&quot;"),u=r+1}r>u&&this.x(n.substr(u,r-u))},n.be=function(n,t,i){for(var e=t+i,u=t,f,r=t;r<e;r++)switch(n.charAt(r)){case"&":f=g(n,r),f<0?(r>u&&this.x(n.substr(u,r-u)),this.x("&amp;"),u=r+1):r=f-1}r>u&&this.x(n.substr(u,r-u))},n.av=function(n,t,i){for(var e=t+i,r=t,f=0,u=t;u<e;u++){switch(n.charAt(u)){case"\t":u>r&&this.x(n.substr(r,u-r)),r=u+1,this.x(" "),f++;while(f%4!=0)this.x(" "),f++;f--;break;case"\r":case"\n":u>r&&this.x(n.substr(r,u-r)),this.x("\n"),r=u+1;continue;case"&":u>r&&this.x(n.substr(r,u-r)),this.x("&amp;"),r=u+1;break;case"<":u>r&&this.x(n.substr(r,u-r)),this.x("&lt;"),r=u+1;break;case">":u>r&&this.x(n.substr(r,u-r)),this.x("&gt;"),r=u+1;break;case'"':u>r&&this.x(n.substr(r,u-r)),this.x("&quot;"),r=u+1}f++}u>r&&this.x(n.substr(r,u-r))},n=v.prototype,n.D=function(){return this.by==this.start},n.J=function(){return this.by>=this.end},n.Y=function(){if(this.by>=this.end)return!0;var n=this.E.charAt(this.by);return n=="\r"||n=="\n"||n==undefined||n==""},n.aU=function(){this.E=arguments.length>0?arguments[0]:null,this.start=arguments.length>1?arguments[1]:0,this.end=arguments.length>2?this.start+arguments[2]:this.E==null?0:this.E.length,this.by=this.start,this.charset_offsets={}},n.H=function(){return this.by>=this.end?"\x00":this.E.charAt(this.by)},n.aM=function(){return this.E.substr(this.by)},n.ba=function(){this.by=this.end},n.a5=function(n){this.by+=n},n.bb=function(){this.by=this.E.indexOf("\n",this.by),this.by<0&&(this.by=this.end)},n.aZ=function(){var n=this.by;return this.E.charAt(this.by)=="\r"&&this.by++,this.E.charAt(this.by)=="\n"&&this.by++,this.by!=n},n.bc=function(){this.bb(),this.aZ()},n.F=function(n){return this.by+n>=this.end?"\x00":this.E.charAt(this.by+n)},n.aW=function(n){return this.E.charAt(this.by)==n?(this.by++,!0):!1},n.a9=function(n){return this.E.substr(this.by,n.length)==n?(this.by+=n.length,!0):!1},n.bd=function(){for(var t=this.by,n;;){n=this.E.charAt(this.by);if(n!=" "&&n!="\t"&&n!="\r"&&n!="\n")break;this.by++}return this.by!=t},n.a8=function(){for(var t=this.by,n;;){n=this.E.charAt(this.by);if(n!=" "&&n!="\t")break;this.by++}return this.by!=t},n.aa=function(n){n.lastIndex=this.by;var t=n.exec(this.E);return t==null?(this.by=this.end,!1):t.index+t[0].length>this.end?(this.by=this.end,!1):(this.by=t.index,!0)},n.ad=function(t){var r=-1,u,i;for(u in t)i=t[u],i==null&&(i={},i.bD=-1,i.bt=-1,t[u]=i),(i.bD==-1||this.by<i.bD||this.by>=i.bt&&i.bt!=-1)&&(i.bD=this.by,i.bt=this.E.indexOf(u,this.by)),(r==-1||i.bt<r)&&(r=i.bt);return r==-1?(r=this.end,!1):(n.by=r,!0)},n.Z=function(n){return this.by=this.E.indexOf(n,this.by),this.by<0?(this.by=this.end,!1):!0},n.az=function(){this.mark=this.by},n.W=function(){return this.mark<this.by?this.E.substr(this.mark,this.by-this.mark):""},n.a7=function(){var n=this.E.charAt(this.by);if(n>="a"&&n<="z"||n>="A"&&n<="Z"||n=="_"){this.by++;for(;;){n=this.E.charAt(this.by);if((n<"a"||n>"z")&&(n<"A"||n>"Z")&&n!="_"&&(n<"0"||n>"9"))return!0;this.by++}}return!1},n.a4=function(){var i=this.by,n,t;this.a8(),this.az();for(;;){n=this.H();if(c(n)||n=="-"||n=="_"||n==":"||n=="."||n==" ")this.a5(1);else break}if(this.by>this.mark){t=e(this.W());if(t.length>0)return this.a8(),t}return this.by=i,null},n.a6=function(){if(this.E.charAt(this.by)!="&")return!1;var n=g(this.E,this.by);return n<0?!1:(this.by=n,!0)},n.a2=function(n){return this.E.charAt(this.by)=="\\"&&d(this.E.charAt(this.by+1),n)?(this.by+=2,!0):(this.by<this.end&&this.by++,!1)},n=h.prototype,n.B=function(){var n,t;if(!this.attributes)return 0;n=0;for(t in this.attributes)n++;return n},n.ap=function(){return this.flags==0&&(this.flags=ti[this.name.toLowerCase()],this.flags==undefined&&(this.flags=2)),this.flags},n.at=function(){var i=this.name.toLowerCase(),n,t;if(!ni[i])return!1;n=ri[i];if(!n)return this.B()==0;if(!this.attributes)return!0;for(t in this.attributes)if(!n[t.toLowerCase()])return!1;if(this.attributes.href)if(!at(this.attributes.href))return!1;if(this.attributes.src)if(!at(this.attributes.src))return!1;return!0},n.aS=function(n){n.x("<"),n.x(this.name);for(var t in this.attributes)n.x(" "),n.x(t),n.x('="'),n.x(this.attributes[t]),n.x('"');this.closed?n.x(" />"):n.x(">")},n.aO=function(n){n.x("</"),n.x(this.name),n.x(">")};var ni={b:1,blockquote:1,code:1,dd:1,dt:1,dl:1,del:1,em:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,i:1,kbd:1,li:1,ol:1,ul:1,p:1,pre:1,s:1,sub:1,sup:1,strong:1,strike:1,img:1,a:1},ri={a:{href:1,title:1},img:{src:1,width:1,height:1,alt:1,title:1}},t=1,s=2,ut=4,r=8,ti={p:t|r,div:t,h1:t|r,h2:t|r,h3:t|r,h4:t|r,h5:t|r,h6:t|r,blockquote:t,pre:t,table:t,dl:t,ol:t,ul:t,form:t,fieldset:t,iframe:t,script:t|s,noscript:t|s,math:t|s,ins:t|s,del:t|s,img:t|s,li:r,dd:r,dt:r,td:r,th:r,legend:r,address:r,hr:t|ut,"!":t|ut,head:t};delete t,delete s,delete ut,n=y.prototype,n.aR=function(n,t,i){if(this.url.substr(0,7).toLowerCase()=="mailto:")t.x('<a href="'),t.aw(this.url),t.x('"'),this.title&&(t.x(' title="'),t.bf(this.title,0,this.title.length),t.x('"')),t.x(">"),t.aw(i),t.x("</a>");else{var u=new h("a"),r=n.as();r.bf(this.url,0,this.url.length),u.attributes.href=r.bh(),this.title&&(r.K(),r.bf(this.title,0,this.title.length),u.attributes.title=r.bh()),n.OnPrepareLink(u),u.aS(t),t.x(i),t.x("</a>")}},n.aP=function(n,t,i){var u=new h("img"),r=n.as();r.bf(this.url,0,this.url.length),u.attributes.src=r.bh(),i&&(r.K(),r.bf(i,0,i.length),u.attributes.alt=r.bh()),this.title&&(r.K(),r.bf(this.title,0,this.title.length),u.attributes.title=r.bh()),u.closed=!0,n.OnPrepareImage(u,n.RenderingTitledImage),u.aS(t)},n=nt.prototype,n.ah=function(n,t,i,r){this.bj(t,i,r);if(this.bH.length==1&&this.bw.HtmlClassTitledImages!=null&&this.bH[0].type==10){var u=this.bH[0].X;n.x('<div class="'),n.x(this.bw.HtmlClassTitledImages),n.x('">\n'),this.bw.RenderingTitledImage=!0,this.l(n,t),this.bw.RenderingTitledImage=!1,n.x("\n"),u.def.title&&(n.x("<p>"),n.bf(u.def.title,0,u.def.title.length),n.x("</p>\n")),n.x("</div>\n")}else n.x("<p>"),this.l(n,t),n.x("</p>\n")},n.af=function(n,t){this.ae(n,t,0,t.length)},n.ae=function(n,t,i,r){this.bj(t,i,r),this.l(n,t)},n.ag=function(n){var t=new f;return this.ae(t,n,0,n.length),t.bh()},n.aB=function(n,t,i){var h,u,s,o,r,e;for(this.bj(n,t,i),h=this.bH,u=new f,s=0;s<h.length;s++){o=h[s];switch(o.type){case 0:u.x(n.substr(o.startOffset,o.length));break;case 9:u.x(o.X.link_text)}this.ak(o)}r=this.bB,r.aU(u.bh());while(!r.J()){if(st(r.H()))break;r.a5(1)}u.K();while(!r.J()){e=r.H();if(c(e)||e=="_"||e=="-"||e==".")u.x(e.toLowerCase());else if(e==" ")u.x("-");else if(ft(e)){u.x("-"),r.aZ();continue}r.a5(1)}return u.bh()},n.l=function(n,t){for(var s=this.bH,h=s.length,i,o,r,f,u,e=0;e<h;e++){i=s[e];switch(i.type){case 0:n.au(t,i.startOffset,i.length);break;case 1:n.be(t,i.startOffset,i.length);break;case 2:case 11:case 12:case 13:n.x(t.substr(i.startOffset,i.length));break;case 8:n.x("<br />\n");break;case 3:n.x("<em>");break;case 4:n.x("</em>");break;case 5:n.x("<strong>");break;case 6:n.x("</strong>");break;case 7:n.x("<code>"),n.au(t,i.startOffset,i.length),n.x("</code>");break;case 9:r=i.X,o=new nt(this.bw),o.br=!0,r.def.aR(this.bw,n,o.ag(r.link_text));break;case 10:r=i.X,r.def.aP(this.bw,n,r.link_text);break;case 14:f=i.X,n.x('<sup id="fnref:'),n.x(f.id),n.x('"><a href="#fn:'),n.x(f.id),n.x('" rel="footnote">'),n.x(f.index+1),n.x("</a></sup>");break;case 15:u=i.X,n.x("<abbr"),u.Title&&(n.x(' title="'),n.au(u.Title,0,u.Title.length),n.x('"')),n.x(">"),n.au(u.Abbr,0,u.Abbr.length),n.x("</abbr>")}this.ak(i)}},n.bj=function(n,t,i){var r=this.bB,o,h,u,b,a,f,y,p,v;r.aU(n,t,i),o=this.bH,o.length=0;var s=null,l=this.bw.am(),k=l==null?/[\*\_\`\[\!\<\&\ \\]/g:null,g=this.bw.ExtraMode,e=r.by;while(!r.J()){if(k!=null&&!r.aa(k))break;h=r.by,u=null;switch(r.H()){case"*":case"_":u=this.P();if(u!=null)switch(u.type){case 13:case 11:case 12:s==null&&(s=[]),s.push(u)}break;case"`":u=this.aF();break;case"[":case"!":b=r.by,u=this.aI(),u==null&&(r.by=b);break;case"<":f=r.by,a=w(r),a!=null?!this.bw.SafeMode||a.at()?u=this.U(1,f,r.by-f):r.by=f:(r.by=f,u=this.aD(),u==null&&(r.by=f));break;case"&":f=r.by,r.a6()&&(u=this.U(2,f,r.by-f));break;case" ":r.F(1)==" "&&ft(r.F(2))&&(r.a5(2),r.J()||(r.aZ(),u=this.U(8,h,0)));break;case"\\":d(r.F(1),g)&&(u=this.U(0,r.by+1,1),r.a5(2))}if(u==null&&l!=null&&!c(r.F(-1))){y=r.by;for(p in l){v=l[p];if(r.a9(v.Abbr)&&!c(r.H())){u=this.O(15,v);break}r.bK=y}}u!=null?(h>e&&o.push(this.U(0,e,h-e)),o.push(u),e=r.by):r.a5(1)}r.by>e&&o.push(this.U(0,e,r.by-e)),s!=null&&this.aV(o,s)},n.P=function(){var n=this.bB,r=n.H(),o=r=="*"?"_":"*",t=n.by,e,u,f;if(n.D()||i(n.F(-1))){while(it(n.H()))n.a5(1);if(n.J()||i(n.H()))return this.U(2,t,n.by-t);n.by=t}while(it(n.F(-1)))n.a5(-1);e=n.D()||i(n.F(-1)),n.by=t;while(n.H()==r)n.a5(1);u=n.by-t;while(it(n.F(1)))n.a5(1);return f=n.J()||i(n.H()),n.by=t+u,e?this.U(11,t,n.by-t):f?this.U(12,t,n.by-t):this.bw.ExtraMode&&r=="_"?null:this.U(13,t,n.by-t)},n.bg=function(n,t,i,r){var u=this.U(i.type,i.startOffset+r,i.length-r);return i.length=r,t.splice(a(t,i)+1,0,u),n.splice(a(n,i)+1,0,u),u},n.aV=function(n,t){var s=this.bB.E,o=!0,f,i,e,u,r;while(o)for(o=!1,f=0;f<t.length;f++){i=t[f];if(i.type!=11&&i.type!=13)continue;for(e=f+1;e<t.length;e++){u=t[e];if(u.type!=12&&u.type!=13)break;if(s.charAt(i.startOffset)!=s.charAt(u.startOffset))continue;r=Math.min(i.length,u.length),r<3||(r=r%2==1?1:2),i.length>r&&(i=this.bg(n,t,i,i.length-r),f--),u.length>r&&this.bg(n,t,u,r),i.type=r==1?3:5,u.type=r==1?4:6,t.splice(a(t,i),1),t.splice(a(t,u),1),o=!0;break}}},n.aD=function(){var t,f,e,n,r,u;if(this.br)return null;t=this.bB,t.a5(1),t.az(),f=this.bw.ExtraMode;while(!t.J()){e=t.H();if(i(e))break;if(e==">")return n=l(t.W(),f),r=null,bt(n)?(n.toLowerCase().substr(0,7)=="mailto:"?u=n.substr(7):(u=n,n="mailto:"+n),r=new p(new y("auto",n,null),u)):ui(n)&&(r=new p(new y("auto",n,null),n)),r!=null?(t.a5(1),this.O(9,r)):null;t.a2(f)}return null},n.aI=function(){var n=this.bB,h=n.aW("!")?10:9,o,s,y,v,c,b,e,w,t,f,r,u,a;if(!n.aW("["))return null;o=this.by;if(this.bw.ExtraMode&&h==9&&n.aW("^")){n.a8(),n.az(),s=n.a4();if(s!=null&&n.aW("]")){y=this.bw.Q(s);if(y>=0)return this.O(14,{index:y,id:s})}this.by=o}if(this.br&&h==9)return null;v=this.bw.ExtraMode,n.az(),c=1;while(!n.J()){b=n.H();if(b=="[")c++;else if(b=="]"){c--;if(c==0)break}n.a2(v)}if(n.J())return null;e=l(n.W(),v),n.a5(1),o=n.by;if(n.aW("(")){w=ot(n,null,this.bw.ExtraMode);if(w==null)return null;return n.bd(),n.aW(")")?this.O(h,new p(w,e)):null}n.aW(" ")||n.aW("\t"),n.Y()&&(n.aZ(),n.a8()),t=null;if(n.H()=="["){n.a5(1),n.az();if(!n.Z("]"))return null;t=n.W(),n.a5(1)}else n.by=o;if(!t){t=e;for(;;){f=t.indexOf("\n");if(f<0)break;r=f;while(r>0&&i(t.charAt(r-1)))r--;u=f;while(u<t.length&&i(t.charAt(u)))u++;t=t.substr(0,r)+" "+t.substr(u)}}return a=this.bw.GetLinkDefinition(t),a==null?null:this.O(h,new p(a,e))},n.aF=function(){var n=this.bB,t=n.by,u=0,r,e,f;while(n.aW("`"))u++;n.bd();if(n.J())return this.U(0,t,n.by-t);r=n.by;if(!n.Z(n.E.substr(t,u)))return this.U(0,t,n.by-t);e=n.by+u;while(i(n.F(-1)))n.a5(-1);return f=this.U(7,r,n.by-r),n.by=e,f},n.U=function(n,t,i){if(this.bG.length!=0){var r=this.bG.pop();return r.type=n,r.startOffset=t,r.length=i,r.X=null,r}return new ht(n,t,i)},n.O=function(n,t){var i;return this.bG.length!=0?(i=this.bG.pop(),i.type=n,i.X=t,i):(i=new ht(n,0,0),i.X=t,i)},n.ak=function(n){n.X=null,this.bG.push(n)},n=tt.prototype,n.E=null,n.v=0,n.R=0,n.N=0,n.ay=0,n.aA=0,n.C=null,n.X=null,n.an=function(){return this.E==null?null:this.R==-1?this.E:this.E.substr(this.R,this.N)},n.al=function(){for(var t=new f,n=0;n<this.C.length;n++)t.x(this.C[n].an()),t.x("\n");return t.bh()},n.aN=function(n,t){for(var i=0;i<this.C.length;i++)this.C[i].l(n,t)},n.aX=function(n){if(this.X!=null)return this.X;var i=lt(this.E,this.R,this.ao()),t=null;return i!=null?(this.a3(i.end),t=i.id):t=n.aC(this.E,this.R,this.N),this.X=t,t},n.l=function(n,t){var c,u,o,r,h,s,i,l;switch(this.v){case 0:return;case 12:n.bz.ah(t,this.E,this.R,this.N);break;case 17:n.bz.ae(t,this.E,this.R,this.N),t.x("\n");break;case 1:case 2:case 3:case 4:case 5:case 6:n.ExtraMode&&!n.SafeMode?(t.x("<h"+(this.v-0).toString()),c=this.aX(n),c?(t.x(' id="'),t.x(c),t.x('">')):t.x(">")):t.x("<h"+(this.v-0).toString()+">"),n.bz.ae(t,this.E,this.R,this.N),t.x("</h"+(this.v-0).toString()+">\n");break;case 14:t.x("<hr />\n");return;case 10:case 11:t.x("<li>"),n.bz.ae(t,this.E,this.R,this.N),t.x("</li>\n");break;case 15:t.x(this.E.substr(this.R,this.N));return;case 16:t.au(this.E,this.R,this.N);return;case 18:for(t.x("<pre"),n.FormatCodeBlockAttributes!=null&&t.x(n.FormatCodeBlockAttributes(this.X)),t.x("><code>"),u=t,n.FormatCodeBlock&&(u=t,t=new f),i=0;i<this.C.length;i++)o=this.C[i],t.av(o.E,o.R,o.N),t.x("\n");n.FormatCodeBlock&&(u.x(n.FormatCodeBlock(t.bh(),this.X)),t=u),t.x("</code></pre>\n\n");return;case 9:t.x("<blockquote>\n"),this.aN(n,t),t.x("</blockquote>\n");return;case 19:t.x("<li>\n"),this.aN(n,t),t.x("</li>\n");return;case 20:t.x("<ol>\n"),this.aN(n,t),t.x("</ol>\n");return;case 21:t.x("<ul>\n"),this.aN(n,t),t.x("</ul>\n");return;case 22:r=this.X,h=r.name.toLowerCase(),h=="a"?n.OnPrepareLink(r):h=="img"&&n.OnPrepareImage(r,n.RenderingTitledImage),r.aS(t),t.x("\n"),this.aN(n,t),r.aO(t),t.x("\n");return;case 23:case 28:this.aN(n,t);return;case 24:this.X.l(n,t);return;case 25:t.x("<dd>"),this.C!=null?(t.x("\n"),this.aN(n,t)):n.bz.ae(t,this.E,this.R,this.N),t.x("</dd>\n");break;case 26:if(this.C==null)for(s=this.an().split("\n"),i=0;i<s.length;i++)l=s[i],t.x("<dt>"),n.bz.af(t,e(l)),t.x("</dt>\n");else t.x("<dt>\n"),this.aN(n,t),t.x("</dt>\n");break;case 27:t.x("<dl>\n"),this.aN(n,t),t.x("</dl>\n");return;case 29:t.x("<p>"),this.N>0&&(n.bz.ae(t,this.E,this.R,this.N),t.x("&nbsp;")),t.x(this.X),t.x("</p>\n")}},n.aY=function(){this.v=12,this.R=this.ay,this.N=this.aA},n.ao=function(){return this.R+this.N},n.a3=function(n){this.N=n-this.R},n.aq=function(){for(var t=0,n=this.ay;n<this.ay+this.aA;n++)if(this.E.charAt(n)==" ")t++;else break;return t},n.V=function(n){return this.v=n.v,this.E=n.E,this.R=n.R,this.N=n.N,this.ay=n.ay,this.aA=n.aA,this},n=o.prototype,n.aH=function(n){var t=new v(n);return this.a1(t)},n.aL=function(n,t,i){var r=new v(n,t,i);return this.a1(r)},n.bi=function(n,t,i){var r,u;if(i.length>1)return!1;if(i.length==1){r=n.by,n.by=i[0].ay,t.bu=t.aG(n);if(t.bu==null)return!1;n.by=r,i.length=0}for(;;){r=n.by,u=t.aG(n);if(u!=null){t.bA.push(u);continue}n.by=r;break}return!0},n.a1=function(n){var r=[],i=[],s=-1,h,t,f,o,e,u;while(!n.J()){h=s==0,t=this.ab(n),s=t.v,t.v==25&&(t.X=h);if(t.v==7||t.v==8){if(i.length>0){u=i.pop(),this.S(r,i);if(u.v!=0){u.aY(),u.v=t.v==7?1:2,r.push(u);continue}}t.v==7?(t.aY(),i.push(t)):t.N<3?(t.aY(),i.push(t)):(t.v=14,r.push(t));continue}f=i.length>0?i[0].v:0;if(t.v==24){o=t.X,e=n.by;if(this.bi(n,o,i)){r.push(t);continue}else n.by=e,t.aY()}switch(t.v){case 0:switch(f){case 0:this.ai(t);break;case 12:this.S(r,i),this.ai(t);break;case 9:case 10:case 11:case 25:case 28:case 13:i.push(t)}break;case 12:switch(f){case 0:case 12:i.push(t);break;case 9:case 10:case 11:case 25:case 28:u=i[i.length-1],u.v==0?(this.S(r,i),i.push(t)):i.push(t);break;case 13:this.S(r,i),i.push(t)}break;case 13:switch(f){case 0:i.push(t);break;case 12:case 9:u=i[i.length-1],u.v==0?(this.S(r,i),i.push(t)):(t.aY(),i.push(t));break;case 10:case 11:case 13:case 25:case 28:i.push(t)}break;case 9:f!=9&&this.S(r,i),i.push(t);break;case 10:case 11:switch(f){case 0:i.push(t);break;case 12:case 9:u=i[i.length-1],u.v==0||this.bx==10||this.bx==11||this.bx==25?(this.S(r,i),i.push(t)):(t.aY(),i.push(t));break;case 10:case 11:t.v!=10&&t.v!=11&&this.S(r,i),i.push(t);break;case 25:case 28:t.v!=f&&this.S(r,i),i.push(t);break;case 13:this.S(r,i),i.push(t)}break;case 25:case 28:switch(f){case 0:case 12:case 25:case 28:this.S(r,i),i.push(t);break;default:t.aY(),i.push(t)}break;default:this.S(r,i),r.push(t)}}return this.S(r,i),this.bw.ExtraMode&&this.I(r),r},n.T=function(n){var t;return t=this.bw.bC.length>1?this.bw.bC.pop():new tt,t.ay=n,t},n.ai=function(n){this.bw.bC.push(n)},n.aj=function(n){for(var t=0;t<n.length;t++)this.bw.bC.push(n[t]);n.length=0},n.aQ=function(n){for(var r=this.bw.as(),i,t=0;t<n.length;t++)i=n[t],r.x(i.E.substr(i.R,i.N)),r.x("\n");return r.bh()},n.S=function(n,t){var u,l,c,h,f,e,r,i,s;while(t.length>0&&t[t.length-1].v==0)this.ai(t.pop());if(t.length==0)return;switch(t[0].v){case 12:u=this.T(t[0].ay),u.v=12,u.E=t[0].E,u.R=t[0].R,u.a3(t[t.length-1].ao()),n.push(u),this.aj(t);break;case 9:l=this.aQ(t),c=new o(this.bw,this.bo),c.bx=9,h=this.T(t[0].ay),h.v=9,h.C=c.aH(l),this.aj(t),n.push(h);break;case 10:case 11:n.push(this.M(t));break;case 25:if(n.length>0){f=n[n.length-1];switch(f.v){case 12:f.v=26;break;case 25:break;default:e=this.T(f.ay),e.v=26,e.C=[],e.C.push(f),n.pop(),n.push(e)}}n.push(this.G(t));break;case 28:this.bw.z(this.L(t));break;case 13:for(r=this.T(t[0].ay),r.v=18,r.C=[],i=t[0].an(),i.substr(0,2)=="{{"&&i.substr(i.length-2,2)=="}}"&&(r.X=i.substr(2,i.length-4),t.splice(0,1)),s=0;s<t.length;s++)r.C.push(t[s]);n.push(r),t.length=0}},n.ab=function(n){var t=this.T(n.by);return t.E=n.E,t.R=n.by,t.N=-1,t.v=this.ac(n,t),t.N<0&&(n.bb(),t.N=n.by-t.R),t.aA=n.by-t.ay,n.aZ(),t},n.ac=function(n,t){var f,r,o,h,v,u,y,p,s,c,d,w,l,a;if(n.Y())return 0;f=n.by,r=n.H();if(r=="#"){o=1,n.a5(1);while(n.H()=="#")o++,n.a5(1);o>6&&(o=6),n.a8(),t.R=n.by,n.bb(),this.bw.ExtraMode&&!this.bw.SafeMode&&(h=lt(n.E,t.R,n.by),h!=null&&(t.X=h.id,n.by=h.end));while(n.by>t.R&&n.F(-1)=="#")n.a5(-1);while(n.by>t.R&&i(n.F(-1)))n.a5(-1);return t.N=n.by-t.R,n.bb(),1+o-1}if(r=="-"||r=="="){s=r;while(n.H()==s)n.a5(1);n.a8();if(n.Y())return s=="="?7:8;n.by=f}if(this.bw.ExtraMode){v=yt(n);if(v!=null)return t.X=v,24;n.by=f;if(r=="~"){if(this.aJ(n,t))return t.v;n.by=f}}u=-1,y=0;while(!n.Y()){if(n.H()==" ")u<0&&y++;else if(n.H()=="\t")u<0&&(u=n.by);else break;n.a5(1)}if(n.Y())return t.N=0,0;if(y>=4)return t.R=f+4,13;if(u>=0&&u-f<4)return t.R=u+1,13;t.R=n.by,r=n.H();if(r=="<"){if(this.a0(n,t))return t.v;n.by=t.R}if(r==">")return b(n.F(1))?(n.a5(2),t.R=n.by,9):(n.a5(1),t.R=n.by,9);if(r=="-"||r=="_"||r=="*"){p=0;while(!n.Y()){s=n.H();if(n.H()==r){p++,n.a5(1);continue}if(b(n.H())){n.a5(1);continue}break}if(n.Y()&&p>=3)return 14;n.by=t.R}if(this.bw.ExtraMode&&r=="*"&&n.F(1)=="["){n.a5(2),n.a8(),n.az();while(!n.Y()&&n.H()!="]")n.a5(1);c=e(n.W());if(n.H()=="]"&&n.F(1)==":"&&c)return n.a5(2),n.a8(),n.az(),n.bb(),d=n.W(),this.bw.y(c,d),0;n.by=t.R}if((r=="*"||r=="+"||r=="-")&&b(n.F(1)))return n.a5(1),n.a8(),t.R=n.by,11;if(r==":"&&this.bw.ExtraMode&&b(n.F(1)))return n.a5(1),n.a8(),t.R=n.by,25;if(k(r)){n.a5(1);while(k(n.H()))n.a5(1);if(n.aW(".")&&n.a8())return t.R=n.by,10;n.by=t.R}if(r=="["){if(this.bw.ExtraMode&&n.F(1)=="^"){w=n.by,n.a5(2),l=n.a4();if(l!=null&&n.aW("]")&&n.aW(":"))return n.a8(),t.R=n.by,t.X=l,28;n.by=w}a=wt(n,this.bw.ExtraMode);if(a!=null)return this.bw.A(a),0}return 12},n.ar=function(n){var t=n.attributes.markdown;if(t==undefined)return this.bo?3:0;return delete n.attributes.markdown,t=="1"?(n.ap()&8)!=0?2:1:t=="block"?1:t=="deep"?3:t=="span"?2:4},n.aK=function(n,t,i,r){var f=n.by,h=1,c=!1,s,e,l,u;while(!n.J()){if(!n.Z("<"))break;s=n.by,e=w(n);if(e==null){n.a5(1);continue}this.bw.SafeMode&&r==4&&!c&&(e.at()||(c=!0));if(e.closed)continue;if(e.name==i.name)if(e.closing){h--;if(h==0){n.a8(),n.aZ(),t.v=22,t.X=i,t.a3(n.by);switch(r){case 2:u=this.T(f),u.E=n.E,u.v=17,u.R=f,u.N=s-f,t.C=[],t.C.push(u);break;case 1:case 3:l=new o(this.bw,r==3),t.C=l.aL(n.E,f,s-f);break;case 4:c?(t.v=16,t.a3(n.by)):(u=this.T(f),u.E=n.E,u.v=15,u.R=f,u.N=s-f,t.C=[],t.C.push(u))}return!0}}else h++}return!1},n.a0=function(n,t){var u=n.by,f=w(n),h,a,v,p,o,y,c,r,s,l,i,b;if(f==null)return!1;if(f.closing)return!1;h=!1,this.bw.SafeMode&&!f.at()&&(h=!0),a=f.ap();if((a&1)==0)return!1;if((a&4)!=0||f.closed)return n.a8(),n.aZ(),t.N=n.by-t.R,t.v=h?16:15,!0;if((a&2)!=0){n.a8();if(!n.Y())return!1}v=this.bw.ExtractHeadBlocks&&f.name.toLowerCase()=="head",p=n.by;if(!v&&this.bw.ExtraMode){s=this.ar(f);if(s!=0)return this.aK(n,t,f,s)}o=null,y=1;while(!n.J()){if(!n.Z("<"))break;c=n.by,r=w(n);if(r==null){n.a5(1);continue}this.bw.SafeMode&&!r.at()&&(h=!0);if(r.closed)continue;if(!v&&!r.closing&&this.bw.ExtraMode&&!h){s=this.ar(r);if(s!=0){l=this.T(u);if(this.aK(n,l,r,s)){o==null&&(o=[]),c>u&&(i=this.T(u),i.E=n.E,i.v=15,i.R=u,i.N=c-u,o.push(i)),o.push(l),u=n.by;continue}else this.ai(l)}}if(r.name==f.name&&!r.closed)if(r.closing){y--;if(y==0)return n.a8(),n.aZ(),h?(t.v=16,t.a3(n.by),!0):o!=null?(n.by>u&&(i=this.T(u),i.E=n.E,i.v=15,i.R=u,i.N=n.by-u,o.push(i)),t.v=23,t.a3(n.by),t.C=o,!0):v?(b=n.E.substr(p,c-p),this.bw.HeadBlockContent=this.bw.HeadBlockContent+e(b)+"\n",t.v=15,t.R=n.bK,t.contentEnd=n.bK,t.ay=n.bK,!0):(t.v=15,t.N=n.by-t.R,!0)}else y++}return 0},n.M=function(n){for(var y=n[0].v,w=n[0].aq(),a,p,r,e,u,v,s,h,f,l,i,c,t=1;t<n.length;t++){if(n[t].v==12&&(n[t-1].v==12||n[t-1].v==11||n[t-1].v==10)){n[t-1].a3(n[t].ao()),this.ai(n[t]),n.splice(t,1),t--;continue}n[t].v!=13&&n[t].v!=0&&(a=n[t].aq(),a>w&&(n[t].v=13,p=n[t].ao(),n[t].R=n[t].ay+a,n[t].a3(p)))}for(r=this.T(0),r.v=y==11?21:20,r.C=[],t=0;t<n.length;t++){e=t;while(e>0&&n[e-1].v==0)e--;u=t;while(u<n.length-1&&n[u+1].v!=11&&n[u+1].v!=10)u++;if(e==u)r.C.push(this.T().V(n[t]));else{for(v=!1,s=this.bw.as(),i=e;i<=u;i++)h=n[i],s.x(h.E.substr(h.R,h.N)),s.x("\n"),n[i].v==0&&(v=!0);f=this.T(),f.v=19,f.ay=n[e].ay,l=new o(this.bw),l.bx=y,f.C=l.aH(s.bh());if(!v)for(i=0;i<f.C.length;i++)c=f.C[i],c.v==12&&(c.v=17);r.C.push(f)}t=u}return r.ay=r.C[0].ay,this.aj(n),n.length=0,r},n.G=function(n){for(var s,e,i,r,u,f,t=1;t<n.length;t++)if(n[t].v==12&&(n[t-1].v==12||n[t-1].v==25)){n[t-1].a3(n[t].ao()),this.ai(n[t]),n.splice(t,1),t--;continue}s=n[0].X;if(n.length==1&&!s)return e=n[0],n.length=0,e;for(i=this.bw.as(),t=0;t<n.length;t++)r=n[t],i.x(r.E.substr(r.R,r.N)),i.x("\n");return u=this.T(n[0].ay),u.v=25,f=new o(this.bw),f.bx=25,u.C=f.aH(i.bh()),this.aj(n),n.length=0,u},n.I=function(n){for(var i=null,t=0;t<n.length;t++)switch(n[t].v){case 26:case 25:i==null&&(i=this.T(n[t].ay),i.v=27,i.C=[],n.splice(t,0,i),t++),i.C.push(n[t]),n.splice(t,1),t--;break;default:i=null}},n.L=function(n){for(var r,u,f,i,t=1;t<n.length;t++)if(n[t].v==12&&(n[t-1].v==12||n[t-1].v==28)){n[t-1].a3(n[t].ao()),this.ai(n[t]),n.splice(t,1),t--;continue}for(r=this.bw.as(),t=0;t<n.length;t++)u=n[t],r.x(u.E.substr(u.R,u.N)),r.x("\n");return f=new o(this.bw),f.bx=28,i=this.T(n[0].ay),i.v=28,i.X=n[0].X,i.C=f.aH(r.bh()),this.aj(n),n.length=0,i},n.aJ=function(n,t){var e=n.by,r,f,u,i;n.az();while(n.H()=="~")n.a5(1);r=n.W();if(r.length<3)return!1;n.a8();if(!n.Y())return!1;n.aZ(),f=n.by;if(!n.Z(r))return!1;if(!ft(n.F(-1)))return!1;return u=n.by,n.a5(r.length),n.a8(),n.Y()?(t.v=18,t.C=[],u--,i=this.T(e),i.v=13,i.E=n.E,i.R=f,i.N=u-f,t.C.push(i),!0):!1},n=rt.prototype,n.ax=!1,n.bk=!1,n.aG=function(n){var i,t;n.a8();if(n.Y())return null;i=this.ax;if(this.ax&&!n.aW("|"))return i=!0,null;t=[];while(!n.Y()){n.az();while(!n.Y()&&n.H()!="|")n.a5(1);t.push(e(n.W())),i|=n.aW("|")}if(!i)return null;while(t.length<this.bp.length)t.push("&nbsp;");return n.aZ(),t},n.aT=function(n,t,i,r){for(var u=0;u<i.length;u++){t.x("\t<"),t.x(r);if(u<this.bp.length)switch(this.bp[u]){case 1:t.x(' align="left"');break;case 2:t.x(' align="right"');break;case 3:t.x(' align="center"')}t.x(">"),n.bz.af(t,i[u]),t.x("</"),t.x(r),t.x(">\n")}},n.l=function(n,t){var i,r;for(t.x("<table>\n"),this.bu!=null&&(t.x("<thead>\n<tr>\n"),this.aT(n,t,this.bu,"th"),t.x("</tr>\n</thead>\n")),t.x("<tbody>\n"),i=0;i<this.bA.length;i++)r=this.bA[i],t.x("<tr>\n"),this.aT(n,t,r,"td"),t.x("</tr>\n");t.x("</tbody>\n"),t.x("</table>\n")},this.Markdown=u,this.HtmlTag=h},MarkdownDeepEditor=new function(){function o(n,t){return n.substr(0,t.length)==t}function v(n,t){return n.substr(-t.length)==t}function i(n){return n==" "||n=="\t"||n=="\r"||n=="\n"}function r(n){return n=="\r"||n=="\n"}function e(n){var t=0,r=n.length;while(t<r&&i(n.charAt(t)))t++;while(r-1>t&&i(n.charAt(r-1)))r--;return n.substr(t,r-t)}function f(n,t,i){n.addEventListener?n.addEventListener(t,i,!1):n.attachEvent&&n.attachEvent("on"+t,i)}function l(n){return n.preventDefault&&n.preventDefault(),n.cancelBubble!==undefined&&(n.cancelBubble=!0,n.keyCode=0,n.returnValue=!1),!1}function u(){}function a(n,t,i,r){return n<t?n:n<t+i?t:n+r-i}function h(n,t){n.setSelectionRange||(s=!0),this.X=null,this.ag=[],this.ae=0,this.ac=3,this.Markdown=new MarkdownDeep.Markdown,this.Markdown.SafeMode=!1,this.Markdown.ExtraMode=!0,this.Markdown.NewWindowForLocalLinks=!0,this.Markdown.NewWindowForExternalLinks=!0,this.aa=n,this.W=t;var i=this;f(n,"keyup",function(){i.H()}),f(n,"keydown",function(n){return i.F(n)}),f(n,"paste",function(){i.H()}),f(n,"input",function(){i.H()}),f(n,"mousedown",function(){i.O(3)}),this.H()}var s=!1,c={Z:"undo",Y:"redo",B:"bold",I:"italic",H:"heading",K:"code",U:"ullist",O:"ollist",Q:"indent",E:"outdent",L:"link",G:"img",R:"hr","0":"h0","1":"h1","2":"h2","3":"h3","4":"h4","5":"h5","6":"h6"},n,t;n=u.prototype,n.D=function(n){var t,r,i;this.aa=n,s?(t=document.selection.createRange(),r=t.duplicate(),r.moveToElementText(n),i=-r.moveStart("character",-1e7),this.Z=-t.moveStart("character",-1e7)-i,this.Y=-t.moveEnd("character",-1e7)-i,this.ad=n.value.replace(/\r\n/gm,"\n")):(this.Z=n.selectionStart,this.Y=n.selectionEnd,this.ad=n.value)},n.u=function(){var n=new u;return n.aa=this.aa,n.Y=this.Y,n.Z=this.Z,n.ad=this.ad,n},n.m=function(){var n,t;s?(this.aa.value=this.ad,this.aa.focus(),n=this.aa.createTextRange(),n.collapse(!0),n.moveEnd("character",this.Y),n.moveStart("character",this.Z),n.select()):(t=this.aa.scrollTop,this.aa.value=this.ad,this.aa.focus(),this.aa.setSelectionRange(this.Z,this.Y),this.aa.scrollTop=t)},n.J=function(n){this.ad=this.ad.substr(0,this.Z)+n+this.ad.substr(this.Y),this.Y=this.Z+n.length},n.I=function(n,t,i){this.ad=this.ad.substr(0,n)+i+this.ad.substr(n+t),this.Z=a(this.Z,n,t,i.length),this.Y=a(this.Y,n,t,i.length)},n.t=function(){return this.ad.substr(this.Z,this.Y-this.Z)},n.C=function(n,t){this.Y+=t,this.Z-=n},n.G=function(n){return this.Z>=n.length&&this.ad.substr(this.Z-n.length,n.length)==n},n.s=function(n){return this.ad.substr(this.Y,n.length)==n},n.U=function(){while(i(this.ad.charAt(this.Z)))this.Z++;while(this.Y>this.Z&&i(this.ad.charAt(this.Y-1)))this.Y--},n.E=function(n){return n==0||r(this.ad.charAt(n-1))},n.p=function(n){while(n>0&&!r(this.ad.charAt(n-1)))n--;return n},n.r=function(n){while(n<this.ad.length&&!r(this.ad.charAt(n)))n++;return n},n.w=function(n){return this.P(this.r(n))},n.T=function(n){while(n<this.ad.length&&i(this.ad.charAt(n)))n++;return n},n.P=function(n){return this.ad.substr(n,2)=="\r\n"?n+2:r(this.ad.charAt(n))?n+1:n},n.R=function(n){return n>2&&this.ad.substr(n-2,2)=="\r\n"?n-2:n>1&&r(this.ad.charAt(n-1))?n-1:n},n.M=function(){this.Z=this.p(this.Z),this.E(this.Y)||(this.Y=this.P(this.r(this.Y)))},n.S=function(n){while(n>0&&i(this.ad.charAt(n-1)))n--;return n},n.Q=function(n){while(i(this.ad.charAt(n)))n++;return n},n.L=function(){this.Z=this.S(this.Z),this.Y=this.Q(this.Y)},n.o=function(){var t=this.t(),n=t.match(/\n[ \t\r]*\n/);return n?(alert("Please make a selection that doesn't include a paragraph break"),!1):!0},n.B=function(n){for(var f=this.ad.length,u,t=n;t<f;t++){u=this.ad[t];if(r(u))return!0;if(!i(this.ad.charAt(t)))return!1}return!0},n.y=function(n){var i=n,t;n=this.p(n);if(this.B(n))return n;while(n>0){t=this.p(this.R(n));if(t==0)break;if(this.B(t))break;n=t}if(this.q(n).af!=0){n=this.p(i);while(n>0){if(this.q(n).af!=0)return n;n=this.p(this.R(n))}}return n},n.v=function(n){while(n<this.ad.length){if(this.B(n))break;n=this.w(n)}return n},n.K=function(){this.Z=this.y(this.Z),this.Y=this.v(this.Z)},n.q=function(n){var i=this.ad.substr(n,10),t=i.match(/^\s{0,3}(\*|\d+\.)(?:\ |\t)*/);return t?t[1]=="*"?{ab:"*",af:t[0].length}:{ab:"1",af:t[0].length}:{ab:"",af:0}},n=h.prototype,t=h.prototype,n.F=function(n){var t=null,r=!0,i;if(n.ctrlKey||n.metaKey){i=String.fromCharCode(n.charCode||n.keyCode);if(!this.disableShortCutKeys&&c[i]!=undefined)return this.InvokeCommand(c[i]),l(n);switch(i){case"V":t=1;break;case"X":t=2}}else switch(n.keyCode){case 9:if(this.disableTabHandling)t=1;else return this.InvokeCommand(n.shiftKey?"untab":"tab"),l(n);break;case 37:case 39:case 38:case 40:case 36:case 35:case 33:case 34:t=3;break;case 8:case 46:t=2;break;case 13:t=4;break;default:t=1}t!=null&&this.O(t),this.disableAutoIndent||n.keyCode==13&&(!s||n.ctrlKey)&&this.IndentNewLine()},n.O=function(n){if(this.ac==n)return;this.ac=n,this.n()},n.n=function(){var n=new u;n.D(this.aa),this.ag.splice(this.ae,this.ag.length-this.ae,n),this.ae=this.ag.length},n.H=function(){var t=this.aa.value,i;if(t===this.X&&this.X!==null)return;if(this.onPreTransform)this.onPreTransform(this,t);i=this.Markdown.Transform(t);if(this.onPostTransform)this.onPostTransform(this,i);this.W&&(this.W.innerHTML=i);if(this.onPostUpdateDom)this.onPostUpdateDom(this);this.X=t},t.onOptionsChanged=function(){this.X=null,this.H()},t.cmd_undo=function(){this.ae>0&&(this.ae==this.ag.length&&(this.n(),this.ae--),this.ae--,this.ag[this.ae].m(),this.ac=0,this.H())},t.cmd_redo=function(){this.ae+1<this.ag.length&&(this.ae++,this.ag[this.ae].m(),this.ac=0,this.H(),this.ae==this.ag.length-1&&this.ag.pop())},n.N=function(n,t){var i,f,r,u,s,o,h;n.K(),n.L(),i=n.t(),i=e(i),f=0,r=i.match(/^(\#+)(.*?)(\#+)?$/),r?(i=e(r[2]),f=r[1].length):(r=i.match(/^(.*?)(?:\r\n|\n|\r)\s*(\-*|\=*)$/),r?(i=e(r[1]),f=r[2].charAt(0)=="="?1:0):(i=i.replace(/(\r\n|\n|\r)/gm,""),f=0)),t==-1&&(t=(f+1)%4),u=0,s=0;if(t==0){if(i=="Heading")return n.J(""),!0;s=i.length,u=0}else{for(i==""&&(i="Heading"),u=t+1,s=i.length,o="",h=0;h<t;h++)o+="#";i=o+" "+i+" "+o}return i+="\n\n",n.Z!=0&&(i="\n\n"+i,u+=2),n.J(i),n.Z+=u,n.Y=n.Z+s,!0},t.cmd_heading=function(n){return this.N(n,-1)},t.cmd_h0=function(n){return this.N(n,0)},t.cmd_h1=function(n){return this.N(n,1)},t.cmd_h2=function(n){return this.N(n,2)},t.cmd_h3=function(n){return this.N(n,3)},t.cmd_h4=function(n){return this.N(n,4)},t.cmd_h5=function(n){return this.N(n,5)},t.cmd_h6=function(n){return this.N(n,6)},n.x=function(n,t){var r,f,u,h,i,s;for(n.M(),r=n.t().split("\n"),i=0;i<r.length;i++)if(r[i].charAt(0)=="\t"){f="",u=0;while(r[i].charAt(u)=="\t")f+="    ",u++;h=f+r[i].substr(u),r.splice(i,1,h)}if(t===null){for(i=0;i<r.length;i++){if(e(r[i])=="")continue;if(r[i].charAt(0)=="\t"){f="",u=0;while(r[i].charAt(u)=="\t")f+="    ",u++;h=f+r[i].substr(i),r.splice(i,1,h)}if(!o(r[i],"    "))break}t=i!=r.length}for(i=0;i<r.length;i++){if(e(r[i])=="")continue;s=r[i],t?s="    "+r[i]:o(r[i],"\t")?s=r[i].substr(1):o(r[i],"    ")&&(s=r[i].substr(4)),r.splice(i,1,s)}n.J(r.join("\n"))},t.cmd_code=function(n){if(n.Z==n.Y){var t=n.p(n.Z);if(n.B(t))return n.L(),n.J("\n\n    Code\n\n"),n.Z+=6,n.Y=n.Z+4,!0}return n.t().indexOf("\n")<0?(n.U(),n.G("`")&&n.Z--,n.s("`")&&n.Y++,this.k(n,"`")):(this.x(n,null),!0)},t.cmd_tab=function(n){var i,t,r;if(n.t().indexOf("\n")>0)this.x(n,!0);else{for(i=n.p(n.Z),t=i;t<n.Z;t++)if(n.ad.charAt(t)!=" ")break;t==n.Z?(r=4-(t-i)%4,n.J("    ".substr(0,r))):n.J("\t"),n.Z=n.Y}return!0},t.cmd_untab=function(n){return n.t().indexOf("\n")>0?(this.x(n,!1),!0):!1},n.k=function(n,t){var u=n.ad,r=t.length,i=n.t();return o(i,t)&&v(i,t)?n.J(i.substr(r,i.length-r*2)):(n.U(),i=n.t(),i=i?i.replace(/(\r\n|\n|\r)/gm,""):"text",n.J(t+i+t),n.C(-r,-r)),!0},t.cmd_bold=function(n){return n.o()?(n.U(),n.G("**")&&(n.Z-=2),n.s("**")&&(n.Y+=2),this.k(n,"**")):!1},t.cmd_italic=function(n){return n.o()?(n.U(),(n.G("*")&&!n.G("**")||n.G("***"))&&(n.Z-=1),(n.s("*")&&!n.G("**")||n.s("***"))&&(n.Y+=1),this.k(n,"*")):!1},n.A=function(n,t){var r,i,u;if(!1&&n.Z==n.Y)return n.L(),n.J("\n\n> Quote\n\n"),n.Z+=4,n.Y=n.Z+5,!0;for(n.M(),r=n.t().split("\n"),i=0;i<r.length-1;i++)u=r[i],t?o(r[i],"> ")&&(u=r[i].substr(2)):u="> "+r[i],r.splice(i,1,u);return n.J(r.join("\n")),!0},t.cmd_indent=function(n){return this.A(n,!1)},t.cmd_outdent=function(n){return this.A(n,!0)},n.z=function(n,t){var f=[],c,u,h,r,o,i,e,l,s;if(n.t().indexOf("\n")>0){n.M(),u=n.Z,f.push(u);for(;;){u=n.w(u);if(u>=n.Y)break;f.push(u)}}else f.push(n.p(n.Z));for(c=t=="*"?"* ":"1. ",i=0;i<f.length;i++){e=n.q(f[i]);if(e.ab==t){c="";break}}for(i=f.length-1;i>=0;i--)u=f[i],e=n.q(u),n.I(u,e.af,c);h=new MarkdownDeep.Markdown,h.ExtraMode=!0,r=h.GetListItems(n.ad,n.Z);while(r!=null){for(o=0,i=0;i<r.length-1;i++){e=n.q(r[i]+o);if(e.ab!="1")break;l=(i+1).toString()+". ",n.I(r[i]+o,e.af,l),o+=l.length-e.af}s=h.GetListItems(n.ad,r[r.length-1]+o),r=s!=null&&s[0]!=r[0]?s:null}return f.length>1&&n.M(),!0},t.cmd_ullist=function(n){return this.z(n,"*")},t.cmd_ollist=function(n){return this.z(n,"1")},t.cmd_link=function(n){var i,t,r;n.U();if(!n.o())return!1;return i=prompt("Enter the target URL:"),i===null?!1:(t=n.t(),t.length==0&&(t="link text"),r="["+t+"]("+i+")",n.J(r),n.Z++,n.Y=n.Z+t.length,!0)},t.cmd_img=function(n){var i,t,r;n.U();if(!n.o())return!1;return i=prompt("Enter the image URL"),i===null?!1:(t=n.t(),t.length==0&&(t="Image Text"),r="!["+t+"]("+i+")",n.J(r),n.Z+=2,n.Y=n.Z+t.length,!0)},t.cmd_hr=function(n){return n.L(),n.Z==0?n.J("----------\n\n"):n.J("\n\n----------\n\n"),n.Z=n.Y,!0},t.IndentNewLine=function(){var i=this,n,t=function(){var t,f,r,e;window.clearInterval(n),t=new u,t.D(i.aa),f=t.p(t.R(t.Z)),r=f;for(;;){e=t.ad.charAt(r);if(e!=" "&&e!="\t")break;r++}r>f&&(t.J(t.ad.substr(f,r-f)),t.Z=t.Y),t.m()};return n=window.setInterval(t,1),!1},t.cmd_indented_newline=function(n){var i,t,r;n.J("\n"),n.Z=n.Y,i=n.p(n.R(n.Z)),t=i;for(;;){r=n.ad.charAt(t);if(r!=" "&&r!="\t")break;t++}return t>i&&(n.J(n.ad.substr(i,t-i)),n.Z=n.Y),!0},t.InvokeCommand=function(n){var t,i;if(n=="undo"||n=="redo"){this["cmd_"+n](),this.aa.focus();return}return t=new u,t.D(this.aa),i=t.u(),this["cmd_"+n](t)?(this.ac=0,this.ag.splice(this.ae,this.ag.length-this.ae,i),this.ae++,t.m(),this.H(),!0):(this.aa.focus(),!1)},delete n,delete t,this.Editor=h},MarkdownDeepEditorUI=new function(){this.HelpHtmlWritten=!1,this.HelpHtml=function(n){var t="";return t+='<div class="mdd_modal" id="mdd_syntax_container" style="display:none">\n',t+='<div class="mdd_modal_frame">\n',t+='<div class="mdd_modal_button">\n',t+='<a href="'+n+'" id="mdd_help_location" style="display:none"></a>\n',t+='<a href="#" id="mdd_close_help">Close</a>\n',t+="</div>\n",t+='<div class="mdd_modal_content">\n',t+='<div class="mdd_syntax" id="mdd_syntax">\n',t+='<div class="mdd_ajax_loader"></div>\n',t+="</div>\n",t+="</div>\n",t+="</div>\n",t+="</div>\n"},this.ToolbarHtml=function(){var n="";return n+='<div class="mdd_links">\n',n+='<a href="#" class="mdd_help" tabindex=-1>How to Format</a>\n',n+="</div>\n",n+="<ul>\n",n+='<li><a href="#" class="mdd_button" id="mdd_undo" title="Undo (Ctrl+Z)" tabindex=-1></a></li>\n',n+='<li><a href="#" class="mdd_button" id="mdd_redo" title="Redo (Ctrl+Y)" tabindex=-1></a></li>\n',n+='<li><span class="mdd_sep"></span></li>\n',n+='<li><a href="#" class="mdd_button" id="mdd_heading" title="Change Heading Style (Ctrl+H, or Ctrl+0 to Ctrl+6)" tabindex=-1></a></li>\n',n+='<li><a href="#" class="mdd_button" id="mdd_code" title="Preformatted Code (Ctrl+K or Tab/Shift+Tab on multiline selection)" tabindex=-1></a></li>\n',n+='<li><span class="mdd_sep"></span></li>\n',n+='<li><a href="#" class="mdd_button" id="mdd_bold" title="Bold (Ctrl+B)" tabindex=-1></a></li>\n',n+='<li><a href="#" class="mdd_button" id="mdd_italic" title="Italic (Ctrl+I)" tabindex=-1></a></li>\n',n+='<li><span class="mdd_sep"></span></li>\n',n+='<li><a href="#" class="mdd_button" id="mdd_ullist" title="Bullets (Ctrl+U)" tabindex=-1></a></li>\n',n+='<li><a href="#" class="mdd_button" id="mdd_ollist" title="Numbering (Ctrl+O)" tabindex=-1></a></li>\n',n+='<li><a href="#" class="mdd_button" id="mdd_outdent" title="Unquote (Ctrl+W)" tabindex=-1></a></li>\n',n+='<li><a href="#" class="mdd_button" id="mdd_indent" title="Quote (Ctrl+Q)" tabindex=-1></a></li>\n',n+='<li><span class="mdd_sep"></span></li>\n',n+='<li><a href="#" class="mdd_button" id="mdd_link" title="Insert Hyperlink (Ctrl+L)" tabindex=-1></a></li>\n',n+='<li><a href="#" class="mdd_button" id="mdd_img" title="Insert Image (Ctrl+G)" tabindex=-1></a></li>\n',n+='<li><a href="#" class="mdd_button" id="mdd_hr" title="Insert Horizontal Rule (Ctrl+R)" tabindex=-1></a></li>\n',n+="</ul>\n",n+='<div style="clear:both"></div>\n'},this.onResizerMouseDown=function(n){function i(){return $(document).unbind("mousemove.mdd"),$(document).unbind("mouseup.mdd"),!1}function r(n){var i=f+n.clientY-u;return i<50&&(i=50),$(t).height(i),!1}var t=$(n.srcElement).prevAll("textarea")[0],u=n.clientY,f=$(t).height();return $(document).bind("mousemove.mdd",r),$(document).bind("mouseup.mdd",i),!1};var t=0,n=!1;this.onShowHelpPopup=function(){$("#mdd_syntax_container").fadeIn("fast"),$(".modal_content").scrollTop(t),$(document).bind("keydown.mdd",function(n){if(n.keyCode==27)return MarkdownDeepEditorUI.onCloseHelpPopup(),!1});if(!n){n=!0;var i=$("#mdd_help_location").attr("href");i||(i="mdd_help.htm"),$("#mdd_syntax").load(i)}return!1},this.onCloseHelpPopup=function(){return t=$(".modal_content").scrollTop(),$("#mdd_syntax_container").fadeOut("fast"),$(document).unbind("keydown.mdd"),$(document).unbind("scroll.mdd"),!1},this.onToolbarButton=function(n){var t=$(n.target).closest("div.mdd_toolbar").nextAll("textarea.mdd_editor").data("mdd");return t.InvokeCommand($(n.target).attr("id").substr(4)),!1}};(function(n){n.fn.MarkdownDeep=function(t){var i={resizebar:!1,toolbar:!0,help_location:"mdd_help.html"};return t&&n.extend(i,t),this.each(function(){var u,s,r,o,e,f;i.toolbar&&(u=n(this).prev(".mdd_toolbar"),u.length==0?(u=n('<div class="mdd_toolbar">'+MarkdownDeepEditorUI.ToolbarHtml()+"</div>"),u.insertBefore(this)):u.append(n(MarkdownDeepEditorUI.ToolbarHtml())),n("a.mdd_button",u).click(MarkdownDeepEditorUI.onToolbarButton),n("a.mdd_help",u).click(MarkdownDeepEditorUI.onShowHelpPopup),MarkdownDeepEditorUI.HelpHtmlWritten||(s=n(MarkdownDeepEditorUI.HelpHtml(i.help_location)),s.appendTo(n("body")),n("#mdd_close_help").click(MarkdownDeepEditorUI.onCloseHelpPopup),MarkdownDeepEditorUI.HelpHtmlWritten=!0)),i.resizebar&&(r=n(this).next(".mdd_resizer"),r.length==0&&(r=n('<div class="mdd_resizer"></div>'),r.insertAfter(this)),r.bind("mousedown",MarkdownDeepEditorUI.onResizerMouseDown)),o=n(this).attr("data-mdd-preview"),o||(o=".mdd_preview"),e=n(o)[0],e||(n('<div class="mdd_preview"></div>').insertAfter(r?r:this),e=n(".mdd_preview")[0]),f=new MarkdownDeepEditor.Editor(this,e),t&&(jQuery.extend(f.Markdown,t),jQuery.extend(f,t)),f.onOptionsChanged(),n(this).data("mdd",f)})}})(jQuery),$(document).ready(function(){$("#nav_documentation").addClass("active"),$("li.ml2").click(function(){var n=$(this).attr("data-target");$("doc-body").html('<div style="width:100%; height:200px; text-align:center"><img src="../../Content/glyphs/spinner.gif" /></div>'),$.ajax({url:"/Documentation/_Details/",data:{id:parseInt(n)},success:function(n){n.Object==="Guides"?$("#doc-title").text(n.Title):n.Object!==n.Name?$("#doc-title").text(n.Object+"."+n.Name):$("#doc-title").text(n.Object+" Constructor");var t=new MarkdownDeep.Markdown;t.ExtraMode=!0,t.MarkdownInHtml=!0,$("#doc-body").html(t.Transform(n.Body))}})})}),_gaq=_gaq||[],_gaq.push(["_setAccount","UA-27831838-1"]),_gaq.push(["_setDomainName","cloudlab.io"]),_gaq.push(["_trackPageview"]),function(){var n=document.createElement("script"),t;n.type="text/javascript",n.async=!0,n.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js",t=document.getElementsByTagName("script")[0],t.parentNode.insertBefore(n,t)}()